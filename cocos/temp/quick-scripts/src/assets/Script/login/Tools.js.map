{"version":3,"sources":["assets\\Script\\login\\Tools.js"],"names":["cc","Class","Component","properties","server_type","Node","server_name","sprite_server_login","Button","initInfo","info","self","loader","loadRes","SpriteFrame","err","spriteFrame","node","getComponent","Sprite","Label","string","getChildByName","color","bindClickEvent","button","index","clickEventHandler","EventHandler","target","component","handler","customEventData","clickEvents","push","onConfirBtn","e","str","parent","active"],"mappings":"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","sourceRoot":"/","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        server_type: cc.Node,\r\n        server_name: cc.Node,\r\n        sprite_server_login: cc.Button\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    initInfo (info) {\r\n        // 初始化该道具相关信息\r\n\r\n        // 图片\r\n        var self = this;\r\n        \r\n        if(info['picUrl']){\r\n            cc.loader.loadRes(info['picUrl'], cc.SpriteFrame, function (err, spriteFrame) {\r\n                self.node.getComponent(cc.Sprite).spriteFrame = spriteFrame; \r\n            });\r\n        }\r\n     \r\n        // this.server_type.getComponent(cc.Label).string=info['type'];\r\n        if(info['num']<100){\r\n            this.server_type.getComponent(cc.Label).string='空闲';\r\n            this.node.getChildByName('server_type').color = new cc.color('green');\r\n        }else if(info['num']<500&&info['num']>=100){\r\n            this.server_type.getComponent(cc.Label).string='流畅';\r\n            this.node.getChildByName('server_type').color = new cc.color('#BDFF00');\r\n        }else if(info['num']<1000&&info['num']>=500){\r\n            this.server_type.getComponent(cc.Label).string='拥挤';\r\n            this.node.getChildByName('server_type').color = new cc.color('#FFD100');\r\n        }else{\r\n            this.server_type.getComponent(cc.Label).string='爆满';\r\n            this.node.getChildByName('server_type').color = new cc.color('#FF0000'); \r\n        }    \r\n\r\n        this.server_name.getComponent(cc.Label).string= info['id']+'区  -  '+info['name'];\r\n        //创建一个新button 并将其挂载到创建的精灵下\r\n        this.bindClickEvent( this.sprite_server_login.getComponent(cc.Button), info['id']);\r\n    },\r\n    // 绑定按钮事件\r\n    bindClickEvent: function (button, index) {\r\n        // console.log(index)\r\n        var clickEventHandler = new cc.Component.EventHandler();\r\n        //这个 node 节点是你的事件处理代码组件所属的节点\r\n        clickEventHandler.target = this.node; \r\n        //这个是代码文件名\r\n        clickEventHandler.component = \"Tools\";  // js脚本文件-绑定\r\n        clickEventHandler.handler = \"onConfirBtn\";// js方法名称--绑定\r\n        clickEventHandler.customEventData = index; // 回调内容\r\n        button.clickEvents.push(clickEventHandler);\r\n    },\r\n \r\n\r\n    //按钮点击回调\r\n    onConfirBtn:function(e,str){\r\n        // console.log(this.node.getSiblingIndex())\r\n\r\n        // console.log( this.node.getChildByName('mask'))\r\n   \r\n        this.node.parent.active=false;\r\n        // this.node.active =false;\r\n        // var _this = this\r\n        // // this.gridLayout.active=false;\r\n        // _this.gridLayout.active =false;\r\n        // console.log(e);\r\n        // cc.log(str)  //test2\r\n        // console.log(str);\r\n        // this.node.getChildByName(\"sprite_server_login\").on('click',function(event){\r\n        //     console.log(\"点击到按钮\");\r\n        //     callback();\r\n        // },this);\r\n        // this.node.active =false; // 直接去掉模型节点\r\n    },\r\n \r\n    \r\n});\r\n"]}