{"version":3,"sources":["assets\\Script\\场景\\home_word.js"],"names":["cc","Class","Component","properties","onLoad","httpRequestModel","model_back_button","httpRequestBagApi","http_music","model_fighting_word","http_globalData","BoxPrefab_content","find","spawnTools","_this","httpRequest","httpPost","data","searchHidden","TOOLS","total","showWord","searchShow","info","removeBoxprefab","BoxPrefab","biology_detail_list","addWord","length","addTouchEvent","node_1","on","Node","EventType","TOUCH_START","touchStart","TOUCH_MOVE","touchMove","TOUCH_END","touchEnd","outWord","backHome","playGame","active","TipBoxPrefab_model","info_list","prop","TipBoxPrefab_icon","instantiate","http_globalAsset","image","picture","getChildByName","getComponent","Sprite","spriteFrame","http_base_asset_word","color","type_color","star","i","Label","string","name","type_name","onConfirBtn","addChild","id"],"mappings":"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","sourceRoot":"/","sourcesContent":["// require(\"../common\"); \r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n    },\r\n    async onLoad () {\r\n      await httpRequestModel.model_back_button('sence_dating')//返回按钮\r\n      await httpRequestBagApi.http_music()\r\n      await httpRequestModel.model_fighting_word();  // 引入 战斗模型model\r\n      http_globalData.BoxPrefab_content = cc.find('Canvas/大厅/content')\r\n      this.spawnTools()\r\n    },\r\n    spawnTools () {\r\n      var _this =this;\r\n      httpRequest.httpPost('/app/app-apiword/index',{}, function (data) {\r\n          if(data.data){\r\n            _this.searchHidden()\r\n            var TOOLS = [data.data];\r\n            var total = 1;\r\n            _this.showWord(TOOLS,total)\r\n          }else{\r\n            _this.searchShow()\r\n          }\r\n      })\r\n    },\r\n    showWord(info,total){\r\n      var _this =this;\r\n      //移除节点\r\n      httpRequestModel.removeBoxprefab()\r\n      //技能图标挂载\r\n      var BoxPrefab =http_globalData.BoxPrefab_content\r\n      // BoxPrefab.getComponent('wordTools').biology_detail_list(BoxPrefab,info)\r\n      this.biology_detail_list(BoxPrefab,info)\r\n    },\r\n    addWord(){\r\n      var _this =this;\r\n      httpRequest.httpPost('/app/app-apiword/rand-word',{},function (data) {\r\n        var TOOLS = data.data;\r\n        var total = data.data.length;\r\n        _this.showWord(TOOLS,total)\r\n      })\r\n    },\r\n    addTouchEvent(node_1) {\r\n        node_1.on(cc.Node.EventType.TOUCH_START, this.touchStart, this);\r\n        node_1.on(cc.Node.EventType.TOUCH_MOVE, this.touchMove, this);\r\n        node_1.on(cc.Node.EventType.TOUCH_END, this.touchEnd, this);\r\n    },\r\n    outWord(){\r\n        //移除节点\r\n        var _this = this;\r\n        httpRequestModel.removeBoxprefab()\r\n        _this.searchShow()\r\n        httpRequest.httpPost('/app/app-apiword/out-word',{},function (data) {\r\n          \r\n        })\r\n      },\r\n    backHome(){\r\n        //移除节点\r\n        // var _this = this;\r\n        httpRequestModel.removeBoxprefab()\r\n        httpRequest.playGame(\"sence_dating\")\r\n    },\r\n    searchShow(){\r\n      cc.find(\"Canvas/大厅/探索世界\").active = true;\r\n      cc.find(\"Canvas/大厅/退出世界\").active = false;\r\n    },\r\n    searchHidden(){\r\n      cc.find(\"Canvas/大厅/探索世界\").active = false;\r\n      cc.find(\"Canvas/大厅/退出世界\").active = true;\r\n    },\r\n    //技能图片渲染\r\n    biology_detail_list(TipBoxPrefab_model,info_list){\r\n        var _this =this;\r\n        var TOOLS =[];\r\n        var TOOLS = info_list;\r\n        //开始实例化预制资源\r\n        for (var prop in info_list) {\r\n            //声明节点对象\r\n            let TipBoxPrefab_icon =  cc.instantiate(http_globalAsset.model_fighting_word);\r\n            let info = TOOLS[prop];\r\n            //放在资源下面\r\n            let image = info.picture;\r\n            TipBoxPrefab_icon.getChildByName('世界').getComponent(cc.Sprite).spriteFrame = http_globalAsset.http_base_asset_word[image]; \r\n            var color = ['#ffffff','green','#BDFF00','#FFD100','#FF0000','#ffe000',];\r\n            var type_color = color[info['type']];\r\n            // console.log(info)\r\n            var star ='';    \r\n            for(var i=0;i<=info['star'];i++){\r\n                star +='⭐';\r\n            }\r\n            TipBoxPrefab_icon.getChildByName('名称').getComponent(cc.Label).string=info.name;\r\n            TipBoxPrefab_icon.getChildByName('名称').color = new cc.color(type_color);\r\n            TipBoxPrefab_icon.getChildByName('世界等级').getComponent(cc.Label).string= info.type_name;\r\n            TipBoxPrefab_icon.getChildByName('世界等级').color = new cc.color(type_color);\r\n            TipBoxPrefab_icon.getChildByName('星级').getComponent(cc.Label).string= star;\r\n            //创建一个新button 并将其挂载到创建的精灵下\r\n            _this.onConfirBtn(TipBoxPrefab_icon,info);\r\n            //写入icon\r\n            TipBoxPrefab_model.addChild(TipBoxPrefab_icon);\r\n        }\r\n        return TipBoxPrefab_model\r\n    },\r\n    //按钮点击回调\r\n    onConfirBtn:function(TipBoxPrefab_icon,info){\r\n        var _this =this;\r\n        TipBoxPrefab_icon.on('click', function () {\r\n            httpRequest.httpPost('/app/app-apiword/in-word', {\r\n                'wordid': info.id,\r\n                'star': info.star,\r\n            }, function (data) {\r\n                //跳转到世界\r\n                httpRequest.playGame(\"sence_ditu\")\r\n            })\r\n        })\r\n    },\r\n});\r\n"]}