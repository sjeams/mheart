{"version":3,"sources":["assets\\Script\\commonApi\\figthingExtend.js"],"names":["httpFightingExtend","cc","Class","sudu","num","http_globalData","user_info","beishu","alertBoat","boat","_this","find","getComponent","Label","string","Promise","resolve","runAction","sequence","scaleTo","delayTime","callFunc","playTips","node","biology","is_skill","descript_go_msg","actionMdel","getChildByName","active","opacity","actionBig","playReady","extend","hurt_go_value","actionBig_show","wuxing_floor","Math","floor","xingxing","playAction","playMove","move_node","hurt_msg","actionhiddenSmoll","spawn","moveBy","v2","fadeIn","actionhiddenBig","fadeOut","skill","xiaoguo","loader","loadRes","SpriteFrame","err","texture","error","Sprite","spriteFrame","progressBar","ProgressBar","progress","moFa","completeCount","totalCount","shengMing","hurt_go","is_baoji","is_my","setScale","buttonSkill","buttonReady","blink","buttonMove","m_node","arr","m_x","m_y","m_x_move","x","y","actionLeft","is_shanbi","buttonMoveOut","buttonShake","actionRight","position_my","actionRightSecond","httpRequestFightingExtend"],"mappings":"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","sourceRoot":"/","sourcesContent":[" const httpFightingExtend = cc.Class({\r\n  //倍速\r\n  sudu(num){\r\n    //设置倍数\r\n    //速度越快，值越小\r\n    if(http_globalData.user_info.beishu>1){\r\n      return  (1/http_globalData.user_info.beishu)*num\r\n    }else{\r\n      return  num\r\n    }\r\n  },\r\n  async alertBoat(boat){\r\n    var _this =this;\r\n    if(cc.find('Canvas/大厅/time').getComponent(cc.Label).string!=boat){\r\n      cc.find('Canvas/大厅/time').getComponent(cc.Label).string = boat \r\n      return new Promise(resolve => { cc.find('Canvas/大厅/time').runAction(  cc.sequence(cc.scaleTo(0.3, 2, 2),cc.scaleTo(0.3, 1,1),cc.delayTime(_this.sudu(0.8)),cc.callFunc(function(){  resolve() },this)));//建一个缩放到1.5倍大小的动作，持续时间2秒\r\n      }) \r\n    }\r\n  },\r\n  //提示动作\r\n  playTips(node,biology,is_skill){\r\n    var _this =this;\r\n    //技能名称\r\n    if(biology.descript_go_msg!=''){\r\n \r\n \r\n        _this.actionMdel(node.getChildByName('技能s'),biology.descript_go_msg)\r\n\r\n        node.getChildByName('技能背景').active=true\r\n        node.getChildByName('技能背景').opacity=255\r\n        // node.getChildByName('技能背景').runAction( cc.sequence(cc.fadeIn(_this.sudu(0.01)),cc.scaleTo(_this.sudu(0.1), 1.2, 1.2),cc.delayTime(_this.sudu(1)),cc.scaleTo(_this.sudu(0.3), 1, 1),cc.fadeOut(0.1),cc.moveBy(_this.sudu(0.01),cc.v2(0,0)),cc.callFunc(function(){  node.getChildByName('技能背景').active=false;  },this)));\r\n        _this.actionBig(node.getChildByName('技能背景'))\r\n\r\n    }\r\n  },\r\n  // 准备动作--悟性-治疗-中毒-冰冻-眩晕 持续伤害--回合前结算等\r\n  playReady(node,biology){\r\n    var _this =this;\r\n    if(biology.extend=='wuXingTotal'){\r\n        node.getChildByName('悟性s').getComponent(cc.Label).string= biology.hurt_go_value%100;  //除100 取余\r\n        // node.getChildByName('悟性s').runAction(cc.sequence(cc.fadeIn(_this.sudu(0.01)),cc.scaleTo(_this.sudu(0.1), 1.2, 1.2),cc.delayTime(_this.sudu(1)),cc.scaleTo(_this.sudu(0.3), 1, 1),cc.callFunc(function(){   },this)));\r\n        _this.actionBig_show(node.getChildByName('悟性s'))\r\n        node.getChildByName('悟性动作').active=true\r\n        node.getChildByName('悟性动作').opacity=255\r\n        // node.getChildByName('悟性动作').runAction(cc.sequence(cc.fadeIn(_this.sudu(0.01)),cc.scaleTo(0.3, 1.2, 1.2),cc.fadeOut(0.5),cc.scaleTo(_this.sudu(0.1), 1, 1),cc.callFunc(function(){  node.getChildByName('悟性动作').active=false  \r\n        // },this)));\r\n        _this.actionBig(node.getChildByName('悟性动作'))\r\n        \r\n        //向下取整\r\n        var wuxing_floor = Math.floor(biology.hurt_go_value/100)\r\n        if(wuxing_floor>0){\r\n          var xingxing =node.getChildByName('悟性星星s').getComponent(cc.Label).string;\r\n          if(xingxing!=wuxing_floor){\r\n            node.getChildByName('悟性星星').active=true\r\n            node.getChildByName('悟性星星s').active=true\r\n            node.getChildByName('悟性星星s').getComponent(cc.Label).string= wuxing_floor;\r\n            // node.getChildByName('悟性星星s').runAction(cc.sequence(cc.fadeIn(_this.sudu(0.01)),cc.scaleTo(_this.sudu(0.1), 1.2, 1.2),cc.delayTime(_this.sudu(1)),cc.scaleTo(_this.sudu(0.3), 1, 1),cc.callFunc(function(){   },this))); \r\n            // node.getChildByName('悟性星星').runAction(cc.sequence(cc.fadeIn(_this.sudu(0.01)),cc.scaleTo(_this.sudu(0.1), 1.2, 1.2),cc.delayTime(_this.sudu(1)),cc.scaleTo(_this.sudu(0.3), 1, 1),cc.callFunc(function(){   },this))); \r\n            _this.actionBig_show(node.getChildByName('悟性星星'))\r\n            _this.actionBig_show(node.getChildByName('悟性星星s'))\r\n          }\r\n        }\r\n    }\r\n\r\n  },\r\n  //攻击动作\r\n  async playAction(node,biology,is_skill){ \r\n    var _this =this;\r\n    _this.playTips(node,biology) //发动提示\r\n    _this.playMove(node,biology,is_skill) //发动技能\r\n    _this.playReady(node,biology) //检查悟性\r\n  },\r\n \r\n  actionMdel(move_node,hurt_msg){\r\n    var _this=this;\r\n    move_node.getComponent(cc.Label).string= hurt_msg\r\n    move_node.active=true\r\n    move_node.opacity=255\r\n    const actionhiddenSmoll = cc.spawn(cc.moveBy(_this.sudu(0.5),cc.v2(0,40)),cc.fadeIn(_this.sudu(0.1)),cc.scaleTo(_this.sudu(0.5),1.5,1.5))\r\n    const actionhiddenBig   = cc.spawn(cc.moveBy(_this.sudu(1),cc.v2(0,-40)),cc.scaleTo(_this.sudu(1),1,1),cc.delayTime(_this.sudu(1)))\r\n    move_node.runAction(cc.sequence(actionhiddenSmoll,actionhiddenBig,cc.fadeOut(_this.sudu(0.1)),cc.callFunc(function(){  move_node.active=false },this)));\r\n  },\r\n  // 隐藏\r\n  actionBig(move_node){\r\n    var _this=this;\r\n    const actionhiddenSmoll = cc.spawn(cc.fadeIn(_this.sudu(0.1)),cc.scaleTo(_this.sudu(0.5),1.5,1.5))\r\n    const actionhiddenBig   = cc.spawn(cc.scaleTo(_this.sudu(1),1,1),cc.delayTime(_this.sudu(1)))\r\n    move_node.runAction(cc.sequence(actionhiddenSmoll,actionhiddenBig,cc.fadeOut(_this.sudu(0.1)),cc.callFunc(function(){  move_node.active=false },this)));\r\n  },\r\n//显示\r\n  actionBig_show(move_node){\r\n    var _this=this;\r\n    const actionhiddenSmoll = cc.spawn(cc.fadeIn(_this.sudu(0.1)),cc.scaleTo(_this.sudu(0.5),1.5,1.5))\r\n    const actionhiddenBig   = cc.spawn(cc.scaleTo(_this.sudu(1),1,1),cc.delayTime(_this.sudu(1)))\r\n    move_node.runAction(cc.sequence(actionhiddenSmoll,actionhiddenBig,cc.callFunc(function(){   },this)));\r\n  },\r\n\r\n  //行动--技能攻击 和 普通攻击\r\n  playMove(node,biology,is_skill){\r\n      var _this =this;\r\n      //攻击动作\r\n      //技能--攻击动画\r\n      if(is_skill!=0){\r\n        //有效果图片才会进来\r\n        if(biology.skill.xiaoguo!=''){\r\n          cc.loader.loadRes('图标技能效果/'+biology.skill.xiaoguo, cc.SpriteFrame, function (err, texture) { \r\n            if(err){\r\n                  cc.error(err);\r\n                  return;\r\n            }\r\n            node.getChildByName('技能效果').getComponent(cc.Sprite).spriteFrame = texture; \r\n            node.getChildByName('技能效果').active=true\r\n            node.getChildByName('技能效果').opacity=255\r\n            _this.actionBig(node.getChildByName('技能效果'))\r\n          });\r\n        }\r\n      // node.getChildByName('技能效果').getComponent(cc.Sprite).spriteFrame =  new cc.SpriteFrame(cc.loader.getRes('图标技能效果/'+biology.skill.xiaoguo));\r\n      }\r\n\r\n      if(biology.extend=='moFa'){\r\n        // cc.log(biology.hurt_msg)\r\n        // cc.log(biology)\r\n        // node.getChildByName('扣血s').color = new cc.color('#3568D5');\r\n        // node.getChildByName('魔法s').getComponent(cc.Label).string= biology.hurt_go_value+'/'+node.moFa\r\n        node.getChildByName('魔法s').getComponent(cc.Label).string= biology.hurt_go_value\r\n        var progressBar = node.getChildByName('魔法').getComponent(cc.ProgressBar)\r\n        progressBar.progress = biology.hurt_go_value / node.moFa\r\n        progressBar.completeCount = biology.hurt_go_value;\r\n        progressBar.totalCount = node.moFa;\r\n        //  耗蓝为0跳过0跳过\r\n        if(biology.hurt_msg<0){\r\n          //扣蓝渐隐\r\n          _this.actionMdel(node.getChildByName('扣蓝s'),biology.hurt_msg)\r\n        }else   if(biology.hurt_msg>0){\r\n          //扣蓝渐隐\r\n          _this.actionMdel(node.getChildByName('加蓝s'),biology.hurt_msg)\r\n        }\r\n\r\n      }\r\n\r\n      if(biology.extend=='shengMing'){\r\n \r\n        //血条动作\r\n        // node.getChildByName('生命s').getComponent(cc.Label).string= biology.hurt_go_value +'/'+ node.shengMing \r\n        node.getChildByName('生命s').getComponent(cc.Label).string= biology.hurt_go_value\r\n        var progressBar = node.getChildByName('生命').getComponent(cc.ProgressBar)\r\n        progressBar.progress = biology.hurt_go_value / node.shengMing\r\n        progressBar.completeCount = biology.hurt_go_value;\r\n        progressBar.totalCount = node.shengMing;\r\n        if(biology.hurt_go>=0){\r\n          //加血渐隐    \r\n          _this.actionMdel(node.getChildByName('加血s'),biology.hurt_msg)\r\n        }else{\r\n        \r\n          //扣血渐隐\r\n          if(biology.is_baoji==1){\r\n            //暴击样式\r\n            _this.actionMdel(node.getChildByName('暴击s'), '暴击'+biology.hurt_msg)\r\n          }else{\r\n            //普通样式\r\n            _this.actionMdel(node.getChildByName('扣血s'),biology.hurt_msg)\r\n          }\r\n          //受伤动画\r\n          node.getChildByName('受伤').active=true\r\n          node.getChildByName('受伤').opacity=255\r\n          node.getChildByName('受伤').runAction(cc.fadeOut(1),cc.callFunc(function(){  node.getChildByName('受伤').active=false },this));\r\n        }\r\n        //死亡\r\n        if(biology.hurt_go_value==0){\r\n          node.getChildByName('悟性').active=false\r\n          node.getChildByName('生命').active=false\r\n          node.getChildByName('魔法').active=false\r\n          node.getChildByName('悟性s').active=false\r\n          node.getChildByName('生命s').active=false\r\n          node.getChildByName('魔法s').active=false\r\n          node.getChildByName('魔法s').active=false\r\n          node.getChildByName('魔法s').active=false\r\n          node.getChildByName('生物').active=false\r\n          node.getChildByName('悟性星星').active=false\r\n          node.getChildByName('悟性星星s').active=false\r\n          // 死亡\r\n          node.getChildByName('死亡').active=true\r\n          // cc.loader.loadRes('biology_pic/1墓碑', function (err, texture) {  \r\n          //   node.getChildByName('受伤').getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(texture);\r\n          // })\r\n          if(node.is_my==0){\r\n            //图片翻转\r\n              node.getChildByName('生物').setScale(-1, 1);\r\n          }\r\n          // cc.log(biology)\r\n          // node.getChildByName('受伤').runAction(cc.fadeIn(1),cc.callFunc(function(){  node.getChildByName('受伤').active=false },this)));\r\n          //金币\r\n          // node.getChildByName('金币s').getComponent(cc.Label).string= '+$'+node.jing_bi\r\n          // node.getChildByName('金币s').active=true\r\n          // node.getChildByName('金币s').opacity=255\r\n          // // node.getChildByName('金币s').runAction(cc.moveBy(3,cc.v2(0,60)));\r\n          // node.getChildByName('金币s').runAction(cc.fadeOut(3),cc.callFunc(function(){  node.getChildByName('金币s').active=false },this)));\r\n          // // node.getChildByName('金币s').runAction(cc.moveBy(_this.sudu(0.01),cc.v2(0,-40)));\r\n        }\r\n      }\r\n\r\n      if(biology.extend=='闪避'){\r\n        _this.actionMdel(node.getChildByName('技能s'), '闪避')\r\n      }\r\n \r\n    },\r\n\r\n\r\n    //准备动作--变大\r\n    async buttonSkill(node,biology,is_skill) {\r\n        return new Promise(resolve => {\r\n        var _this =this;\r\n          // var _this =this\r\n          // var waite_time=waite_time||0\r\n          // cc.blink(_this.sudu(3), 10) //3秒闪烁 10次\r\n          const actionhiddenBig = cc.spawn(cc.scaleTo(_this.sudu(0.5), 1.2, 1.2),cc.delayTime(_this.sudu(1)),cc.callFunc(function(){\r\n            // //等待攻击完成  ---action  里面已经有了 这个悟性，所有这里不用plarredy\r\n            // _this.playReady(node,biology)\r\n            _this.playAction(node,biology,is_skill)\r\n          },this));//变大还原//变大\r\n          // const actionWaite =cc.delayTime(waite_time);//等待攻击时间\r\n          //闪烁\r\n          // const actionhiddenOn = cc.fadeTo(0.1,0);\r\n          // const actionhiddenoff = cc.fadeTo(0.1,255); \r\n          const actionhiddenSmoll =  cc.spawn(cc.scaleTo(_this.sudu(0.5), 1, 1),cc.delayTime(_this.sudu(1)),cc.callFunc(function(){\r\n            // //等待攻击完成\r\n          },this))//变大还原\r\n          // cc.spwan( 同时完成\r\n          node.runAction(\r\n                  cc.sequence(actionhiddenBig,actionhiddenSmoll,\r\n                  // 执行动作完成之后调用的方法\r\n                  cc.callFunc(() => {\r\n                      //先走提示再动作\r\n                      // _this.schedule(function(){\r\n                              //等待攻击完成\r\n                            // return new Promise(resolve => {  resolve() })\r\n                      // },1)\r\n                      resolve();\r\n                  }) )\r\n              );\r\n          });\r\n\r\n      },\r\n\r\n\r\n      //准备动作--变大\r\n      async buttonReady(node,biology,is_skill) {\r\n        return new Promise(resolve => {\r\n        var _this =this;\r\n          // var _this =this\r\n          // var waite_time=waite_time||0\r\n          // cc.blink(_this.sudu(3), 10) //3秒闪烁 10次\r\n          const actionhiddenBig = cc.spawn(cc.blink(_this.sudu(_this.sudu(0.3)),10),cc.scaleTo(_this.sudu(0.5), 1.2, 1.2),cc.delayTime(_this.sudu(1)),cc.callFunc(function(){\r\n            // //等待攻击完成\r\n            _this.playReady(node,biology)\r\n            _this.playAction(node,biology,is_skill)\r\n          },this));//变大还原//变大\r\n          // const actionWaite =cc.delayTime(waite_time);//等待攻击时间\r\n          //闪烁\r\n          // const actionhiddenOn = cc.fadeTo(0.1,0);\r\n          // const actionhiddenoff = cc.fadeTo(0.1,255); \r\n          const actionhiddenSmoll =  cc.spawn(cc.scaleTo(_this.sudu(0.5),1,1),cc.delayTime(_this.sudu(1)))//变大还原\r\n          // cc.spwan( 同时完成\r\n          node.runAction(\r\n                  cc.sequence(actionhiddenBig,actionhiddenSmoll,\r\n                  // 执行动作完成之后调用的方法\r\n                  cc.callFunc(() => {\r\n                      //先走提示再动作\r\n                      // _this.schedule(function(){\r\n                              //等待攻击完成\r\n                            // return new Promise(resolve => {  resolve() })\r\n                      // },1)\r\n                      resolve();\r\n                  }) )\r\n              );\r\n          });\r\n\r\n      },\r\n\r\n\r\n \r\n\r\n\r\n      //移动\r\n      async buttonMove(node,m_node,biology,is_skill) {\r\n          var _this =this;\r\n          var arr =[];\r\n          var _this =this;\r\n          var m_x=10\r\n          var m_y=0\r\n          var m_x_move =0\r\n          if (node.is_my==1){\r\n            m_x_move =-120\r\n          }else{\r\n            m_x_move =120\r\n          }    \r\n          if (node.x != m_node.x) m_x = m_node.x - node.x+m_x_move\r\n          if (node.y != m_node.y) m_y = m_node.y - node.y \r\n          //普通攻击\r\n          const actionLeft = cc.spawn(cc.moveBy(0.2,cc.v2(m_x,m_y)),cc.scaleTo(_this.sudu(0.5), 1.2, 1.2),cc.callFunc(function(){\r\n                  //等待攻击完成  \r\n                  if(biology.is_shanbi){\r\n                    //闪避，后移\r\n                      _this.buttonMoveOut(m_node,biology)\r\n                  }else{\r\n                    //受伤，闪烁\r\n                    _this.buttonShake(m_node,biology)\r\n                  }\r\n                  _this.playAction(m_node,biology,is_skill)\r\n          },this)) \r\n          // const actionWaite = cc.delayTime(_this.sudu(0.1)) \r\n          //返回位置\r\n          const actionRight =cc.spawn(cc.moveBy(0.2,cc.v2(-m_x,-m_y)),cc.scaleTo(_this.sudu(0.5), 1, 1),cc.callFunc(function(){\r\n              // //等待攻击完成\r\n          },this))\r\n          // 让节点在向上移动的同时缩放\r\n           // arr.push(cc.scaleTo(_this.sudu(0.1), 1,1))\r\n     \r\n        return new Promise(resolve => {  \r\n          node.runAction(\r\n              cc.sequence(actionLeft,actionRight,cc.callFunc(() => {     resolve() }))        \r\n          );\r\n        })\r\n    },\r\n  \r\n  \r\n    //闪避     // cc.spwan( 同时完成  cc.sequence( 按顺序执行\r\n    buttonMoveOut(node,biology) {\r\n        var _this =this;\r\n        if(biology.position_my==1){\r\n          //己方 后移\r\n          const actionLeft = cc.moveBy(0.1, cc.v2(30, 5));\r\n          const actionRightSecond = cc.moveBy(0.1, cc.v2(-30, -5));\r\n  \r\n             node.runAction(\r\n                  cc.sequence(actionLeft,actionRightSecond,\r\n                  // 执行动作完成之后调用的方法\r\n                      cc.callFunc(() => {\r\n   \r\n                          // _this.schedule(function(){\r\n                          // httpRequestFightingExtend.playAction(node,biology)\r\n                          // },1)\r\n                          // resolve();\r\n                    }) )\r\n              );\r\n  \r\n        }else{\r\n          //敌方方 前移\r\n          const actionLeft = cc.moveBy(0.1, cc.v2(-30, 5));\r\n          const actionRightSecond = cc.moveBy(0.1, cc.v2(30, -5));\r\n   \r\n             node.runAction(\r\n                  cc.sequence(actionLeft,actionRightSecond,\r\n                  // 执行动作完成之后调用的方法\r\n                      cc.callFunc(() => {\r\n   \r\n                          // _this.schedule(function(){\r\n                          // httpRequestFightingExtend.playAction(node,biology)\r\n                          // },1)\r\n                          // resolve();\r\n                    }) )\r\n              );\r\n        \r\n        }\r\n     \r\n    },\r\n    //受击\r\n    buttonShake(node,biology) {\r\n      var _this =this;\r\n      // var _this =this;\r\n      // var waite_time=waite_time||0\r\n      // const actionWaite =cc.delayTime(waite_time);//等待攻击时间\r\n      // const actionhiddenOn = cc.fadeTo(0.1,0);\r\n      // const actionLeft = cc.moveBy(0.1, cc.v2(-10, 0));\r\n      // const actionRight = cc.moveBy(0.1, cc.v2(10, 0));\r\n      // const actionLeftSecond = cc.moveBy(0.1, cc.v2(-10, 0));\r\n      // const actionRightSecond = cc.moveBy(0.1, cc.v2(10, 0));\r\n      \r\n      // const actionhiddenOn = cc.fadeTo(0.1,0);\r\n      // const actionhiddenoff = cc.fadeTo(0.1,255);\r\n      // cc.spwan( 同时完成\r\n      // return new Promise(resolve => {\r\n          node.runAction(\r\n              cc.sequence(cc.blink(_this.sudu(1),2),\r\n              // actionhiddenOn,actionhiddenoff,\r\n              // cc.sequence(actionhiddenOn,actionLeft,actionhiddenoff,actionhiddenoff,\r\n              // cc.sequence(actionLeft, actionRight, actionLeftSecond, actionRightSecond,actionhiddenOn,actionhiddenoff,\r\n              // 执行动作完成之后调用的方法\r\n                  cc.callFunc(() => {\r\n  \r\n                      // _this.schedule(function(){\r\n                      // httpRequestFightingExtend.playAction(node,biology)\r\n                      // },1)\r\n                      // resolve();\r\n                  }) )\r\n          );\r\n      // });\r\n    },\r\n});\r\n \r\nhttpRequestFightingExtend =  new httpFightingExtend();"]}