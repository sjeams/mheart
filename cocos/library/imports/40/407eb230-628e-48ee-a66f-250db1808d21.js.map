{"version":3,"sources":["assets\\Script\\commonApi\\figthingExtend.js"],"names":["httpFightingExtend","cc","Class","sudu","num","fast","http_globalData","user_info","beishu","alertBoat","boat","_this","find","getComponent","Label","string","Promise","resolve","runAction","sequence","scaleTo","delayTime","callFunc","playTips","node","biology","is_skill","descript_go_msg","actionMdel","getChildByName","active","opacity","actionBig","playReady","extend","hurt_go_value","actionBig_show","wuxing_floor","Math","floor","xingxing","parseInt","actionBlink_show","playAction","playMove","move_node","hurt_msg","actionhiddenSmoll","spawn","moveBy","v2","fadeIn","actionhiddenBig","fadeOut","actionProgressBar","progressBar","shengMing","progress","completeCount","totalCount","actionMdelProgressBar","rotateAction","rotateBy","repeatForever","skill","xiaoguo","loader","loadRes","SpriteFrame","err","texture","error","Sprite","spriteFrame","httpRequest","number_string_wan","ProgressBar","getComponents","hurt_go","is_baoji","log","is_my","setScale","buttonSkill","buttonReady","blink","buttonMove","m_node","arr","m_x","m_y","m_x_move","x","y","actionLeft","is_shanbi","buttonMoveOut","buttonShake","actionRight","position_my","actionRightSecond","window","httpRequestFightingExtend"],"mappings":"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","sourceRoot":"/","sourcesContent":[" const httpFightingExtend = cc.Class({\r\n  //倍速\r\n  sudu(num){\r\n    //设置基础倍数\r\n    var fast = 0.8\r\n    //速度越快，值越小\r\n    if(http_globalData.user_info.beishu>1){\r\n      return  (1/http_globalData.user_info.beishu)*num*fast\r\n    }else{\r\n      return  num*fast\r\n    }\r\n  },\r\n  async alertBoat(boat){\r\n    var _this =this;\r\n    if(cc.find('Canvas/大厅/time').getComponent(cc.Label).string!=boat){\r\n      cc.find('Canvas/大厅/time').getComponent(cc.Label).string = boat \r\n      return new Promise(resolve => { cc.find('Canvas/大厅/time').runAction(  cc.sequence(cc.scaleTo(0.3, 2, 2),cc.scaleTo(0.3, 1,1),cc.delayTime(_this.sudu(0.5)),cc.callFunc(function(){  resolve() },this)));//建一个缩放到1.5倍大小的动作，持续时间2秒\r\n      }) \r\n    }\r\n  },\r\n  //提示动作\r\n  playTips(node,biology,is_skill){\r\n    var _this =this;\r\n    //技能名称\r\n    if(biology.descript_go_msg!=''){\r\n        _this.actionMdel(node.getChildByName('技能s'),biology.descript_go_msg)\r\n        node.getChildByName('技能背景').active=true\r\n        node.getChildByName('技能背景').opacity=255\r\n        // node.getChildByName('技能背景').runAction( cc.sequence(cc.fadeIn(_this.sudu(0.01)),cc.scaleTo(_this.sudu(0.1), 1.2, 1.2),cc.delayTime(_this.sudu(0.5)),cc.scaleTo(_this.sudu(0.3), 1, 1),cc.fadeOut(0.1),cc.moveBy(_this.sudu(0.01),cc.v2(0,0)),cc.callFunc(function(){  node.getChildByName('技能背景').active=false;  },this)));\r\n        _this.actionBig(node.getChildByName('技能背景'))\r\n    }\r\n  },\r\n  // 准备动作--悟性-治疗-中毒-冰冻-眩晕 持续伤害--回合前结算等\r\n  playReady(node,biology){\r\n    var _this =this;\r\n    if(biology.extend=='wuXingTotal'){\r\n        node.getChildByName('悟性s').getComponent(cc.Label).string= biology.hurt_go_value%100;  //除100 取余\r\n        // node.getChildByName('悟性s').runAction(cc.sequence(cc.fadeIn(_this.sudu(0.01)),cc.scaleTo(_this.sudu(0.1), 1.2, 1.2),cc.delayTime(_this.sudu(0.5)),cc.scaleTo(_this.sudu(0.3), 1, 1),cc.callFunc(function(){   },this)));\r\n        _this.actionBig_show(node.getChildByName('悟性s'))\r\n        node.getChildByName('悟性动作').active=true\r\n        node.getChildByName('悟性动作').opacity=255\r\n        // node.getChildByName('悟性动作').runAction(cc.sequence(cc.fadeIn(_this.sudu(0.01)),cc.scaleTo(0.3, 1.2, 1.2),cc.fadeOut(0.5),cc.scaleTo(_this.sudu(0.1), 1, 1),cc.callFunc(function(){  node.getChildByName('悟性动作').active=false  \r\n        // },this)));\r\n        _this.actionBig(node.getChildByName('悟性动作'))\r\n        \r\n        //向下取整\r\n        var wuxing_floor = Math.floor(biology.hurt_go_value/100)\r\n        if(wuxing_floor>0){\r\n          var xingxing = node.getChildByName('悟性星星s').getComponent(cc.Label).string;\r\n          if(parseInt(xingxing)!=wuxing_floor){\r\n            node.getChildByName('悟性星星').active=true\r\n            node.getChildByName('悟性星星s').active=true\r\n            node.getChildByName('悟性星星s').getComponent(cc.Label).string= 'X'+wuxing_floor;\r\n            // node.getChildByName('悟性星星s').runAction(cc.sequence(cc.fadeIn(_this.sudu(0.01)),cc.scaleTo(_this.sudu(0.1), 1.2, 1.2),cc.delayTime(_this.sudu(0.5)),cc.scaleTo(_this.sudu(0.3), 1, 1),cc.callFunc(function(){   },this))); \r\n            // node.getChildByName('悟性星星').runAction(cc.sequence(cc.fadeIn(_this.sudu(0.01)),cc.scaleTo(_this.sudu(0.1), 1.2, 1.2),cc.delayTime(_this.sudu(0.5)),cc.scaleTo(_this.sudu(0.3), 1, 1),cc.callFunc(function(){   },this))); \r\n            _this.actionBig_show(node.getChildByName('悟性星星'))\r\n            _this.actionBig_show(node.getChildByName('悟性星星s'))\r\n            _this.actionBlink_show(node.getChildByName('悟性星星'))\r\n            // _this.actionBlink_show(node.getChildByName('悟性星星s'))\r\n\r\n          }\r\n        }\r\n    }\r\n\r\n  },\r\n  //攻击动作\r\n  async playAction(node,biology,is_skill){ \r\n    var _this =this;\r\n    _this.playTips(node,biology) //发动提示\r\n    _this.playMove(node,biology,is_skill) //发动技能\r\n    _this.playReady(node,biology) //检查悟性\r\n  },\r\n \r\n  actionMdel(move_node,hurt_msg){\r\n    var _this=this;\r\n    if(hurt_msg){\r\n      move_node.getComponent(cc.Label).string= hurt_msg\r\n    }\r\n    move_node.active=true\r\n    move_node.opacity=255\r\n    const actionhiddenSmoll = cc.spawn(cc.moveBy(_this.sudu(0.01),cc.v2(0,40)),cc.fadeIn(_this.sudu(0.1)),cc.scaleTo(_this.sudu(0.2),1.5,1.5))\r\n    const actionhiddenBig   = cc.spawn(cc.moveBy(_this.sudu(0.5),cc.v2(0,-40)),cc.scaleTo(_this.sudu(0.5),1,1),cc.delayTime(_this.sudu(0.5)),cc.fadeOut(_this.sudu(0.5)))\r\n    move_node.runAction(cc.sequence(actionhiddenSmoll,cc.delayTime(_this.sudu(0.5)),actionhiddenBig,cc.callFunc(function(){  move_node.active=false },this)));\r\n  },\r\n  // 隐藏\r\n  actionBig(move_node){\r\n    var _this=this;\r\n    const actionhiddenSmoll = cc.spawn(cc.fadeIn(_this.sudu(0.01)),cc.scaleTo(_this.sudu(0.2),1.5,1.5))\r\n    const actionhiddenBig   = cc.spawn(cc.scaleTo(_this.sudu(0.5),1,1),cc.delayTime(_this.sudu(0.5)),cc.fadeOut(_this.sudu(0.5)))\r\n    move_node.runAction(cc.sequence(actionhiddenSmoll,cc.delayTime(_this.sudu(0.5)),actionhiddenBig,cc.callFunc(function(){  move_node.active=false },this)));\r\n  },\r\n//显示\r\n  actionBig_show(move_node){\r\n    var _this=this;\r\n    const actionhiddenSmoll = cc.spawn(cc.fadeIn(_this.sudu(0.01)),cc.scaleTo(_this.sudu(0.2),1.5,1.5))\r\n    const actionhiddenBig   = cc.spawn(cc.scaleTo(_this.sudu(0.5),1,1),cc.delayTime(_this.sudu(0.5)))\r\n    move_node.runAction(cc.sequence(actionhiddenSmoll,cc.delayTime(_this.sudu(0.5)),actionhiddenBig,cc.callFunc(function(){   },this)));\r\n  },\r\n  // 血条\r\n  actionProgressBar(progressBar,hurt_go_value,shengMing){\r\n    progressBar.progress = hurt_go_value / shengMing\r\n    progressBar.completeCount = hurt_go_value;\r\n    progressBar.totalCount = shengMing;\r\n  },\r\n  actionMdelProgressBar(move_node,hurt_msg,progressBar,hurt_go_value,shengMing){\r\n    var _this=this;\r\n    move_node.getComponent(cc.Label).string= hurt_msg\r\n    move_node.active=true\r\n    move_node.opacity=255\r\n    const actionhiddenSmoll = cc.spawn(cc.moveBy(_this.sudu(0.01),cc.v2(0,40)),cc.fadeIn(_this.sudu(0.1)),cc.scaleTo(_this.sudu(0.2),1.5,1.5))\r\n    const actionhiddenBig   = cc.spawn(cc.moveBy(_this.sudu(0.5),cc.v2(0,-40)),cc.scaleTo(_this.sudu(0.5),1,1),cc.delayTime(_this.sudu(0.5)),cc.fadeOut(_this.sudu(0.5)))\r\n    move_node.runAction(cc.sequence(actionhiddenSmoll,cc.delayTime(_this.sudu(0.5)),actionhiddenBig,cc.callFunc(function(){ _this.actionProgressBar(progressBar,hurt_go_value,shengMing); move_node.active=false },this)));\r\n  },\r\n\r\n  //重复闪烁\r\n  actionBlink_show(move_node){\r\n    var _this=this;\r\n    // 创建旋转动作，这里以每秒绕X轴旋转360度为例\r\n    const rotateAction = cc.rotateBy(1,360)\r\n    // const rotateAction = cc.blink(1,1)\r\n    const actionhiddenSmoll = cc.spawn(cc.fadeIn(_this.sudu(0.01)),cc.scaleTo(_this.sudu(0.2),1.5,1.5))\r\n    const actionhiddenBig   = cc.spawn(cc.scaleTo(_this.sudu(0.5),1,1),cc.delayTime(_this.sudu(0.5)))\r\n   \r\n    move_node.runAction(cc.repeatForever(cc.spawn(rotateAction,actionhiddenSmoll,actionhiddenBig),cc.callFunc(function(){   },this)));\r\n  },\r\n\r\n  //行动--技能攻击 和 普通攻击\r\n  playMove(node,biology,is_skill){\r\n      var _this =this;\r\n      //攻击动作\r\n      //技能--攻击动画\r\n      if(is_skill!=0){\r\n        //有效果图片才会进来\r\n        if(biology.skill.xiaoguo!=''){\r\n          cc.loader.loadRes('图标技能效果/'+biology.skill.xiaoguo, cc.SpriteFrame, function (err, texture) { \r\n            if(err){\r\n                  cc.error(err);\r\n                  // return;\r\n            }else{\r\n              node.getChildByName('技能效果').getComponent(cc.Sprite).spriteFrame = texture; \r\n              node.getChildByName('技能效果').active=true\r\n              node.getChildByName('技能效果').opacity=255\r\n              _this.actionBig(node.getChildByName('技能效果'))\r\n            }\r\n          });\r\n        }\r\n      // node.getChildByName('技能效果').getComponent(cc.Sprite).spriteFrame =  new cc.SpriteFrame(cc.loader.getRes('图标技能效果/'+biology.skill.xiaoguo));\r\n      }\r\n\r\n      if(biology.extend=='moFa'){\r\n        // cc.log(biology.hurt_msg)\r\n        // cc.log(biology)\r\n        // node.getChildByName('扣血s').color = new cc.color('#3568D5');\r\n        // node.getChildByName('魔法s').getComponent(cc.Label).string= biology.hurt_go_value+'/'+node.moFa\r\n        node.getChildByName('魔法s').getComponent(cc.Label).string=  httpRequest.number_string_wan(biology.hurt_go_value,2);\r\n        var progressBar = node.getChildByName('魔法').getComponent(cc.ProgressBar)\r\n        //  耗蓝为0跳过0跳过\r\n        if(biology.hurt_msg<0){\r\n          //扣蓝渐隐\r\n          _this.actionMdel(node.getChildByName('扣蓝s'),biology.hurt_msg)\r\n        }else   if(biology.hurt_msg>0){\r\n          //扣蓝渐隐\r\n          _this.actionMdel(node.getChildByName('加蓝s'),biology.hurt_msg)\r\n        }\r\n\r\n      }\r\n\r\n      if(biology.extend=='shengMing'){\r\n        //血条动作\r\n        // node.getChildByName('生命s').getComponent(cc.Label).string= biology.hurt_go_value +'/'+ node.shengMing \r\n        node.getChildByName('生命s').getComponent(cc.Label).string=  httpRequest.number_string_wan(biology.hurt_go_value,2);\r\n        var progressBar = node.getChildByName('生命').getComponents(cc.ProgressBar)\r\n        // progressBar.progress = biology.hurt_go_value / node.shengMing\r\n        // progressBar.completeCount = biology.hurt_go_value;\r\n        // progressBar.totalCount = node.shengMing;\r\n        _this.actionProgressBar(progressBar[0],biology.hurt_go_value,node.shengMing)\r\n \r\n        if(biology.hurt_go>=0){\r\n          //加血渐隐    \r\n          _this.actionMdel(node.getChildByName('加血s'),biology.hurt_go_value)\r\n        }else{\r\n          //扣血渐隐\r\n          if(biology.is_baoji==1){\r\n            //暴击样式\r\n            _this.actionMdelProgressBar(node.getChildByName('暴击s'), '暴击'+biology.hurt_msg,progressBar[1],biology.hurt_go_value,node.shengMing)\r\n          }else{\r\n            //普通样式\r\n            _this.actionMdelProgressBar(node.getChildByName('扣血s'),biology.hurt_msg,progressBar[1],biology.hurt_go_value,node.shengMing)\r\n          }\r\n\r\n\r\n          //受伤动画\r\n          node.getChildByName('受伤').active=true\r\n          node.getChildByName('受伤').opacity=255\r\n          node.getChildByName('受伤').runAction(cc.fadeOut(_this.sudu(1)),cc.callFunc(function(){  node.getChildByName('受伤').active=false },this));\r\n        }\r\n        //死亡\r\n        if(biology.hurt_go_value<=0){\r\n          cc.log(111)\r\n          node.getChildByName('血条背景').active=false\r\n          node.getChildByName('生命').active=false\r\n          node.getChildByName('魔法').active=false\r\n          node.getChildByName('悟性s').active=false\r\n          node.getChildByName('生命s').active=false\r\n          node.getChildByName('魔法s').active=false\r\n          node.getChildByName('魔法s').active=false\r\n          node.getChildByName('魔法s').active=false\r\n          node.getChildByName('生物').active=false\r\n          node.getChildByName('悟性星星').active=false\r\n          node.getChildByName('悟性星星s').active=false\r\n          // 死亡\r\n          node.getChildByName('死亡').active=true\r\n          // cc.loader.loadRes('biology_pic/1墓碑', function (err, texture) {  \r\n          //   node.getChildByName('受伤').getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(texture);\r\n          // })\r\n          if(node.is_my==0){\r\n            //图片翻转\r\n              node.getChildByName('生物').setScale(-1, 1);\r\n          }\r\n          // cc.log(biology)\r\n          // node.getChildByName('受伤').runAction(cc.fadeIn(1),cc.callFunc(function(){  node.getChildByName('受伤').active=false },this)));\r\n          //金币\r\n          // node.getChildByName('金币s').getComponent(cc.Label).string= '+$'+node.jing_bi\r\n          // node.getChildByName('金币s').active=true\r\n          // node.getChildByName('金币s').opacity=255\r\n          // // node.getChildByName('金币s').runAction(cc.moveBy(3,cc.v2(0,60)));\r\n          // node.getChildByName('金币s').runAction(cc.fadeOut(3),cc.callFunc(function(){  node.getChildByName('金币s').active=false },this)));\r\n          // // node.getChildByName('金币s').runAction(cc.moveBy(_this.sudu(0.01),cc.v2(0,-40)));\r\n        }\r\n      }\r\n\r\n      if(biology.extend=='闪避'){\r\n        _this.actionMdel(node.getChildByName('技能s'), '闪避')\r\n      }\r\n \r\n    },\r\n\r\n\r\n    //准备动作--变大\r\n    async buttonSkill(node,biology,is_skill) {\r\n        return new Promise(resolve => {\r\n        var _this =this;\r\n          // var _this =this\r\n          // var waite_time=waite_time||0\r\n          const actionhiddenBig = cc.spawn(cc.scaleTo(_this.sudu(0.5), 1.2, 1.2),cc.delayTime(_this.sudu(0.6)),cc.callFunc(function(){\r\n            // //等待攻击完成  ---action  里面已经有了 这个悟性，所有这里不用plarredy\r\n            // _this.playReady(node,biology)\r\n            _this.playAction(node,biology,is_skill)\r\n          },this));//变大还原//变大\r\n          // const actionWaite =cc.delayTime(waite_time);//等待攻击时间\r\n          //闪烁\r\n          // const actionhiddenOn = cc.fadeTo(0.1,0);\r\n          // const actionhiddenoff = cc.fadeTo(0.1,255); \r\n          const actionhiddenSmoll =  cc.spawn(cc.scaleTo(_this.sudu(0.5), 1, 1),cc.delayTime(_this.sudu(0.6)),cc.callFunc(function(){\r\n            // //等待攻击完成\r\n          },this))//变大还原\r\n          // cc.spwan( 同时完成\r\n          node.runAction(\r\n                  cc.sequence(actionhiddenBig,actionhiddenSmoll,\r\n                  // 执行动作完成之后调用的方法\r\n                  cc.callFunc(() => {\r\n                      //先走提示再动作\r\n                      // _this.schedule(function(){\r\n                              //等待攻击完成\r\n                            // return new Promise(resolve => {  resolve() })\r\n                      // },1)\r\n                      resolve();\r\n                  }) )\r\n              );\r\n          });\r\n\r\n      },\r\n\r\n\r\n      //准备动作--变大\r\n      async buttonReady(node,biology,is_skill) {\r\n        return new Promise(resolve => {\r\n        var _this =this;\r\n          // var _this =this\r\n          // var waite_time=waite_time||0\r\n          const actionhiddenBig = cc.spawn(cc.blink(_this.sudu(_this.sudu(0.2)),20),cc.scaleTo(_this.sudu(0.3), 1.2, 1.2),cc.delayTime(_this.sudu(0.6)),cc.callFunc(function(){\r\n            // //等待攻击完成\r\n            _this.playReady(node,biology)\r\n            _this.playAction(node,biology,is_skill)\r\n          },this));//变大还原//变大\r\n          // const actionWaite =cc.delayTime(waite_time);//等待攻击时间\r\n          //闪烁\r\n          // const actionhiddenOn = cc.fadeTo(0.1,0);\r\n          // const actionhiddenoff = cc.fadeTo(0.1,255); \r\n          const actionhiddenSmoll =  cc.spawn(cc.scaleTo(_this.sudu(0.5),1,1),cc.delayTime(_this.sudu(0.6)))//变大还原\r\n          // cc.spwan( 同时完成\r\n          node.runAction(\r\n                  cc.sequence(actionhiddenBig,actionhiddenSmoll,\r\n                  // 执行动作完成之后调用的方法\r\n                  cc.callFunc(() => {\r\n                      //先走提示再动作\r\n                      // _this.schedule(function(){\r\n                              //等待攻击完成\r\n                            // return new Promise(resolve => {  resolve() })\r\n                      // },1)\r\n                      resolve();\r\n                  }) )\r\n              );\r\n          });\r\n\r\n      },\r\n\r\n\r\n \r\n\r\n\r\n      //移动\r\n      async buttonMove(node,m_node,biology,is_skill) {\r\n          var _this =this;\r\n          var arr =[];\r\n          var _this =this;\r\n          var m_x=10\r\n          var m_y=0\r\n          var m_x_move =0\r\n          if (node.is_my==1){\r\n            m_x_move =-120\r\n          }else{\r\n            m_x_move =120\r\n          }    \r\n          if (node.x != m_node.x) m_x = m_node.x - node.x+m_x_move\r\n          if (node.y != m_node.y) m_y = m_node.y - node.y \r\n          //普通攻击\r\n          const actionLeft = cc.spawn(cc.moveBy(_this.sudu(0.3),cc.v2(m_x,m_y)),cc.scaleTo(_this.sudu(0.3), 1.2, 1.2),cc.delayTime(_this.sudu(0.6)),cc.callFunc(function(){\r\n                  //等待攻击完成  \r\n                  if(biology.is_shanbi){\r\n                    //闪避，后移\r\n                      _this.buttonMoveOut(m_node,biology)\r\n                  }else{\r\n                    //受伤，闪烁\r\n                    _this.buttonShake(m_node,biology)\r\n                  }\r\n                  _this.playAction(m_node,biology,is_skill)\r\n          },this)) \r\n          // const actionWaite = cc.delayTime(_this.sudu(0.1)) \r\n          //返回位置\r\n          const actionRight =cc.spawn(cc.moveBy(_this.sudu(0.3),cc.v2(-m_x,-m_y)),cc.scaleTo(_this.sudu(0.3), 1, 1),cc.delayTime(_this.sudu(0.6)),cc.callFunc(function(){\r\n              // //等待攻击完成\r\n          },this))\r\n          // 让节点在向上移动的同时缩放\r\n           // arr.push(cc.scaleTo(_this.sudu(0.1), 1,1))\r\n     \r\n        return new Promise(resolve => {  \r\n          node.runAction(\r\n              cc.sequence(actionLeft,actionRight,cc.callFunc(() => {     resolve() }))        \r\n          );\r\n        })\r\n    },\r\n  \r\n  \r\n    //闪避     // cc.spwan( 同时完成  cc.sequence( 按顺序执行\r\n    buttonMoveOut(node,biology) {\r\n        var _this =this;\r\n        if(biology.position_my==1){\r\n          //己方 后移\r\n          const actionLeft = cc.moveBy(0.1, cc.v2(30, 5));\r\n          const actionRightSecond = cc.moveBy(0.1, cc.v2(-30, -5));\r\n  \r\n             node.runAction(\r\n                  cc.sequence(actionLeft,actionRightSecond,\r\n                  // 执行动作完成之后调用的方法\r\n                      cc.callFunc(() => {\r\n   \r\n                          // _this.schedule(function(){\r\n                          // httpRequestFightingExtend.playAction(node,biology)\r\n                          // },1)\r\n                          // resolve();\r\n                    }) )\r\n              );\r\n  \r\n        }else{\r\n          //敌方方 前移\r\n          const actionLeft = cc.moveBy(0.1, cc.v2(-30, 5));\r\n          const actionRightSecond = cc.moveBy(0.1, cc.v2(30, -5));\r\n   \r\n             node.runAction(\r\n                  cc.sequence(actionLeft,actionRightSecond,\r\n                  // 执行动作完成之后调用的方法\r\n                      cc.callFunc(() => {\r\n   \r\n                          // _this.schedule(function(){\r\n                          // httpRequestFightingExtend.playAction(node,biology)\r\n                          // },1)\r\n                          // resolve();\r\n                    }) )\r\n              );\r\n        \r\n        }\r\n     \r\n    },\r\n    //受击\r\n    buttonShake(node,biology) {\r\n      var _this =this;\r\n      // var _this =this;\r\n      // var waite_time=waite_time||0\r\n      // const actionWaite =cc.delayTime(waite_time);//等待攻击时间\r\n      // const actionhiddenOn = cc.fadeTo(0.1,0);\r\n      // const actionLeft = cc.moveBy(0.1, cc.v2(-10, 0));\r\n      // const actionRight = cc.moveBy(0.1, cc.v2(10, 0));\r\n      // const actionLeftSecond = cc.moveBy(0.1, cc.v2(-10, 0));\r\n      // const actionRightSecond = cc.moveBy(0.1, cc.v2(10, 0));\r\n      \r\n      // const actionhiddenOn = cc.fadeTo(0.1,0);\r\n      // const actionhiddenoff = cc.fadeTo(0.1,255);\r\n      // cc.spwan( 同时完成\r\n      // return new Promise(resolve => {\r\n          node.runAction(\r\n              cc.sequence(cc.blink(_this.sudu(0.2),1),\r\n              // actionhiddenOn,actionhiddenoff,\r\n              // cc.sequence(actionhiddenOn,actionLeft,actionhiddenoff,actionhiddenoff,\r\n              // cc.sequence(actionLeft, actionRight, actionLeftSecond, actionRightSecond,actionhiddenOn,actionhiddenoff,\r\n              // 执行动作完成之后调用的方法\r\n                  cc.callFunc(() => {\r\n  \r\n                      // _this.schedule(function(){\r\n                      // httpRequestFightingExtend.playAction(node,biology)\r\n                      // },1)\r\n                      // resolve();\r\n                  }) )\r\n          );\r\n      // });\r\n    },\r\n});\r\n \r\nwindow.httpRequestFightingExtend =  new httpFightingExtend();"]}