{"version":3,"sources":["assets\\Script\\commonApi\\bag_api.js"],"names":["httpBagApi","cc","Class","Component","http_user_info","httpRequest","httpPost","data","http_globalData","user_info","http_bag_info","biology","TipBoxPrefab_biology_detail","bag","gooduse","zhenfa","zhenfa_info","info","log","http_update_goods","biology_id","goods_key","goodsid","is_bag","http_update_zhenfa","update_data","prop","userBiologyid","httpRequestBagApi"],"mappings":";;;;;;AAAA;AACA,IAAMA,UAAU,GAAGC,EAAE,CAACC,KAAH,CAAS;AACxB,aAASD,EAAE,CAACE,SADY;AAExB;AACAC,EAAAA,cAHwB,4BAGR;AACZ;AACAC,IAAAA,WAAW,CAACC,QAAZ,CAAqB,uBAArB,EAA6C,EAA7C,EAAgD,UAAUC,IAAV,EAAgB;AAC5DC,MAAAA,eAAe,CAACC,SAAhB,GAA4BF,IAA5B;AACH,KAFD;AAGH,GARuB;AASxB;AACAG,EAAAA,aAVwB,2BAUT;AACX;AACAL,IAAAA,WAAW,CAACC,QAAZ,CAAqB,8BAArB,EAAoD,EAApD,EAAwD,UAAUC,IAAV,EAAgB;AACpE;AACAC,MAAAA,eAAe,CAACG,OAAhB,GAA0BJ,IAAI,CAACA,IAAL,CAAUI,OAApC,CAFoE,CAGpE;;AACAH,MAAAA,eAAe,CAACI,2BAAhB,GAA8C,IAA9C,CAJoE,CAKpE;;AACAJ,MAAAA,eAAe,CAACK,GAAhB,GAAsBN,IAAI,CAACA,IAAL,CAAUM,GAAhC;AACAL,MAAAA,eAAe,CAACM,OAAhB,GAA0BP,IAAI,CAACA,IAAL,CAAUO,OAApC,CAPoE,CAOtB;;AAC9CN,MAAAA,eAAe,CAACO,MAAhB,GAAyBR,IAAI,CAACA,IAAL,CAAUQ,MAAV,CAAiBR,IAA1C;AACAC,MAAAA,eAAe,CAACQ,WAAhB,GAA8BT,IAAI,CAACA,IAAL,CAAUQ,MAAV,CAAiBE,IAA/C;AACAhB,MAAAA,EAAE,CAACiB,GAAH,CAAOV,eAAe,CAACQ,WAAvB,EAVoE,CAWpE;AACA;AACA;AACH,KAdD;AAeH,GA3BuB;AA4BxB;AACAG,EAAAA,iBA7BwB,6BA6BNC,UA7BM,EA6BKC,SA7BL,EA6BeC,OA7Bf,EA6BuBC,MA7BvB,EA6B8B;AAClD;AACAlB,IAAAA,WAAW,CAACC,QAAZ,CAAqB,mCAArB,EAAyD;AAACc,MAAAA,UAAU,EAACA,UAAZ;AAAuBC,MAAAA,SAAS,EAACA,SAAjC;AAA2CC,MAAAA,OAAO,EAACA,OAAnD;AAA2DC,MAAAA,MAAM,EAACA;AAAlE,KAAzD,EAAmI,UAAUhB,IAAV,EAAgB,CAAE,CAArJ;AACH,GAhCuB;AAiCxB;AACAiB,EAAAA,kBAlCwB,gCAkCJ;AAChB;AACA,QAAIC,WAAW,GAAC,EAAhB;;AACA,SAAK,IAAIC,IAAT,IAAiBlB,eAAe,CAACO,MAAjC,EAAyC;AACrC,UAAIK,UAAU,GAAGZ,eAAe,CAACO,MAAhB,CAAuBW,IAAvB,CAAjB;;AACA,UAAGlB,eAAe,CAACG,OAAhB,CAAwBS,UAAxB,CAAH,EAAuC;AACnCK,QAAAA,WAAW,CAACC,IAAD,CAAX,GAAoBlB,eAAe,CAACG,OAAhB,CAAwBS,UAAxB,EAAoCO,aAAxD,CADmC,CACmC;AACzE,OAFD,MAEK;AACDF,QAAAA,WAAW,CAACC,IAAD,CAAX,GAAmBN,UAAnB;AACH;AACJ,KAVe,CAWhB;;;AACAf,IAAAA,WAAW,CAACC,QAAZ,CAAqB,oCAArB,EAA0D;AAACS,MAAAA,MAAM,EAACU;AAAR,KAA1D,EAA+E,UAAUlB,IAAV,EAAgB,CAAE,CAAjG;AACH;AA/CuB,CAAT,CAAnB;AAmDAqB,iBAAiB,GAAG,IAAI5B,UAAJ,EAApB","sourceRoot":"/","sourcesContent":["// 背包的api请求接口\r\nconst httpBagApi = cc.Class({\r\n    extends: cc.Component,\r\n    //实例化用户信息\r\n    http_user_info(){\r\n        //修改请求\r\n        httpRequest.httpPost('/app/app-api/get-user',{},function (data) {\r\n            http_globalData.user_info = data\r\n        })\r\n    },   \r\n    //实例化背包信息\r\n    http_bag_info(){\r\n        //获取生物列表\r\n        httpRequest.httpPost('/app/app-apinew/biology-list',{}, function (data) {\r\n            //定义常量\r\n            http_globalData.biology = data.data.biology;\r\n            //当前弹出的预制节点--物品详情--装备-卸载\r\n            http_globalData.TipBoxPrefab_biology_detail = null;\r\n            //开启战斗\r\n            http_globalData.bag = data.data.bag;  \r\n            http_globalData.gooduse = data.data.gooduse;  //物品类型\r\n            http_globalData.zhenfa = data.data.zhenfa.data;\r\n            http_globalData.zhenfa_info = data.data.zhenfa.info;\r\n            cc.log(http_globalData.zhenfa_info)\r\n            // 临时字段\r\n            // http_globalData.biology_id = 0;\r\n            // http_globalData.zhenfa_id=0;\r\n        })\r\n    },\r\n    //http请求--快速请求接口\r\n    http_update_goods(biology_id,goods_key,goodsid,is_bag){\r\n        //修改请求\r\n        httpRequest.httpPost('/app/app-api/biology-goods-update',{biology_id:biology_id,goods_key:goods_key,goodsid:goodsid,is_bag:is_bag},function (data) {})\r\n    },  \r\n    //http请求--快速请求接口\r\n    http_update_zhenfa(){\r\n        // var zhenfa =  http_globalData.zhenfa\r\n        var update_data=[]\r\n        for (var prop in http_globalData.zhenfa) {\r\n            var biology_id = http_globalData.zhenfa[prop];\r\n            if(http_globalData.biology[biology_id]){\r\n                update_data[prop] = http_globalData.biology[biology_id].userBiologyid //获取序号中的生物id\r\n            }else{\r\n                update_data[prop]= biology_id;\r\n            }\r\n        }\r\n        //修改请求\r\n        httpRequest.httpPost('/app/app-api/biology-zhenfa-update',{zhenfa:update_data},function (data) {})\r\n    },\r\n\r\n \r\n});\r\nhttpRequestBagApi = new httpBagApi();"]}