{"version":3,"sources":["assets\\Script\\fighting\\fightingTools.js"],"names":["HttpHelper","require","httpRequest","params","cc","Class","Component","properties","initInfo","info","biolgy_state","is_my","_this","remoteUrl","httpUrl","loader","load","url","err","texture","node","getChildByName","getComponent","Sprite","spriteFrame","SpriteFrame","setScale","color","Label","string","bindClickEvent","Button","button","index","clickEventHandler","EventHandler","target","component","handler","customEventData","clickEvents","push","onConfirBtn","e","console","log","biology_detail_alert","find","removeAllChildren","loadRes","errorMessage","loadedResource","Prefab","TipBoxPrefab","instantiate","biology_detail_info","shengMing","moFa","name","zhong_zhu","grade","chuFa","power","agile","intelligence","gongJi","huJia","suDu","faGong","reiki","wuXing","baojilv","xiXue","baoji","shanbi","jianShang","zhenShang","biology_detail_skill","position_skill","addChild","TOOLS","TipBoxPrefab_icon","skill","prop","image","loadedResource_icon","type","on","bindClickEventIcon","move_type","tips_Prefab","Math","abs","needValue","attack","star","i","hurtType","probability","belong","words","describe"],"mappings":"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","sourceRoot":"/","sourcesContent":["var HttpHelper = require(\"../http\"); \r\nvar httpRequest = new HttpHelper();\r\nvar params =[];\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // server_picture: cc.Node,\r\n        // server_type: cc.Node,\r\n        // server_name: cc.Node,\r\n        // server_star: cc.Node,\r\n        // server_shenMing: cc.Node,\r\n        // server_moFa: cc.Node,\r\n        // sprite_server_biology: cc.Button\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n    initInfo(info,biolgy_state,is_my) {\r\n        // 初始化该道具相关信息\r\n        // 图片\r\n        var _this = this;\r\n \r\n        if(info['picture']){\r\n            var remoteUrl = httpRequest.httpUrl(info['picture']);\r\n            // cc.loader.loadRes(httpRequest.httpUrl(info['picture']), cc.SpriteFrame, function (err, spriteFrame) {   \r\n            //     console.log(_self)\r\n            //     _self.node.getComponent(cc.Sprite).spriteFrame = spriteFrame; \r\n            // });\r\n            cc.loader.load({ url: remoteUrl }, function (err, texture) {  \r\n                // _self.node.getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(texture)\r\n                // console.log(texture)\r\n                if (err) {\r\n                    // cc.error(err.message || err);\r\n                    return;\r\n                }\r\n                if(texture){\r\n                    _this.node.getChildByName('生物').getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(texture);\r\n                    //销毁\r\n                    // this.image.spriteFrame=null;\r\n                }\r\n            });\r\n            if(is_my==0){\r\n                //图片翻转\r\n                this.node.getChildByName('生物').setScale(-1, 1);\r\n            }\r\n        }\r\n        // this.server_type.getComponent(cc.Label).string=info['type'];\r\n        // if(info['type']==1){\r\n        //     this.server_type.getComponent(cc.Label).string='空闲';\r\n        //     this.node.getChildByName('server_type').color = new cc.color('green');\r\n        // }else if(info['num']<500&&info['num']>=100){\r\n        //     this.server_type.getComponent(cc.Label).string='流畅';\r\n        //     this.node.getChildByName('server_type').color = new cc.color('#BDFF00');\r\n        // }else if(info['num']<1000&&info['num']>=500){\r\n        //     this.server_type.getComponent(cc.Label).string='拥挤';\r\n        //     this.node.getChildByName('server_type').color = new cc.color('#FFD100');\r\n        // }else{\r\n        //     this.server_type.getComponent(cc.Label).string='爆满';\r\n        //     this.node.getChildByName('server_type').color = new cc.color('#FF0000'); \r\n        // }\r\n            // var color = ['#FFFFFF','green','#BDFF00','#FFD100','#FF0000','#ffe000',];\r\n            // var type_color = color[info['yiXing']];\r\n            // console.log(info['color']);\r\n            this.node.getChildByName('生物').color = new cc.color(info['color']);\r\n            // console.log(info)\r\n            // var star ='';    \r\n            // for(i=0;i<=info['yiXing'];i++){\r\n            //     star +='⭐';\r\n            // }\r\n            // this.node.getChildByName('生命s').getComponent(cc.Label).string= info['shengMing']+'/'+info['shengMing'];\r\n            this.node.getChildByName('生命s').getComponent(cc.Label).string= info['shengMing']\r\n            // this.node.getChildByName('魔法s').getComponent(cc.Label).string= info['moFa']+'/'+info['moFa'];\r\n            this.node.getChildByName('魔法s').getComponent(cc.Label).string= info['moFa']\r\n            this.node.getChildByName('生物名称s').getComponent(cc.Label).string= info['name'];\r\n            this.node.getChildByName('生物等级s').getComponent(cc.Label).string= '等级'+info['grade']+'('+biolgy_state[info['state']]+')';\r\n            // this.node.getChildByName('星星s').getComponent(cc.Label).string= star;\r\n        // this.node.getChildByName('悟性s').getComponent(cc.Label).string= info['wuXing'];\r\n        // this.server_star.getComponent(cc.Label).string= star;\r\n        // this.server_type.getComponent(cc.Label).string='Lv.'+info['grade']+'('+biolgy_state[info['state']]+')';\r\n        // this.server_type.color = new cc.color(type_color);\r\n        // this.node.getChildByName('server_type').color = new cc.color(type_color);\r\n        // this.server_name.getComponent(cc.Label).string=info['name'];\r\n        // this.server_name.color = new cc.color(type_color);\r\n        // this.node.getChildByName('server_name').color = new cc.color(type_color);\r\n        //创建一个新button 并将其挂载到创建的精灵下\r\n        this.bindClickEvent( this.node.getComponent(cc.Button), info);\r\n    },\r\n    // 绑定按钮事件\r\n    bindClickEvent: function (button, index) {\r\n        // console.log(index)\r\n        var clickEventHandler = new cc.Component.EventHandler();\r\n        //这个 node 节点是你的事件处理代码组件所属的节点\r\n        clickEventHandler.target = this.node; \r\n        //这个是代码文件名\r\n        clickEventHandler.component = \"fightingTools\";  // js脚本文件-绑定\r\n        clickEventHandler.handler = \"onConfirBtn\";// js方法名称--绑定\r\n        clickEventHandler.customEventData = index; // 回调内容\r\n        button.clickEvents.push(clickEventHandler);\r\n    },\r\n \r\n\r\n    //按钮点击回调\r\n    onConfirBtn:function(e,info){\r\n        console.log(info)\r\n\r\n        var _this=this;\r\n        _this.biology_detail_alert(info)\r\n        // var HttpHelper = require(\"../http\"); \r\n        // var httpRequest = new HttpHelper();\r\n        // httpRequest.httpPost('/app/app-apiword/in-word', {\r\n        //     'id': info['id'],\r\n        //     'star': info['star'],\r\n        //     'token': null\r\n        // }, function (data) {\r\n        //     //跳转到世界\r\n        //     httpRequest.playGame(httpRequest.urlConfig(\"sence_zhutian\"));\r\n        //     // console.log(data);\r\n        //     // var server_choes_label  =cc.find(\"Canvas/server/server_choes/server_choes_label\");\r\n        //     // server_choes_label.getComponent(cc.Label).string=info['name'];\r\n        //     // var server_choes_type  =cc.find(\"Canvas/server/server_choes/server_choes_type\");\r\n        //     // server_choes_type.getComponent(cc.Label).string=info['type'];\r\n        //     // server_choes_type.color = new cc.color(info['color']); \r\n        // })\r\n\r\n        // var mask =cc.find(\"Canvas/mask\");\r\n        // mask.active=false\r\n        // var mask =  this.node.getChildByName('mask')\r\n    \r\n        // console.log(this.node.getSiblingIndex())\r\n        // console.log( this.node.parent.getComponent(cc.Button));\r\n     \r\n        // this.node.getChildByName(\"sprite_server_biology\").on('click',function(event){\r\n        //     console.log(\"点击到按钮\");\r\n        //     callback();\r\n        // },this);\r\n        // this.node.active =false; // 直接去掉模型节点\r\n    },\r\n     //查看生物详情_弹窗\r\n     biology_detail_alert(info) {\r\n        // 销毁所有弹窗\r\n        cc.find('Canvas/弹窗').removeAllChildren();\r\n        // console.log(222)\r\n        // var _task =task||0;\r\n        var _this =this;\r\n        //加载预制资源 PrefabUrl为 预制资源在 资源中的路径\r\n        cc.loader.loadRes('/弹窗模型/biology_生物_战斗详情', function(errorMessage,loadedResource){\r\n            //检查资源加载\r\n            if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n            if( !(loadedResource instanceof cc.Prefab ) ) { cc.log( '你载入的不是预制资源!' ); return; }\r\n            //开始实例化预制资源\r\n            var TipBoxPrefab = cc.instantiate(loadedResource);\r\n            //载入生物详情\r\n            _this.biology_detail_info(TipBoxPrefab,info)\r\n\r\n            //将预制资源添加到父节点\r\n            // CanvasNode.addChild(TipBoxPrefab);\r\n\r\n            //请求战斗记录\r\n            // if(_task==1){\r\n            //     console.log(11111)\r\n            //     _this.fightint(sence);\r\n            // }else{\r\n            //     _this.progress(sence);\r\n            // }\r\n        });\r\n    },\r\n    biology_detail_info(TipBoxPrefab,info) {\r\n        var _this =this;\r\n        TipBoxPrefab.getChildByName('血s').getComponent(cc.Label).string= info.shengMing\r\n        TipBoxPrefab.getChildByName('蓝s').getComponent(cc.Label).string= info.moFa\r\n        TipBoxPrefab.getChildByName('生物名称s').getComponent(cc.Label).string=info.name\r\n        TipBoxPrefab.getChildByName('种族名称s').getComponent(cc.Label).string=info.zhong_zhu+'族'\r\n        TipBoxPrefab.getChildByName('生物等级s').getComponent(cc.Label).string='等级'+info.grade\r\n        TipBoxPrefab.getChildByName('触发概率s').getComponent(cc.Label).string='触发率'+info.chuFa+'%'\r\n\r\n        TipBoxPrefab.getChildByName('生物').getComponent(cc.Sprite).spriteFrame= this.node.getChildByName('生物').getComponent(cc.Sprite).spriteFrame\r\n\r\n\r\n        TipBoxPrefab.getChildByName('力量s').getComponent(cc.Label).string='力量:'+info.power\r\n        TipBoxPrefab.getChildByName('敏捷s').getComponent(cc.Label).string='敏捷:'+info.agile\r\n        TipBoxPrefab.getChildByName('智力s').getComponent(cc.Label).string='智力:'+info.intelligence\r\n        TipBoxPrefab.getChildByName('攻击s').getComponent(cc.Label).string='攻击:'+info.gongJi\r\n        TipBoxPrefab.getChildByName('护甲s').getComponent(cc.Label).string='护甲:'+info.huJia\r\n        TipBoxPrefab.getChildByName('速度s').getComponent(cc.Label).string='速度:'+info.suDu\r\n        TipBoxPrefab.getChildByName('特攻s').getComponent(cc.Label).string='特攻:'+info.faGong\r\n        TipBoxPrefab.getChildByName('灵气s').getComponent(cc.Label).string='灵气:'+info.reiki\r\n        TipBoxPrefab.getChildByName('悟性s').getComponent(cc.Label).string='悟性:'+info.wuXing\r\n        TipBoxPrefab.getChildByName('暴击s').getComponent(cc.Label).string='暴击:'+info.baojilv+'%'\r\n        TipBoxPrefab.getChildByName('吸血s').getComponent(cc.Label).string='吸血:'+info.xiXue+'%'\r\n        TipBoxPrefab.getChildByName('暴伤s').getComponent(cc.Label).string='暴伤:'+info.baoji+'%'\r\n        TipBoxPrefab.getChildByName('闪避s').getComponent(cc.Label).string='闪避:'+info.shanbi+'%'\r\n        TipBoxPrefab.getChildByName('命中s').getComponent(cc.Label).string='闪避'+'0%'\r\n        TipBoxPrefab.getChildByName('增伤s').getComponent(cc.Label).string='增伤:'+info.jianShang+'%'\r\n        TipBoxPrefab.getChildByName('减伤s').getComponent(cc.Label).string='减伤:'+info.zhenShang+'%'\r\n\r\n        // content: cc.Node,\r\n        // person: cc.Prefab,\r\n        _this.biology_detail_skill(TipBoxPrefab,info.position_skill);\r\n        cc.find('Canvas/弹窗').addChild(TipBoxPrefab,1);\r\n    },\r\n    //技能图片渲染\r\n    biology_detail_skill(TipBoxPrefab,position_skill){\r\n        var _this =this;\r\n        var TOOLS =[];\r\n        var TOOLS = position_skill;\r\n        var TipBoxPrefab_icon=[];\r\n        for (var prop in position_skill) {\r\n            let skill = TOOLS[prop];\r\n            let image = '/技能图标/'+skill.image;\r\n            //加载预制资源 PrefabUrl为 预制资源在 资源中的路径\r\n            cc.loader.loadRes('/弹窗模型/biology_生物_技能图标', function(errorMessage,loadedResource_icon){\r\n                //检查资源加载\r\n                if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n                if( !(loadedResource_icon instanceof cc.Prefab ) ) { cc.log( '你载入的不是预制资源!' ); return; }\r\n                //开始实例化预制资源\r\n                let   TipBoxPrefab_icon =  cc.instantiate(loadedResource_icon);\r\n                //载入技能图片\r\n                if(image!=''){\r\n                    cc.loader.loadRes(image, cc.SpriteFrame, function (err, texture) { \r\n                        if (err) {\r\n                            // cc.error(err.message || err);\r\n                            return;\r\n                        }\r\n                        TipBoxPrefab_icon.getChildByName('P技能').getComponent(cc.Sprite).spriteFrame = texture; \r\n                    });\r\n                }else{\r\n                    TipBoxPrefab_icon.getChildByName('P技能').getComponent(cc.Sprite).spriteFrame = false; \r\n                }\r\n                //技能等级\r\n                TipBoxPrefab_icon.getChildByName('技能s').getComponent(cc.Label).string=skill.type\r\n\r\n                // 由于加载资源的操作是异步的，如果在加载完成前就绑定了事件，有可能会触发事件的自动执行。\r\n                // 此处进行事件绑定\r\n                TipBoxPrefab_icon.on('click', function () {\r\n                    // 事件处理逻辑\r\n                    _this.bindClickEventIcon(TipBoxPrefab_icon.getComponent(cc.Button), skill,TipBoxPrefab,TipBoxPrefab_icon);\r\n                }, this);\r\n\r\n                //写入icon\r\n                TipBoxPrefab.getChildByName('技能列表').addChild(TipBoxPrefab_icon);\r\n            })\r\n            \r\n        }\r\n        return TipBoxPrefab\r\n    },\r\n    // 绑定按钮事件\r\n    bindClickEventIcon: function (button, skill,TipBoxPrefab,TipBoxPrefab_icon) {\r\n        // cc.log(skill)\r\n        //加载预制资源 PrefabUrl为 预制资源在 资源中的路径\r\n\r\n        // 销毁所有弹窗--节点\r\n        TipBoxPrefab.getChildByName('技能描述').removeAllChildren();\r\n\r\n        let move_type= ['初始化','回合化','被击前触发','被击后触发','攻击前触发','主动','攻击后']\r\n        cc.loader.loadRes('/弹窗模型/biology_生物_战斗技能提示', function(errorMessage,loadedResource){\r\n            //检查资源加载\r\n            if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n            if( !(loadedResource instanceof cc.Prefab ) ) { cc.log( '你载入的不是预制资源!' ); return; }\r\n            //开始实例化预制资源\r\n            let tips_Prefab = cc.instantiate(loadedResource);\r\n            tips_Prefab.getChildByName('D技能图标').getComponent(cc.Sprite).spriteFrame = TipBoxPrefab_icon.getChildByName('P技能').getComponent(cc.Sprite).spriteFrame\r\n            tips_Prefab.getChildByName('D技能名称s').getComponent(cc.Label).string=skill.name+'-['+skill.type+']'\r\n            tips_Prefab.getChildByName('D技能消耗s').getComponent(cc.Label).string='消耗:   '+Math.abs(skill.needValue)\r\n            var attack=skill.attack==0?'被动':'主动'\r\n            tips_Prefab.getChildByName('D技能类型s').getComponent(cc.Label).string='触发: '+attack\r\n            var star ='';    \r\n            for(var i=0;i<=skill['type'];i++){\r\n                star +='☆';\r\n            }\r\n            tips_Prefab.getChildByName('D技能星级s').getComponent(cc.Label).string='稀有程度：'+star\r\n            var hurtType=skill.hurtType==1?'物理':'法术'\r\n            tips_Prefab.getChildByName('D技能攻击s').getComponent(cc.Label).string='攻击类型: '+hurtType\r\n            tips_Prefab.getChildByName('D技能触发s').getComponent(cc.Label).string='触发几率：'+skill.probability+'%'\r\n            tips_Prefab.getChildByName('D发动时机s').getComponent(cc.Label).string='攻击类型: '+move_type[skill.belong]\r\n            tips_Prefab.getChildByName('D技能来源s').getComponent(cc.Label).string='技能来源：'+skill.words \r\n            tips_Prefab.getChildByName('D技能描述s').getComponent(cc.Label).string='技能说明：'+skill.describe\r\n\r\n            //载入生物详情\r\n            TipBoxPrefab.getChildByName('技能描述').addChild(tips_Prefab);\r\n\r\n        });\r\n\r\n\r\n    },\r\n});\r\n"]}