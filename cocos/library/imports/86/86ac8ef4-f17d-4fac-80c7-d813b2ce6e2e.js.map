{"version":3,"sources":["assets\\Script\\home\\bag_详情Tools.js"],"names":["HttpHelper","require","httpRequest","cc","Class","Component","properties","biology_detail_alert","TipBoxPrefab_model","info","gooduse_type","_this","loader","loadRes","errorMessage","loadedResource_icon","log","Prefab","TipBoxPrefab","instantiate","biology_detail_list","bind_button","getChildByName","addChild","on","removeAllChildren","image","point","SpriteFrame","err","texture","getComponent","Sprite","spriteFrame","Label","string","name","color","nature_color","describe","nature_grade","nature"],"mappings":";;;;;;AAAA,IAAIA,UAAU,GAAGC,OAAO,CAAC,SAAD,CAAxB;;AACA,IAAIC,WAAW,GAAG,IAAIF,UAAJ,EAAlB;AACAG,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE,EAHP;AAOL;AAEA;AACC;AACAC,EAAAA,oBAXI,gCAWiBC,kBAXjB,EAWoCC,IAXpC,EAWyCC,YAXzC,EAWsD;AACvD;AACA,QAAIC,KAAK,GAAC,IAAV;;AACAR,IAAAA,EAAE,CAACS,MAAH,CAAUC,OAAV,CAAkB,iBAAlB,EAAqC,UAASC,YAAT,EAAsBC,mBAAtB,EAA0C;AAC3E;AACA,UAAID,YAAJ,EAAmB;AAAEX,QAAAA,EAAE,CAACa,GAAH,CAAQ,kBAAkBF,YAA1B;AAA0C;AAAS;;AACxE,UAAI,EAAEC,mBAAmB,YAAYZ,EAAE,CAACc,MAApC,CAAJ,EAAmD;AAAEd,QAAAA,EAAE,CAACa,GAAH,CAAQ,aAAR;AAAyB;AAAS,OAHZ,CAI3E;;;AACA,UAAME,YAAY,GAAIf,EAAE,CAACgB,WAAH,CAAeJ,mBAAf,CAAtB,CAL2E,CAQ3E;AACA;AACA;AAEA;AACA;;AACAJ,MAAAA,KAAK,CAACS,mBAAN,CAA0BF,YAA1B,EAAuCT,IAAvC,EAA4CC,YAA5C,EAd2E,CAexE;;;AACHC,MAAAA,KAAK,CAACU,WAAN,CAAkBb,kBAAlB,EAAqCU,YAArC,EAAkDT,IAAlD,EAhB2E,CAiB3E;;;AACAD,MAAAA,kBAAkB,CAACc,cAAnB,CAAkC,MAAlC,EAA0CC,QAA1C,CAAmDL,YAAnD;AACA,aAAOV,kBAAP;AACH,KApBD;AAqBA,WAAOA,kBAAP;AACH,GApCI;AAqCL;AACAa,EAAAA,WAtCK,uBAsCOb,kBAtCP,EAsC0BU,YAtC1B,EAsCuCT,IAtCvC,EAsC4C;AAC7CS,IAAAA,YAAY,CAACI,cAAb,CAA4B,IAA5B,EAAkCE,EAAlC,CAAqC,OAArC,EAA8C,YAAY;AACtD;AACA;AACAhB,MAAAA,kBAAkB,CAACc,cAAnB,CAAkC,MAAlC,EAA0CG,iBAA1C,GAHsD,CAItD;AACA;AACH,KAND,EAMG,IANH;AAOH,GA9CI;AA+CLL,EAAAA,mBA/CK,+BA+CeF,YA/Cf,EA+C4BT,IA/C5B,EA+CiCC,YA/CjC,EA+C8C;AAE/C,QAAIgB,KAAK,GAAGjB,IAAI,CAACkB,KAAjB;AACAxB,IAAAA,EAAE,CAACS,MAAH,CAAUC,OAAV,CAAkBa,KAAlB,EAAyBvB,EAAE,CAACyB,WAA5B,EAAyC,UAAUC,GAAV,EAAeC,OAAf,EAAwB;AAC7D,UAAID,GAAJ,EAAS;AACL;AACA;AACH;;AACDX,MAAAA,YAAY,CAACI,cAAb,CAA4B,KAA5B,EAAmCS,YAAnC,CAAgD5B,EAAE,CAAC6B,MAAnD,EAA2DC,WAA3D,GAAyEH,OAAzE;AACH,KAND;AAOAZ,IAAAA,YAAY,CAACI,cAAb,CAA4B,KAA5B,EAAmCS,YAAnC,CAAgD5B,EAAE,CAAC+B,KAAnD,EAA0DC,MAA1D,GAAiE1B,IAAI,CAAC2B,IAAtE;AACAlB,IAAAA,YAAY,CAACI,cAAb,CAA4B,KAA5B,EAAmCe,KAAnC,GAA2C,IAAIlC,EAAE,CAACkC,KAAP,CAAa5B,IAAI,CAAC6B,YAAlB,CAA3C;AACApB,IAAAA,YAAY,CAACI,cAAb,CAA4B,KAA5B,EAAmCS,YAAnC,CAAgD5B,EAAE,CAAC+B,KAAnD,EAA0DC,MAA1D,GAAiE1B,IAAI,CAAC8B,QAAtE,CAZ+C,CAa/C;;AACArB,IAAAA,YAAY,CAACI,cAAb,CAA4B,KAA5B,EAAmCS,YAAnC,CAAgD5B,EAAE,CAAC+B,KAAnD,EAA0DC,MAA1D,GAAiE1B,IAAI,CAAC+B,YAAtE;AACAtB,IAAAA,YAAY,CAACI,cAAb,CAA4B,KAA5B,EAAmCS,YAAnC,CAAgD5B,EAAE,CAAC+B,KAAnD,EAA0DC,MAA1D,GAAiE1B,IAAI,CAACgC,MAAtE;AAIH;AAlEI,CAAT","sourceRoot":"/","sourcesContent":["var HttpHelper = require(\"../http\"); \r\nvar httpRequest = new HttpHelper();\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n     //技能图片渲染\r\n     biology_detail_alert(TipBoxPrefab_model,info,gooduse_type){\r\n        // gooduse_type  1武器  详情类型必传，不然无法区分类型\r\n        var _this=this;\r\n        cc.loader.loadRes('/model背包/背包装备详情', function(errorMessage,loadedResource_icon){\r\n            //检查资源加载\r\n            if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n            if( !(loadedResource_icon instanceof cc.Prefab ) ) { cc.log( '你载入的不是预制资源!' ); return; }\r\n            //开始实例化预制资源\r\n            let   TipBoxPrefab =  cc.instantiate(loadedResource_icon);\r\n\r\n\r\n            //技能等级\r\n            // TipBoxPrefab.getChildByName('生物数量s').getComponent(cc.Label).string='生物('+info_list.length+'/60)'\r\n            // 由于加载资源的操作是异步的，如果在加载完成前就绑定了事件，有可能会触发事件的自动执行。\r\n            \r\n            // 由于加载资源的操作是异步的，如果在加载完成前就绑定了事件，有可能会触发事件的自动执行。\r\n            //渲染详情\r\n            _this.biology_detail_list(TipBoxPrefab,info,gooduse_type)\r\n               // 此处进行事件绑定\r\n            _this.bind_button(TipBoxPrefab_model,TipBoxPrefab,info)\r\n            //写入icon\r\n            TipBoxPrefab_model.getChildByName('中间弹窗').addChild(TipBoxPrefab);\r\n            return TipBoxPrefab_model\r\n        })\r\n        return TipBoxPrefab_model\r\n    },\r\n    //绑定点击事件--关闭遮罩\r\n    bind_button(TipBoxPrefab_model,TipBoxPrefab,info){\r\n        TipBoxPrefab.getChildByName('遮罩').on('click', function () {\r\n            // 事件处理逻辑\r\n            //移除挂载\r\n            TipBoxPrefab_model.getChildByName('中间弹窗').removeAllChildren();\r\n            //重新挂载\r\n            // TipBoxPrefab_model.getComponent('biology_skillTools').biology_detail_alert(TipBoxPrefab_model,info)\r\n        }, this);\r\n    },\r\n    biology_detail_list(TipBoxPrefab,info,gooduse_type){\r\n\r\n        let image = info.point;\r\n        cc.loader.loadRes(image, cc.SpriteFrame, function (err, texture) { \r\n            if (err) {\r\n                // cc.error(err.message || err);\r\n                return;\r\n            }\r\n            TipBoxPrefab.getChildByName('P技能').getComponent(cc.Sprite).spriteFrame = texture; \r\n        });\r\n        TipBoxPrefab.getChildByName('名称s').getComponent(cc.Label).string=info.name\r\n        TipBoxPrefab.getChildByName('名称s').color = new cc.color(info.nature_color);\r\n        TipBoxPrefab.getChildByName('介绍s').getComponent(cc.Label).string=info.describe\r\n        // (白 绿 蓝 紫 金 红 橙) 鬼仙神（彩）\r\n        TipBoxPrefab.getChildByName('评分s').getComponent(cc.Label).string=info.nature_grade\r\n        TipBoxPrefab.getChildByName('属性s').getComponent(cc.Label).string=info.nature\r\n\r\n\r\n\r\n    },\r\n});\r\n"]}