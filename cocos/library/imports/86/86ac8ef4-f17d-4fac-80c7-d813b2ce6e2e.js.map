{"version":3,"sources":["assets\\Script\\背包\\bag_详情Tools.js"],"names":["cc","Class","Component","properties","biology_detail_alert_goods","TipBoxPrefab_icon","info","http_globalData","goodsinfo","_this","loader","loadRes","errorMessage","loadedResource_icon","log","Prefab","TipBoxPrefab","instantiate","goodsid","id","getChildByName","getComponent","Label","string","gooduse","gooduse_type","type_name","biology_detail_list","bind_button","http_globalAsset","TipBoxPrefab_model","addChild","on","removeAllChildren","biology_init","Sprite","spriteFrame","http_base_asset_zhuangbei","point","name","color","nature_color","describe","nature_grade","nature"],"mappings":"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","sourceRoot":"/","sourcesContent":["// require(\"../common\"); \r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n    },\r\n    //技能图片渲染  is_use  0卸下  1使用\r\n    biology_detail_alert_goods(TipBoxPrefab_icon,info){\r\n        http_globalData.goodsinfo = info; //选择物品\r\n        // let gooduse_list = http_globalData.gooduse;\r\n        // gooduse_type  1武器  详情类型必传，不然无法区分类型\r\n        var _this=this;\r\n        cc.loader.loadRes('/model背包/背包装备详情', function(errorMessage,loadedResource_icon){\r\n            //检查资源加载\r\n            if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n            if( !(loadedResource_icon instanceof cc.Prefab ) ) { cc.log( '你载入的不是预制资源!' ); return; }\r\n            //开始实例化预制资源\r\n            let   TipBoxPrefab =  cc.instantiate(loadedResource_icon);\r\n            //按钮--物品是否相等\r\n            if(http_globalData.goodsid!=http_globalData.goodsinfo.id){\r\n                TipBoxPrefab.getChildByName('卸下s').getComponent(cc.Label).string = http_globalData.gooduse[http_globalData.gooduse_type].type_name   \r\n            }\r\n            //技能等级\r\n            // TipBoxPrefab.getChildByName('生物数量s').getComponent(cc.Label).string='生物('+info_list.length+'/60)'\r\n            // 由于加载资源的操作是异步的，如果在加载完成前就绑定了事件，有可能会触发事件的自动执行。\r\n            \r\n            // 由于加载资源的操作是异步的，如果在加载完成前就绑定了事件，有可能会触发事件的自动执行。\r\n            //渲染详情\r\n            _this.biology_detail_list(TipBoxPrefab)\r\n               // 此处进行事件绑定\r\n            _this.bind_button(TipBoxPrefab_icon,TipBoxPrefab)\r\n            //写入icon\r\n                http_globalAsset.TipBoxPrefab_model.getChildByName('中间弹窗').addChild(TipBoxPrefab);\r\n            // return     http_globalAsset.TipBoxPrefab_model\r\n        })\r\n        // return     http_globalAsset.TipBoxPrefab_model\r\n    },\r\n    //绑定点击事件--关闭遮罩\r\n    bind_button(TipBoxPrefab_icon,TipBoxPrefab){\r\n        TipBoxPrefab.getChildByName('遮罩').on('click', function () {\r\n            // 事件处理逻辑\r\n            //移除挂载\r\n                http_globalAsset.TipBoxPrefab_model.getChildByName('中间弹窗').removeAllChildren();\r\n            //重新挂载\r\n            //     http_globalAsset.TipBoxPrefab_model.getComponent('biology_skillTools').biology_detail_alert(info)\r\n        }, this);\r\n        //物品使用事件\r\n        TipBoxPrefab.getChildByName('卸下').on('click', function () {\r\n            // 事件处理逻辑\r\n            //移除挂载\r\n                http_globalAsset.TipBoxPrefab_model.getChildByName('中间弹窗').removeAllChildren();\r\n            //重新挂载--按钮事件类型--定义按钮事件类型\r\n                http_globalAsset.TipBoxPrefab_model.getComponent('bag_详情按钮Tools').biology_init(TipBoxPrefab_icon)\r\n        }, this);\r\n    },\r\n    biology_detail_list(TipBoxPrefab){\r\n        TipBoxPrefab.getChildByName('P技能').getComponent(cc.Sprite).spriteFrame = http_globalAsset.http_base_asset_zhuangbei[http_globalData.goodsinfo.point]\r\n        TipBoxPrefab.getChildByName('名称s').getComponent(cc.Label).string=http_globalData.goodsinfo.name\r\n        TipBoxPrefab.getChildByName('名称s').color = new cc.color(http_globalData.goodsinfo.nature_color);\r\n        TipBoxPrefab.getChildByName('介绍s').getComponent(cc.Label).string=http_globalData.goodsinfo.describe\r\n        // (白 绿 蓝 紫 金 红 橙) 鬼仙神（彩）\r\n        TipBoxPrefab.getChildByName('评分s').getComponent(cc.Label).string=http_globalData.goodsinfo.nature_grade\r\n        TipBoxPrefab.getChildByName('属性s').getComponent(cc.Label).string=http_globalData.goodsinfo.nature\r\n    },\r\n});\r\n"]}