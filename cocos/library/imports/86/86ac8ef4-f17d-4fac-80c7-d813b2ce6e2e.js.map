{"version":3,"sources":["assets\\Script\\背包\\bag_详情Tools.js"],"names":["HttpHelper","require","httpRequest","cc","Class","Component","properties","biology_detail_alert","TipBoxPrefab_model","TipBoxPrefab_icon","info","gooduse_type","button_name","is_use","gooduse_list","http_globalData","gooduse","_this","loader","loadRes","errorMessage","loadedResource_icon","log","Prefab","TipBoxPrefab","instantiate","getChildByName","getComponent","Label","string","biology_detail_list","bind_button","addChild","on","removeAllChildren","biology_init","id","image","point","SpriteFrame","err","texture","Sprite","spriteFrame","name","color","nature_color","describe","nature_grade","nature"],"mappings":"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","sourceRoot":"/","sourcesContent":["var HttpHelper = require(\"../http\"); \r\nvar httpRequest = new HttpHelper();\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n     //技能图片渲染  is_use  0卸下  1使用\r\n     biology_detail_alert(TipBoxPrefab_model,TipBoxPrefab_icon,info,gooduse_type,button_name,is_use){\r\n        let gooduse_list = http_globalData.gooduse;\r\n        // gooduse_type  1武器  详情类型必传，不然无法区分类型\r\n        var _this=this;\r\n        cc.loader.loadRes('/model背包/背包装备详情', function(errorMessage,loadedResource_icon){\r\n            //检查资源加载\r\n            if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n            if( !(loadedResource_icon instanceof cc.Prefab ) ) { cc.log( '你载入的不是预制资源!' ); return; }\r\n            //开始实例化预制资源\r\n            let   TipBoxPrefab =  cc.instantiate(loadedResource_icon);\r\n            //按钮\r\n            if(is_use==1){\r\n                TipBoxPrefab.getChildByName('卸下s').getComponent(cc.Label).string=gooduse_list[gooduse_type].button_name   \r\n            }\r\n            //技能等级\r\n            // TipBoxPrefab.getChildByName('生物数量s').getComponent(cc.Label).string='生物('+info_list.length+'/60)'\r\n            // 由于加载资源的操作是异步的，如果在加载完成前就绑定了事件，有可能会触发事件的自动执行。\r\n            \r\n            // 由于加载资源的操作是异步的，如果在加载完成前就绑定了事件，有可能会触发事件的自动执行。\r\n            //渲染详情\r\n            _this.biology_detail_list(TipBoxPrefab,info,gooduse_type)\r\n               // 此处进行事件绑定\r\n            _this.bind_button(TipBoxPrefab_model,TipBoxPrefab_icon,TipBoxPrefab,info,button_name,is_use)\r\n            //写入icon\r\n            TipBoxPrefab_model.getChildByName('中间弹窗').addChild(TipBoxPrefab);\r\n            return TipBoxPrefab_model\r\n        })\r\n        return TipBoxPrefab_model\r\n    },\r\n    //绑定点击事件--关闭遮罩\r\n    bind_button(TipBoxPrefab_model,TipBoxPrefab_icon,TipBoxPrefab,info,button_name,is_use){\r\n        TipBoxPrefab.getChildByName('遮罩').on('click', function () {\r\n            // 事件处理逻辑\r\n            //移除挂载\r\n            TipBoxPrefab_model.getChildByName('中间弹窗').removeAllChildren();\r\n            //重新挂载\r\n            // TipBoxPrefab_model.getComponent('biology_skillTools').biology_detail_alert(TipBoxPrefab_model,info)\r\n        }, this);\r\n        //物品使用事件\r\n        TipBoxPrefab.getChildByName('卸下').on('click', function () {\r\n            // 事件处理逻辑\r\n            //移除挂载\r\n            TipBoxPrefab_model.getChildByName('中间弹窗').removeAllChildren();\r\n            //重新挂载--按钮事件类型--定义按钮事件类型\r\n            TipBoxPrefab_model.getComponent('bag_详情按钮Tools').biology_init(TipBoxPrefab_model,TipBoxPrefab_icon,info.id,button_name,is_use)\r\n        }, this);\r\n    },\r\n\r\n\r\n\r\n\r\n\r\n\r\n    biology_detail_list(TipBoxPrefab,info,gooduse_type){\r\n        let image = info.point;\r\n        cc.loader.loadRes(image, cc.SpriteFrame, function (err, texture) { \r\n            if (err) {\r\n                // cc.error(err.message || err);\r\n                return;\r\n            }\r\n            TipBoxPrefab.getChildByName('P技能').getComponent(cc.Sprite).spriteFrame = texture; \r\n        });\r\n        TipBoxPrefab.getChildByName('名称s').getComponent(cc.Label).string=info.name\r\n        TipBoxPrefab.getChildByName('名称s').color = new cc.color(info.nature_color);\r\n        TipBoxPrefab.getChildByName('介绍s').getComponent(cc.Label).string=info.describe\r\n        // (白 绿 蓝 紫 金 红 橙) 鬼仙神（彩）\r\n        TipBoxPrefab.getChildByName('评分s').getComponent(cc.Label).string=info.nature_grade\r\n        TipBoxPrefab.getChildByName('属性s').getComponent(cc.Label).string=info.nature\r\n    },\r\n});\r\n"]}