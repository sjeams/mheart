{"version":3,"sources":["assets\\Script\\home\\bag_详情Tools.js"],"names":["HttpHelper","require","httpRequest","cc","Class","Component","properties","biology_detail_alert","TipBoxPrefab_model","info","gooduse_type","is_use","bag_list","globalData","bag","gooduse_list","gooduse","log","_this","loader","loadRes","errorMessage","loadedResource_icon","Prefab","TipBoxPrefab","instantiate","getChildByName","getComponent","Label","string","button_name","biology_detail_list","bind_button","addChild","on","removeAllChildren","image","point","SpriteFrame","err","texture","Sprite","spriteFrame","name","color","nature_color","describe","nature_grade","nature"],"mappings":"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","sourceRoot":"/","sourcesContent":["var HttpHelper = require(\"../http\"); \r\nvar httpRequest = new HttpHelper();\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n     //技能图片渲染  is_use  0卸下  1使用\r\n     biology_detail_alert(TipBoxPrefab_model,info,gooduse_type,is_use){\r\n        //加载背包 和  背包列表\r\n        let bag_list = cc.globalData.bag\r\n        let gooduse_list = cc.globalData.gooduse;\r\n        cc.log(gooduse_list)\r\n        // gooduse_type  1武器  详情类型必传，不然无法区分类型\r\n        var _this=this;\r\n        cc.loader.loadRes('/model背包/背包装备详情', function(errorMessage,loadedResource_icon){\r\n            //检查资源加载\r\n            if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n            if( !(loadedResource_icon instanceof cc.Prefab ) ) { cc.log( '你载入的不是预制资源!' ); return; }\r\n            //开始实例化预制资源\r\n            let   TipBoxPrefab =  cc.instantiate(loadedResource_icon);\r\n            //按钮\r\n            if(is_use==1){\r\n                TipBoxPrefab.getChildByName('卸下s').getComponent(cc.Label).string=gooduse_list[gooduse_type].button_name\r\n \r\n            }\r\n            //技能等级\r\n            // TipBoxPrefab.getChildByName('生物数量s').getComponent(cc.Label).string='生物('+info_list.length+'/60)'\r\n            // 由于加载资源的操作是异步的，如果在加载完成前就绑定了事件，有可能会触发事件的自动执行。\r\n            \r\n            // 由于加载资源的操作是异步的，如果在加载完成前就绑定了事件，有可能会触发事件的自动执行。\r\n            //渲染详情\r\n            _this.biology_detail_list(TipBoxPrefab,info,gooduse_type)\r\n               // 此处进行事件绑定\r\n            _this.bind_button(TipBoxPrefab_model,TipBoxPrefab,info)\r\n            //写入icon\r\n            TipBoxPrefab_model.getChildByName('中间弹窗').addChild(TipBoxPrefab);\r\n            return TipBoxPrefab_model\r\n        })\r\n        return TipBoxPrefab_model\r\n    },\r\n    //绑定点击事件--关闭遮罩\r\n    bind_button(TipBoxPrefab_model,TipBoxPrefab,info){\r\n        TipBoxPrefab.getChildByName('遮罩').on('click', function () {\r\n            // 事件处理逻辑\r\n            //移除挂载\r\n            TipBoxPrefab_model.getChildByName('中间弹窗').removeAllChildren();\r\n            //重新挂载\r\n            // TipBoxPrefab_model.getComponent('biology_skillTools').biology_detail_alert(TipBoxPrefab_model,info)\r\n        }, this);\r\n        //物品使用事件\r\n        TipBoxPrefab.getChildByName('卸下').on('click', function () {\r\n            cc.log('卸下')\r\n            // 事件处理逻辑\r\n            //移除挂载\r\n            TipBoxPrefab_model.getChildByName('中间弹窗').removeAllChildren();\r\n            //重新挂载\r\n            // TipBoxPrefab_model.getComponent('biology_skillTools').biology_detail_alert(TipBoxPrefab_model,info)\r\n        }, this);\r\n    },\r\n\r\n\r\n\r\n\r\n\r\n\r\n    biology_detail_list(TipBoxPrefab,info,gooduse_type){\r\n        let image = info.point;\r\n        cc.loader.loadRes(image, cc.SpriteFrame, function (err, texture) { \r\n            if (err) {\r\n                // cc.error(err.message || err);\r\n                return;\r\n            }\r\n            TipBoxPrefab.getChildByName('P技能').getComponent(cc.Sprite).spriteFrame = texture; \r\n        });\r\n        TipBoxPrefab.getChildByName('名称s').getComponent(cc.Label).string=info.name\r\n        TipBoxPrefab.getChildByName('名称s').color = new cc.color(info.nature_color);\r\n        TipBoxPrefab.getChildByName('介绍s').getComponent(cc.Label).string=info.describe\r\n        // (白 绿 蓝 紫 金 红 橙) 鬼仙神（彩）\r\n        TipBoxPrefab.getChildByName('评分s').getComponent(cc.Label).string=info.nature_grade\r\n        TipBoxPrefab.getChildByName('属性s').getComponent(cc.Label).string=info.nature\r\n    },\r\n});\r\n"]}