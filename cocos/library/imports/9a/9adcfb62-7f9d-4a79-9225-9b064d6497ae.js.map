{"version":3,"sources":["assets\\Script\\fighting\\figthingExtend.js"],"names":["FightingExtend","cc","Class","playAction","node","biology","extend","getChildByName","color","getComponent","Label","string","hurt_msg","hurt_go_value","shengMing","progressBar","ProgressBar","progress","completeCount","totalCount","active","opacity","runAction","moveBy","v2","fadeOut","callFunc","is_my","setScale","jing_bi","moFa","getFightingExtend"],"mappings":"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","sourceRoot":"/","sourcesContent":["/*\r\n * @Author: sjeam\r\n * @Date: 2024-01-08 15:33:42\r\n * @Description: \r\n */\r\nconst FightingExtend = cc.Class({\r\n  playAction(node,biology){\r\n    if(biology.extend=='shengMing'){\r\n      //血条动作\r\n      node.getChildByName('扣血s').color = new cc.color('FF0000');\r\n      node.getChildByName('扣血s').getComponent(cc.Label).string= biology.hurt_msg\r\n      node.getChildByName('生命s').getComponent(cc.Label).string= biology.hurt_go_value +'/'+ node.shengMing \r\n      var progressBar = node.getChildByName('生命').getComponent(cc.ProgressBar)\r\n      progressBar.progress = biology.hurt_go_value / node.shengMing\r\n      progressBar.completeCount = biology.hurt_go_value;\r\n      progressBar.totalCount = node.shengMing;\r\n      //扣血渐隐\r\n      node.getChildByName('扣血s').active=true\r\n      node.getChildByName('扣血s').opacity=255\r\n      node.getChildByName('扣血s').runAction(cc.moveBy(1,cc.v2(0,100)));\r\n      node.getChildByName('扣血s').runAction(cc.fadeOut(1),cc.callFunc(function(){  node.getChildByName('扣血s').active=false },this));\r\n      node.getChildByName('扣血s').runAction(cc.moveBy(0.01,cc.v2(0,-100)));\r\n      //受伤动画\r\n      node.getChildByName('受伤').active=true\r\n      node.getChildByName('受伤').opacity=255\r\n      node.getChildByName('受伤').runAction(cc.fadeOut(1),cc.callFunc(function(){  node.getChildByName('受伤').active=false },this));\r\n      if(biology.hurt_go_value==0){\r\n        node.getChildByName('悟性').active=false\r\n        node.getChildByName('生命').active=false\r\n        node.getChildByName('魔法').active=false\r\n        node.getChildByName('悟性s').active=false\r\n        node.getChildByName('生命s').active=false\r\n        node.getChildByName('魔法s').active=false\r\n        node.getChildByName('生物').active=false\r\n        // node.getChildByName('扣血s').active=false \r\n        // node.getChildByName('扣蓝s').active=false \r\n        // 死亡\r\n        node.getChildByName('死亡').active=true\r\n        // cc.loader.loadRes('biology_pic/1墓碑', function (err, texture) {  \r\n        //   node.getChildByName('受伤').getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(texture);\r\n        // })\r\n        if(node.is_my==0){\r\n          //图片翻转\r\n            node.getChildByName('生物').setScale(-1, 1);\r\n        }\r\n        // cc.log(biology)\r\n        // node.getChildByName('受伤').runAction(cc.fadeIn(1),cc.callFunc(function(){  node.getChildByName('受伤').active=false },this));\r\n        //金币\r\n        node.getChildByName('金币s').getComponent(cc.Label).string= '+$'+node.jing_bi\r\n        node.getChildByName('金币s').active=true\r\n        node.getChildByName('金币s').opacity=255\r\n        // node.getChildByName('金币s').runAction(cc.moveBy(3,cc.v2(0,100)));\r\n        node.getChildByName('金币s').runAction(cc.fadeOut(3),cc.callFunc(function(){  node.getChildByName('金币s').active=false },this));\r\n        // node.getChildByName('金币s').runAction(cc.moveBy(0.01,cc.v2(0,-100)));\r\n\r\n      }\r\n    }\r\n  \r\n    if(biology.extend=='moFa'){\r\n      // node.getChildByName('扣血s').color = new cc.color('#3568D5');\r\n      node.getChildByName('扣蓝s').getComponent(cc.Label).string= biology.hurt_msg\r\n      node.getChildByName('魔法s').getComponent(cc.Label).string= biology.hurt_go_value+'/'+node.moFa\r\n      var progressBar = node.getChildByName('魔法').getComponent(cc.ProgressBar)\r\n      progressBar.progress = biology.hurt_go_value / node.moFa\r\n      progressBar.completeCount = biology.hurt_go_value;\r\n      progressBar.totalCount = node.moFa;\r\n      //扣蓝渐隐\r\n      node.getChildByName('扣蓝s').active=true\r\n      node.getChildByName('扣蓝s').opacity=255\r\n      node.getChildByName('扣蓝s').runAction(cc.moveBy(1,cc.v2(0,100)));\r\n      node.getChildByName('扣蓝s').runAction(cc.fadeOut(1),cc.callFunc(function(){  node.getChildByName('扣血s').active=false },this));\r\n      node.getChildByName('扣蓝s').runAction(cc.moveBy(0.01,cc.v2(0,-100)));\r\n    }\r\n  \r\n  }\r\n});\r\ngetFightingExtend = new FightingExtend();"]}