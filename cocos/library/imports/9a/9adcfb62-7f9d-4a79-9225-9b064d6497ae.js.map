{"version":3,"sources":["assets\\Script\\fighting\\figthingExtend.js"],"names":["FightingExtend","cc","Class","playTips","node","biology","is_skill","descript_go_msg","log","getChildByName","getComponent","Label","string","active","opacity","runAction","fadeOut","callFunc","extend","playAction","hurt_go_value","shengMing","progressBar","ProgressBar","progress","completeCount","totalCount","hurt_go","hurt_msg","moveBy","v2","is_my","setScale","moFa","getFightingExtend"],"mappings":"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","sourceRoot":"/","sourcesContent":["/*\r\n * @Author: sjeam\r\n * @Date: 2024-01-08 15:33:42\r\n * @Description: \r\n */\r\nconst FightingExtend = cc.Class({\r\n\r\n\r\n  \r\n  //提示动作\r\n  playTips(node,biology,is_skill){\r\n        //技能名称\r\n        if(biology.descript_go_msg!=''){\r\n          cc.log(biology.descript_go_msg)\r\n            node.getChildByName('技能s').getComponent(cc.Label).string=biology.descript_go_msg\r\n            node.getChildByName('技能s').active=true\r\n            node.getChildByName('技能s').opacity=255\r\n            // node.getChildByName('技能s').runAction(cc.moveBy(3,cc.v2(0,60)));\r\n            node.getChildByName('技能s').runAction(cc.fadeOut(1.2),cc.callFunc(function(){  node.getChildByName('技能s').active=false },this));\r\n            // node.getChildByName('技能s').runAction(cc.moveBy(0.01,cc.v2(0,-60)));\r\n        }\r\n        if(biology.extend=='闪避'){\r\n          node.getChildByName('技能s').getComponent(cc.Label).string='闪避';\r\n          node.getChildByName('技能s').active=true\r\n          node.getChildByName('技能s').opacity=255\r\n          // node.getChildByName('技能s').runAction(cc.moveBy(3,cc.v2(0,60)));\r\n          node.getChildByName('技能s').runAction(cc.fadeOut(1.2),cc.callFunc(function(){  node.getChildByName('技能s').active=false },this));\r\n        }\r\n  },\r\n  //攻击动作\r\n  playAction(node,biology,is_skill){\r\n    var is_skill=is_skill||0\r\n\r\n    //技能--攻击动画\r\n    if(is_skill!=0){\r\n      node.getChildByName('技能效果').active=true\r\n      node.getChildByName('技能效果').opacity=255\r\n      node.getChildByName('技能效果').runAction(cc.fadeOut(1.2),cc.callFunc(function(){  node.getChildByName('技能效果').active=false },this));\r\n    }\r\n    // cc.log(biology)\r\n    if(biology.extend=='shengMing'){\r\n      //血条动作\r\n      node.getChildByName('生命s').getComponent(cc.Label).string= biology.hurt_go_value +'/'+ node.shengMing \r\n      var progressBar = node.getChildByName('生命').getComponent(cc.ProgressBar)\r\n      progressBar.progress = biology.hurt_go_value / node.shengMing\r\n      progressBar.completeCount = biology.hurt_go_value;\r\n      progressBar.totalCount = node.shengMing;\r\n      if(biology.hurt_go>=0){\r\n        //加血渐隐\r\n        // node.getChildByName('加血s').color = new cc.color('FF0000');\r\n        node.getChildByName('加血s').getComponent(cc.Label).string= biology.hurt_msg\r\n        node.getChildByName('加血s').active=true\r\n        node.getChildByName('加血s').opacity=255\r\n        node.getChildByName('加血s').runAction(cc.moveBy(0.3,cc.v2(0,60)));\r\n        node.getChildByName('加血s').runAction(cc.fadeOut(1.2),cc.callFunc(function(){  node.getChildByName('加血s').active=false },this));\r\n        node.getChildByName('加血s').runAction(cc.moveBy(0.01,cc.v2(0,-60)));\r\n      }else{\r\n        //扣血渐隐\r\n        node.getChildByName('扣血s').getComponent(cc.Label).string= biology.hurt_msg\r\n        node.getChildByName('扣血s').active=true\r\n        node.getChildByName('扣血s').opacity=255\r\n        node.getChildByName('扣血s').runAction(cc.moveBy(0.3,cc.v2(0,60)));\r\n        node.getChildByName('扣血s').runAction(cc.fadeOut(1.2),cc.callFunc(function(){  node.getChildByName('扣血s').active=false },this));\r\n        node.getChildByName('扣血s').runAction(cc.moveBy(0.01,cc.v2(0,-60)));\r\n        //受伤动画\r\n        node.getChildByName('受伤').active=true\r\n        node.getChildByName('受伤').opacity=255\r\n        node.getChildByName('受伤').runAction(cc.fadeOut(1.2),cc.callFunc(function(){  node.getChildByName('受伤').active=false },this));\r\n      }\r\n      //死亡\r\n      if(biology.hurt_go_value==0){\r\n        node.getChildByName('悟性').active=false\r\n        node.getChildByName('生命').active=false\r\n        node.getChildByName('魔法').active=false\r\n        node.getChildByName('悟性s').active=false\r\n        node.getChildByName('生命s').active=false\r\n        node.getChildByName('魔法s').active=false\r\n        node.getChildByName('生物').active=false\r\n        // node.getChildByName('扣血s').active=false \r\n        // node.getChildByName('扣蓝s').active=false \r\n        // 死亡\r\n        node.getChildByName('死亡').active=true\r\n        // cc.loader.loadRes('biology_pic/1墓碑', function (err, texture) {  \r\n        //   node.getChildByName('受伤').getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(texture);\r\n        // })\r\n        if(node.is_my==0){\r\n          //图片翻转\r\n            node.getChildByName('生物').setScale(-1, 1);\r\n        }\r\n        // cc.log(biology)\r\n        // node.getChildByName('受伤').runAction(cc.fadeIn(1),cc.callFunc(function(){  node.getChildByName('受伤').active=false },this));\r\n        //金币\r\n        // node.getChildByName('金币s').getComponent(cc.Label).string= '+$'+node.jing_bi\r\n        // node.getChildByName('金币s').active=true\r\n        // node.getChildByName('金币s').opacity=255\r\n        // // node.getChildByName('金币s').runAction(cc.moveBy(3,cc.v2(0,60)));\r\n        // node.getChildByName('金币s').runAction(cc.fadeOut(3),cc.callFunc(function(){  node.getChildByName('金币s').active=false },this));\r\n        // // node.getChildByName('金币s').runAction(cc.moveBy(0.01,cc.v2(0,-60)));\r\n      }\r\n    }\r\n    if(biology.extend=='moFa'){\r\n      // node.getChildByName('扣血s').color = new cc.color('#3568D5');\r\n      node.getChildByName('扣蓝s').getComponent(cc.Label).string= biology.hurt_msg\r\n      node.getChildByName('魔法s').getComponent(cc.Label).string= biology.hurt_go_value+'/'+node.moFa\r\n      var progressBar = node.getChildByName('魔法').getComponent(cc.ProgressBar)\r\n      progressBar.progress = biology.hurt_go_value / node.moFa\r\n      progressBar.completeCount = biology.hurt_go_value;\r\n      progressBar.totalCount = node.moFa;\r\n      //扣蓝渐隐\r\n      node.getChildByName('扣蓝s').active=true\r\n      node.getChildByName('扣蓝s').opacity=255\r\n      node.getChildByName('扣蓝s').runAction(cc.moveBy(0.3,cc.v2(0,60)));\r\n      node.getChildByName('扣蓝s').runAction(cc.fadeOut(1.2),cc.callFunc(function(){  node.getChildByName('扣血s').active=false },this));\r\n      node.getChildByName('扣蓝s').runAction(cc.moveBy(0.01,cc.v2(0,-60)));\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n  }\r\n});\r\ngetFightingExtend = new FightingExtend();"]}