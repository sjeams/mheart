{"version":3,"sources":["assets\\Script\\战斗\\score_fighting.js"],"names":["require","cc","Class","Component","properties","toolsArray","fightingArray","home","Node","back_time","init","director","getScene","onLoad","sys","BoxPrefab","find","httpRequestBagApi","http_user_info","spawnTools","playTask","goPlay","fightingEnd","httpRequestFightingExtend","alertBoat","fighting_boat","start","update","dt","Promise","resolve","getComponent","Label","string","http_globalData","user_info","beishu","_this","figthing_remote_url","localStorage","getItem","httpRequest","playGame","remoteUrl","httpUrlJson","loader","load","url","err","data","fighting","unscheduleAllCallbacks","biolgy_state","poition_my","poition_enemy","biology_detail_list","length","fighting_list","boat_length","fighting_history","history_count","boat","boat_count","bpage","total","parseInt","log","fighting_historyWait","fighting_historyGo","fighting_historyDo","alertResult","onButtonClicked","event","active","his_log","h_yubei","readySkill","h_go","playSkill","h_need","needSkill","h_do","h_putong","playFight","loadRes","errorMessage","loadedResource","Prefab","TipBoxPrefab","instantiate","poition_winner","getChildByName","addChild","addMapPic","map_pic","httpUrl","texture","Sprite","spriteFrame","SpriteFrame","his_log_extend","npage","biology","_this_hero_node","goid","_targ_hero_node","doid","buttonReady","buttonSkill","playAction","buttonMove","bagBtn","gridLayout","parent","forEach","element","removeFromParent","hp_update","node","hp","fill","all_hp","hp_now","fillstart","act_shan","sequence","fadeTo","runAction","repeat","reloadWord","httpPost","addWordMap","back_map","removeBoxprefab","back_reload","back_home","addTouchEvent","node_1","on","EventType","TOUCH_START","touchStart","TOUCH_MOVE","touchMove","TOUCH_END","touchEnd","removeAllChildren","destroyAllChildren"],"mappings":";;;;;;;;;;AAAAA,OAAO,CAAC,WAAD,CAAP;;AACAC,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAELC,EAAAA,UAAU,EAAE;AACV;AACAC,IAAAA,UAAU,EAAC,EAFD;AAGVC,IAAAA,aAAa,EAAC,EAHJ;AAIV;AACA;AACAC,IAAAA,IAAI,EAAEN,EAAE,CAACO,IANC;AAOV;AACAC,IAAAA,SAAS,EAAER,EAAE,CAACO,IARJ,CAQU;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAlBU,GAFP;AAuBLE,EAAAA,IAvBK,kBAuBC;AACJT,IAAAA,EAAE,CAACU,QAAH,CAAYC,QAAZ,GADI,CACmB;AACxB,GAzBI;AA0BL;AACMC,EAAAA,MA3BD,oBA2BW;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACd;AACAZ,cAAAA,EAAE,CAACa,GAAH,CAAOC,SAAP,GAAkBd,EAAE,CAACe,IAAH,CAAQ,mBAAR,CAAlB;AACAf,cAAAA,EAAE,CAACa,GAAH,CAAOR,aAAP,GAAqB,EAArB;AACAL,cAAAA,EAAE,CAACa,GAAH,CAAOT,UAAP,GAAkB,EAAlB,CAJc,CAKd;;AALc;AAAA,qBAMRY,iBAAiB,CAACC,cAAlB,EANQ;;AAAA;AAAA;AAAA,qBAOR,MAAI,CAACC,UAAL,EAPQ;;AAAA;AAAA;AAAA,qBAQR,MAAI,CAACC,QAAL,EARQ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASf,GApCI;AAqCL;AACMA,EAAAA,QAtCD,sBAsCW;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACR,MAAI,CAACC,MAAL,EADQ;;AAAA;AAAA;AAAA,qBAER,MAAI,CAACC,WAAL,EAFQ;;AAAA;AAAA;AAAA,qBAGRC,yBAAyB,CAACC,SAA1B,CAAoC,MAApC,CAHQ;;AAAA;AAAA;AAAA,qBAIR,MAAI,CAACC,aAAL,EAJQ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKhB,GA3CK;AAgDLC,EAAAA,KAhDK,mBAgDI,CACR,CAjDI;AAkDLC,EAAAA,MAlDK,kBAkDGC,EAlDH,EAkDO,CACV;AACD,GApDI;AAqDLT,EAAAA,UArDK,wBAqDS;AAAA;;AACZ,WAAO,IAAIU,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC9B;AACA7B,MAAAA,EAAE,CAACe,IAAH,CAAQ,eAAR,EAAyBe,YAAzB,CAAsC9B,EAAE,CAAC+B,KAAzC,EAAgDC,MAAhD,GAAyDC,eAAe,CAACC,SAAhB,CAA0BC,MAAnF;AACA,UAAIC,KAAK,GAAE,MAAX;AACA,UAAIC,mBAAmB,GAAGrC,EAAE,CAACa,GAAH,CAAOyB,YAAP,CAAoBC,OAApB,CAA4B,qBAA5B,CAA1B,CAJ8B,CAIgD;;AAE9E,UAAGF,mBAAmB,IAAE,IAAxB,EAA6B;AACzBG,QAAAA,WAAW,CAACC,QAAZ,CAAqB,YAArB;AACAZ,QAAAA,OAAO;AACV,OAHD,MAGK;AACH,YAAIa,SAAS,GAAGF,WAAW,CAACG,WAAZ,CAAwBN,mBAAxB,CAAhB;AACArC,QAAAA,EAAE,CAAC4C,MAAH,CAAUC,IAAV,CAAe;AAAEC,UAAAA,GAAG,EAAEJ;AAAP,SAAf,EAAmC,UAAUK,GAAV,EAAeC,IAAf,EAAqB;AACtD;AACAf,UAAAA,eAAe,CAACgB,QAAhB,GAA2BD,IAA3B,CAFsD,CAGtD;;AACAnB,UAAAA,OAAO,GAJ+C,CAKtD;AACD,SAND;AAOD;AACA,KAnBM,CAAP;AAoBD,GA1EI;AA4EL;AACMT,EAAAA,MA7ED,oBA6EU;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACb;AACE;AACA,cAAA,MAAI,CAAC8B,sBAAL,GAHW,CAGmB;;;AAC1BF,cAAAA,IAJO,GAIAf,eAAe,CAACgB,QAJhB,EAKX;;AACIE,cAAAA,YANO,GAMQH,IAAI,CAACA,IAAL,CAAUG,YANlB;AAOPC,cAAAA,UAPO,GAOMJ,IAAI,CAACA,IAAL,CAAUI,UAPhB;AAQPC,cAAAA,aARO,GAQSL,IAAI,CAACA,IAAL,CAAUK,aARnB,EASX;;AACIvC,cAAAA,SAVO,GAUKd,EAAE,CAACa,GAAH,CAAOC,SAVZ;AAAA;AAAA,qBAWLA,SAAS,CAACgB,YAAV,CAAuB,eAAvB,EAAwCwB,mBAAxC,CAA4DxC,SAA5D,EAAsEsC,UAAtE,EAAiFD,YAAjF,EAA8F,CAA9F,EAAgG,CAAhG,CAXK;;AAAA;AAAA;AAAA,qBAYLrC,SAAS,CAACgB,YAAV,CAAuB,eAAvB,EAAwCwB,mBAAxC,CAA4DxC,SAA5D,EAAsEuC,aAAtE,EAAoFF,YAApF,EAAiG,CAAjG,EAAmGC,UAAU,CAACG,MAA9G,CAZK;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBd,GAjGI;AAkGL;AACM/B,EAAAA,aAnGD,2BAmGgB;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACfY,cAAAA,KADe,GACR,MADQ,EAEnB;;AACIoB,cAAAA,aAHe,GAGEvB,eAAe,CAACgB,QAAhB,CAAyBD,IAH3B;AAIfS,cAAAA,WAJe,GAIDD,aAAa,CAACE,gBAAd,CAA+BH,MAJ9B;AAKfI,cAAAA,aALe,GAKEH,aAAa,CAACG,aALhB;AAMfD,cAAAA,gBANe,GAMGF,aAAa,CAACE,gBANjB;;AAAA,oBAOhBD,WAAW,IAAE,CAPG;AAAA;AAAA;AAAA;;AAQbG,cAAAA,IARa,GAQR,CARQ;AASbC,cAAAA,UATa,GASF,CAAC,CATC,EAUjB;AACA;AACA;;AACSC,cAAAA,KAbQ,GAaF,CAbE;;AAAA;AAAA,oBAaCA,KAAK,GAACL,WAbP;AAAA;AAAA;AAAA;;AAcjB;AACII,cAAAA,UAAU;;AACV,kBAAGF,aAAa,CAACC,IAAD,CAAb,CAAoBG,KAApB,GAA0BF,UAA7B,EAAwC;AACtCD,gBAAAA,IAAI;AACL;;AAlBY;AAAA,qBAmBPtC,yBAAyB,CAACC,SAA1B,CAAoC,MAAKyC,QAAQ,CAACJ,IAAI,GAAC,CAAN,CAAb,GAAsB,IAA1D,CAnBO;;AAAA;AAAA,mBA6BVF,gBAAgB,CAACG,UAAD,CA7BN;AAAA;AAAA;AAAA;;AA8BX7D,cAAAA,EAAE,CAACiE,GAAH,CAAOP,gBAAgB,CAACG,UAAD,CAAvB;AA9BW;AAAA,qBA+BHzB,KAAK,CAAC8B,oBAAN,CAA2BR,gBAAgB,CAACG,UAAD,CAA3C,CA/BG;;AAAA;AAAA;AAAA,qBAgCHzB,KAAK,CAAC+B,kBAAN,CAAyBT,gBAAgB,CAACG,UAAD,CAAzC,CAhCG;;AAAA;AAAA;AAAA,qBAiCHzB,KAAK,CAACgC,kBAAN,CAAyBV,gBAAgB,CAACG,UAAD,CAAzC,CAjCG;;AAAA;AAAA;AAAA,qBAkCHzB,KAAK,CAACsB,gBAAN,CAAuBA,gBAAgB,CAACG,UAAD,CAAvC,CAlCG;;AAAA;AAaoBC,cAAAA,KAAK,EAbzB;AAAA;AAAA;;AAAA;AAAA,gDA0CZ,IAAIlC,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAAKO,gBAAAA,KAAK,CAACiC,WAAN;;AAAsBxC,gBAAAA,OAAO;AAAK,eAA9D,CA1CY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4CpB,GA/II;AAiJL;AACAyC,EAAAA,eAAe,EAAE,yBAASC,KAAT,EAAgB,CAC/B;AACA;AACA;AACA;AACA;AACD,GAxJI;AA0JLF,EAAAA,WA1JK,yBA0JQ;AACX,QAAIjC,KAAK,GAAE,IAAX;;AACApC,IAAAA,EAAE,CAACe,IAAH,CAAQ,WAAR,EAAqByD,MAArB,GAA6B,IAA7B,CAFW,CAEuB;AAClC;;AACApC,IAAAA,KAAK,CAACc,sBAAN,GAJW,CAIoB;;AAChC,GA/JI;AAgKL;AACMgB,EAAAA,oBAjKD,gCAiKsBO,OAjKtB,EAiK8B;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAC7BrC,cAAAA,KAD6B,GACrB,MADqB;;AAAA,oBAE5BqC,OAAO,CAACC,OAAR,CAAgBnB,MAAhB,IAAwB,CAFI;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAGtBnB,KAAK,CAACuC,UAAN,CAAiBF,OAAO,CAACC,OAAzB,CAHsB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMlC,GAvKI;AAwKL;AACMP,EAAAA,kBAzKD,8BAyKoBM,OAzKpB,EAyK6B;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAC3BrC,cAAAA,KAD2B,GACpB,MADoB;;AAAA,oBAE3BqC,OAAO,CAACG,IAAR,CAAarB,MAAb,IAAqB,CAFM;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAIlBnB,KAAK,CAACyC,SAAN,CAAgBJ,OAAO,CAACG,IAAxB,CAJkB;;AAAA;AAAA,oBAKvBH,OAAO,CAACK,MAAR,CAAevB,MAAf,IAAuB,CALA;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAMjBnB,KAAK,CAAC2C,SAAN,CAAgBN,OAAO,CAACK,MAAxB,CANiB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUjC,GAnLI;AAoLL;AACMV,EAAAA,kBArLD,8BAqLqBK,OArLrB,EAqL8B;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAC7BrC,cAAAA,KAD6B,GACtB,MADsB;;AAAA,oBAE1BqC,OAAO,CAACO,IAAR,CAAazB,MAAb,IAAqB,CAFK;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAIjBnB,KAAK,CAACyC,SAAN,CAAgBJ,OAAO,CAACO,IAAxB,CAJiB;;AAAA;AAAA,oBAKtBP,OAAO,CAACK,MAAR,CAAevB,MAAf,IAAuB,CALD;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAMhBnB,KAAK,CAAC2C,SAAN,CAAgBN,OAAO,CAACK,MAAxB,CANgB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUhC,GA/LE;AAgML;AACMpB,EAAAA,gBAjMD,4BAiMkBe,OAjMlB,EAiM2B;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAC9B;AACMrC,cAAAA,KAFwB,GAEhB,OAFgB,EAG5B;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAb4B,oBAczBqC,OAAO,CAACQ,QAAR,CAAiB1B,MAAjB,IAAyB,CAdA;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAehBnB,KAAK,CAAC8C,SAAN,CAAgBT,OAAO,CAACQ,QAAxB,CAfgB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiB/B,GAlNI;AAmNH;AACG5D,EAAAA,WApNA,yBAoNc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACf;AACImC,cAAAA,aAFW,GAEMvB,eAAe,CAACgB,QAAhB,CAAyBD,IAF/B,EAGf;AACA;;AAJe,gDAKR,IAAIpB,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC9B7B,gBAAAA,EAAE,CAAC4C,MAAH,CAAUuC,OAAV,CAAkB,qBAAlB,EAAyC,UAASC,YAAT,EAAsBC,cAAtB,EAAqC;AACxE;AACA,sBAAID,YAAJ,EAAmB;AAAEpF,oBAAAA,EAAE,CAACiE,GAAH,CAAQ,kBAAkBmB,YAA1B;AAA0C;AAAS;;AACxE,sBAAI,EAAEC,cAAc,YAAYrF,EAAE,CAACsF,MAA/B,CAAJ,EAA8C;AAAEtF,oBAAAA,EAAE,CAACiE,GAAH,CAAQ,aAAR;AAAyB;AAAS,mBAHV,CAIxE;;;AACA,sBAAIsB,YAAY,GAAGvF,EAAE,CAACwF,WAAH,CAAeH,cAAf,CAAnB,CALwE,CAMxE;;AACA,sBAAG7B,aAAa,CAACiC,cAAd,IAA8B,CAAjC,EAAmC;AACjCF,oBAAAA,YAAY,CAACG,cAAb,CAA4B,KAA5B,EAAmC5D,YAAnC,CAAgD9B,EAAE,CAAC+B,KAAnD,EAA0DC,MAA1D,GAAiE,KAAjE;AACD,mBAFD,MAEK;AACHuD,oBAAAA,YAAY,CAACG,cAAb,CAA4B,KAA5B,EAAmC5D,YAAnC,CAAgD9B,EAAE,CAAC+B,KAAnD,EAA0DC,MAA1D,GAAiE,KAAjE;AACD,mBAXuE,CAYxE;AACA;;;AACAhC,kBAAAA,EAAE,CAACe,IAAH,CAAQ,cAAR,EAAwB4E,QAAxB,CAAiCJ,YAAjC,EAA8C,IAA9C,EAdwE,CAexE;AACA;AACA;AACA;AACA;AACA;AACA;;AACA1D,kBAAAA,OAAO;AACV,iBAvBH;AAwBC,eAzBM,CALQ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA+BlB,GAnPI;AAqPL;AACA+D,EAAAA,SAtPK,qBAsPK5C,IAtPL,EAsPU;AACX,QAAIZ,KAAK,GAAG,IAAZ;;AACA,QAAKyD,OAAO,GAAE7C,IAAI,CAACA,IAAL,CAAU,SAAV,CAAd;AACA,QAAIN,SAAS,GAAGF,WAAW,CAACsD,OAAZ,CAAoBD,OAApB,CAAhB,CAHW,CAIX;;AACA7F,IAAAA,EAAE,CAAC4C,MAAH,CAAUC,IAAV,CAAe;AAAEC,MAAAA,GAAG,EAAEJ;AAAP,KAAf,EAAmC,UAAUK,GAAV,EAAegD,OAAf,EAAwB;AACzD,UAAGA,OAAO,IAAE,IAAZ,EAAiB;AACjB3D,QAAAA,KAAK,CAAC9B,IAAN,CAAWwB,YAAX,CAAwB9B,EAAE,CAACgG,MAA3B,EAAmCC,WAAnC,GAAiD,IAAIjG,EAAE,CAACkG,WAAP,CAAmBH,OAAnB,CAAjD;AACC;AACF,KAJD;AAKH,GAhQI;AAkQL;AACOpB,EAAAA,UAnQF,sBAmQawB,cAnQb,EAmQ4B;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,oBAE1BA,cAAc,CAAC5C,MAAf,IAAuB,CAFG;AAAA;AAAA;AAAA;;AAGvBnB,cAAAA,KAHuB,GAGhB,OAHgB;AAIlBgE,cAAAA,KAJkB,GAIZ,CAJY;;AAAA;AAAA,oBAITA,KAAK,GAACD,cAAc,CAAC5C,MAJZ;AAAA;AAAA;AAAA;;AAKrB8C,cAAAA,OALqB,GAKXF,cAAc,CAACC,KAAD,CALH;AAMrBE,cAAAA,eANqB,GAMJtG,EAAE,CAACa,GAAH,CAAOR,aAAP,CAAqBgG,OAAO,CAACE,IAA7B,CANI;AAOrBC,cAAAA,eAPqB,GAOJxG,EAAE,CAACa,GAAH,CAAOR,aAAP,CAAqBgG,OAAO,CAACI,IAA7B,CAPI;AAAA;AAAA,qBAQnBnF,yBAAyB,CAACoF,WAA1B,CAAsCJ,eAAtC,EAAsDD,OAAtD,EAA8D,CAA9D,CARmB;;AAAA;AAIoBD,cAAAA,KAAK,EAJzB;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAahC,GAhRI;AAiRL;AACMrB,EAAAA,SAlRD,qBAkRWoB,cAlRX,EAkR0B;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,oBAC1BA,cAAc,CAAC5C,MAAf,IAAuB,CADG;AAAA;AAAA;AAAA;;AAEvBnB,cAAAA,KAFuB,GAEhB,OAFgB;AAGlBgE,cAAAA,KAHkB,GAGZ,CAHY;;AAAA;AAAA,oBAGTA,KAAK,GAACD,cAAc,CAAC5C,MAHZ;AAAA;AAAA;AAAA;;AAIrB8C,cAAAA,OAJqB,GAIXF,cAAc,CAACC,KAAD,CAJH;AAKrBE,cAAAA,eALqB,GAKJtG,EAAE,CAACa,GAAH,CAAOR,aAAP,CAAqBgG,OAAO,CAACE,IAA7B,CALI;AAMrBC,cAAAA,eANqB,GAMJxG,EAAE,CAACa,GAAH,CAAOR,aAAP,CAAqBgG,OAAO,CAACI,IAA7B,CANI,EAOzB;AACA;;AARyB;AAAA,qBASjBnF,yBAAyB,CAACqF,WAA1B,CAAsCL,eAAtC,EAAsDD,OAAtD,EAA8D,CAA9D,CATiB;;AAAA;AAGoBD,cAAAA,KAAK,EAHzB;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAc9B,GAhSI;AAiSL;AACMvB,EAAAA,SAlSD,qBAkSWsB,cAlSX,EAkS0B;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,oBAE1BA,cAAc,CAAC5C,MAAf,IAAuB,CAFG;AAAA;AAAA;AAAA;;AAGvBnB,cAAAA,KAHuB,GAGhB,OAHgB;AAIlBgE,cAAAA,KAJkB,GAIZ,CAJY;;AAAA;AAAA,oBAITA,KAAK,GAACD,cAAc,CAAC5C,MAJZ;AAAA;AAAA;AAAA;;AAKrB8C,cAAAA,OALqB,GAKXF,cAAc,CAACC,KAAD,CALH;AAOrBE,cAAAA,eAPqB,GAOJtG,EAAE,CAACa,GAAH,CAAOR,aAAP,CAAqBgG,OAAO,CAACE,IAA7B,CAPI;AAQrBC,cAAAA,eARqB,GAQJxG,EAAE,CAACa,GAAH,CAAOR,aAAP,CAAqBgG,OAAO,CAACI,IAA7B,CARI,EASzB;AACA;;AAVyB;AAAA,qBAWnBnF,yBAAyB,CAACsF,UAA1B,CAAqCJ,eAArC,EAAqDH,OAArD,EAA6D,CAA7D,CAXmB;;AAAA;AAIoBD,cAAAA,KAAK,EAJzB;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgB9B,GAlTI;AAmTL;AACOlB,EAAAA,SApTF,qBAoTYiB,cApTZ,EAoT2B;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,oBAE3BA,cAAc,CAAC5C,MAAf,IAAuB,CAFI;AAAA;AAAA;AAAA;;AAGxBnB,cAAAA,KAHwB,GAGjB,OAHiB;AAInBgE,cAAAA,KAJmB,GAIb,CAJa;;AAAA;AAAA,oBAIVA,KAAK,GAACD,cAAc,CAAC5C,MAJX;AAAA;AAAA;AAAA;;AAKtB8C,cAAAA,OALsB,GAKZF,cAAc,CAACC,KAAD,CALF,EAM1B;;AACIE,cAAAA,eAPsB,GAOLtG,EAAE,CAACa,GAAH,CAAOR,aAAP,CAAqBgG,OAAO,CAACE,IAA7B,CAPK;AAQtBC,cAAAA,eARsB,GAQLxG,EAAE,CAACa,GAAH,CAAOR,aAAP,CAAqBgG,OAAO,CAACI,IAA7B,CARK;;AAAA,oBASvBJ,OAAO,CAACE,IAAR,IAAcF,OAAO,CAACI,IATC;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAWlBnF,yBAAyB,CAACoF,WAA1B,CAAsCJ,eAAtC,EAAsDD,OAAtD,EAA8D,CAA9D,CAXkB;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,qBAclB/E,yBAAyB,CAACuF,UAA1B,CAAqCP,eAArC,EAAqDE,eAArD,EAAqEH,OAArE,EAA6E,CAA7E,CAdkB;;AAAA;AAImBD,cAAAA,KAAK,EAJxB;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoB/B,GAxUI;AA0UL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAU,EAAAA,MA5VK,oBA4VK;AACR;AACA,QAAI,KAAKC,UAAL,CAAgBC,MAAhB,CAAuBxC,MAA3B,EAAmC;AAC/B;AACA,WAAKuC,UAAL,CAAgBC,MAAhB,CAAuBxC,MAAvB,GAAgC,KAAhC,CAF+B,CAI/B;AACA;AACA;AACA;;AACAxE,MAAAA,EAAE,CAACa,GAAH,CAAOT,UAAP,CAAkB6G,OAAlB,CAA0B,UAAAC,OAAO,EAAI;AAC/BA,QAAAA,OAAO,CAACC,gBAAR;AACH,OAFH;AAGH,KAXD,MAYK;AACD;AACA,WAAKJ,UAAL,CAAgBC,MAAhB,CAAuBxC,MAAvB,GAAgC,IAAhC,CAFC,CAID;;AACA,WAAKtD,UAAL;AACH;AACF,GAjXI;AAkXL;AACAkG,EAAAA,SAnXK,qBAmXKC,IAnXL,EAmXU;AACb;AACA,SAAKC,EAAL,IAAW,EAAX,CAFa,CAGb;;AACA,QAAIC,IAAI,GAAG,KAAKD,EAAL,GAAS,KAAKE,MAAzB;AACA,SAAKC,MAAL,CAAYC,SAAZ,GAAwB,IAAIH,IAA5B,CALa,CAOb;AACA;AACA;AACA;AAEA;;AACA,QAAII,QAAQ,GAAG3H,EAAE,CAAC4H,QAAH,CAAY5H,EAAE,CAAE6H,MAAJ,CAAW,IAAX,EAAgB,CAAhB,CAAZ,EAA+B7H,EAAE,CAAC6H,MAAH,CAAU,IAAV,EAAe,GAAf,CAA/B,CAAf;AACAX,IAAAA,OAAO,CAACY,SAAR,CAAkB9H,EAAE,CAAC+H,MAAH,CAAUJ,QAAV,EAAmB,CAAnB,CAAlB,EAda,CAeb;AACA;AACA;AACA;AACD,GAtYI;AAuYLK,EAAAA,UAvYK,wBAuYO;AACV,QAAI5F,KAAK,GAAE,IAAX;;AACAI,IAAAA,WAAW,CAACyF,QAAZ,CAAqB,2BAArB,EAAiD,EAAjD,EAAqD,UAAUjF,IAAV,EAAgB;AACnE;AACAZ,MAAAA,KAAK,CAAC8F,UAAN,CAAiBlF,IAAjB;AACC,KAHH;AAID,GA7YI;AA8YLmF,EAAAA,QA9YK,sBA8YK;AACR;AACA,QAAI/F,KAAK,GAAG,IAAZ;;AACAA,IAAAA,KAAK,CAACgG,eAAN;;AACA5F,IAAAA,WAAW,CAACC,QAAZ,CAAqB,YAArB;AACD,GAnZI;AAoZL;AACA4F,EAAAA,WArZK,yBAqZQ;AACX;AACA,QAAIjG,KAAK,GAAG,IAAZ;;AACAA,IAAAA,KAAK,CAACgG,eAAN;;AACAhG,IAAAA,KAAK,CAACjB,QAAN;;AACAnB,IAAAA,EAAE,CAACe,IAAH,CAAQ,WAAR,EAAqByD,MAArB,GAA6B,KAA7B,CALW,CAKwB;AACpC,GA3ZI;AA4ZL8D,EAAAA,SA5ZK,uBA4ZM;AACT;AACA,QAAIlG,KAAK,GAAG,IAAZ;;AACAA,IAAAA,KAAK,CAACgG,eAAN;;AACA5F,IAAAA,WAAW,CAACC,QAAZ,CAAqB,cAArB;AACD,GAjaI;AAkaL8F,EAAAA,aAlaK,yBAkaSC,MAlaT,EAkaiB;AAClBA,IAAAA,MAAM,CAACC,EAAP,CAAUzI,EAAE,CAACO,IAAH,CAAQmI,SAAR,CAAkBC,WAA5B,EAAyC,KAAKC,UAA9C,EAA0D,IAA1D;AACAJ,IAAAA,MAAM,CAACC,EAAP,CAAUzI,EAAE,CAACO,IAAH,CAAQmI,SAAR,CAAkBG,UAA5B,EAAwC,KAAKC,SAA7C,EAAwD,IAAxD;AACAN,IAAAA,MAAM,CAACC,EAAP,CAAUzI,EAAE,CAACO,IAAH,CAAQmI,SAAR,CAAkBK,SAA5B,EAAuC,KAAKC,QAA5C,EAAsD,IAAtD;AACH,GAtaI;AAuaL;AACAZ,EAAAA,eAxaK,6BAwaY;AACfpI,IAAAA,EAAE,CAACa,GAAH,CAAOC,SAAP,CAAiBmI,iBAAjB;AACAjJ,IAAAA,EAAE,CAACa,GAAH,CAAOC,SAAP,CAAiBoI,kBAAjB;AACD,GA3aI,CA8aL;AACA;AACA;AACA;;AAjbK,CAAT","sourceRoot":"/","sourcesContent":["require(\"../common\"); \r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n      // 根据TOOLS生成相应的道具\r\n      toolsArray:[],\r\n      fightingArray:[],   \r\n      // content: cc.Node,\r\n      // person: cc.Prefab,\r\n      home: cc.Node,\r\n      // back: cc.Node,\r\n      back_time: cc.Node, //跳过回合\r\n      // //列表\r\n      // test_scrollView: {\r\n      //   default: null,\r\n      //   type: cc.ScrollView\r\n      // },\r\n      // //翻页容器\r\n      // test_pageView: {\r\n      //   default: null,\r\n      //   type: cc.PageView\r\n      // },\r\n\r\n    },\r\n    init(){\r\n      cc.director.getScene();//获取当前场景\r\n    },\r\n    // LIFE-CYCLE CALLBACKS:\r\n    async onLoad () {\r\n      //全局定义容器节点\r\n      cc.sys.BoxPrefab= cc.find('Canvas/大厅/content');\r\n      cc.sys.fightingArray=[]\r\n      cc.sys.toolsArray=[]\r\n      // this.spawnTools()\r\n      await httpRequestBagApi.http_user_info()\r\n      await this.spawnTools() //加载数据\r\n      await this.playTask()\r\n    },\r\n    //task\r\n    async playTask(){\r\n      await this.goPlay() //实例化对象\r\n      await this.fightingEnd() //先加载战斗结果\r\n      await httpRequestFightingExtend.alertBoat('准备回合') //准备回合\r\n      await this.fighting_boat() //开启回合战斗\r\n\t  },\r\n\r\n\r\n\r\n \r\n    start () {\r\n    },\r\n    update (dt) {\r\n      // console.log(3333)\r\n    },\r\n    spawnTools () {\r\n      return new Promise(resolve => {\r\n      //开启倍数\r\n      cc.find('Canvas/倍数/倍数s').getComponent(cc.Label).string = http_globalData.user_info.beishu;\r\n      var _this =this;\r\n      var figthing_remote_url = cc.sys.localStorage.getItem('figthing_remote_url'); //读取数据--战斗记录\r\n\r\n      if(figthing_remote_url==null){\r\n          httpRequest.playGame(\"sence_ditu\")\r\n          resolve(); \r\n      }else{\r\n        var remoteUrl = httpRequest.httpUrlJson(figthing_remote_url);\r\n        cc.loader.load({ url: remoteUrl }, function (err, data) {\r\n          //定义常量\r\n          http_globalData.fighting = data;\r\n          //开启战斗\r\n          resolve(); \r\n          //  await   _this.goPlay( )\r\n        });    \r\n      }\r\n      })\r\n    },\r\n\r\n    //开启战斗--加载生物\r\n    async goPlay( ){\r\n      // return new Promise(resolve => {\r\n        //播放器先清除所有定时器\r\n        this.unscheduleAllCallbacks();//停止某组件的所有计时器\r\n        let data = http_globalData.fighting\r\n        // cc.log(data)\r\n        var biolgy_state = data.data.biolgy_state;\r\n        var poition_my = data.data.poition_my;\r\n        var poition_enemy = data.data.poition_enemy;\r\n        //生物挂载\r\n        var BoxPrefab = cc.sys.BoxPrefab\r\n        await BoxPrefab.getComponent('fightingTools').biology_detail_list(BoxPrefab,poition_my,biolgy_state,1,0) //挂载生物--position_my\r\n        await BoxPrefab.getComponent('fightingTools').biology_detail_list(BoxPrefab,poition_enemy,biolgy_state,0,poition_my.length) //挂载生物--position_ememy\r\n\r\n        // await this.biology_detail_list(BoxPrefab,poition_my,biolgy_state,1,0) //挂载生物--position_my\r\n        // await this.biology_detail_list(BoxPrefab,poition_enemy,biolgy_state,0,poition_my.length) //挂载生物--position_ememy\r\n      // _this.addMapPic(data) //生成地图\r\n      // console.log( _this.toolsArray)\r\n      // console.log( cc.sys.fightingArray )\r\n        // resolve();})\r\n    },\r\n    // 战斗回合\r\n    async fighting_boat(){\r\n      var _this =this;\r\n      // return new Promise(resolve => {\r\n      var fighting_list =  http_globalData.fighting.data;    \r\n      var boat_length = fighting_list.fighting_history.length\r\n      var history_count =  fighting_list.history_count\r\n      var fighting_history= fighting_list.fighting_history;\r\n      if(boat_length!=0){\r\n        var boat=0;\r\n        var boat_count=-1;\r\n        //一条或多条执行语句\r\n        // _this.schedule(function(){\r\n        //循环历史行动条数\r\n        for (var bpage=0; bpage<boat_length; bpage++){\r\n        // _this.schedule(function(){\r\n            boat_count++\r\n            if(history_count[boat].total<boat_count){\r\n              boat++;\r\n            }\r\n            await httpRequestFightingExtend.alertBoat('第'+ parseInt(boat+1)+'回合')\r\n            //判断下动作是否已经下一回合\r\n            // if(cc.find('Canvas/大厅/time').getComponent(cc.Label).string!='第'+ parseInt(boat+1)+'回合' ){\r\n            //   await this.alertBoat('第'+ parseInt(boat+1)+'回合')\r\n            //   // cc.find('Canvas/大厅/time').getComponent(cc.Label).string = '第'+ parseInt(boat+1)+'回合'                    \r\n            //   // return new Promise(resolve => {  cc.find('Canvas/大厅/time').runAction(   cc.sequence(cc.scaleTo(0.2, 2, 2),cc.scaleTo(0.2, 1,1),cc.callFunc(function(){   resolve()},this)));//建一个缩放到1.5倍大小的动作，持续时间2秒\r\n            //   //  }) \r\n            // }\r\n            // cc.log(fighting_history[boat_count])\r\n            //如果是空回合 ，等待跳过\r\n            if(fighting_history[boat_count]){\r\n              cc.log(fighting_history[boat_count])\r\n              await   _this.fighting_historyWait(fighting_history[boat_count])//执行战斗等待回合\r\n              await   _this.fighting_historyGo(fighting_history[boat_count])//执行被动\r\n              await   _this.fighting_historyDo(fighting_history[boat_count])//执行技能 \r\n              await   _this.fighting_history(fighting_history[boat_count])//普通   \r\n            } \r\n              // 绑定点击事件\r\n              // _this.back_time.on('click', _this.onButtonClicked,this);    \r\n             \r\n        // },1,boat_length,1.5);////2秒后执行1次间隔5秒\r\n          }\r\n      }\r\n      return new Promise(resolve => {    _this.alertResult();  resolve()  })\r\n      // resolve();})\r\n    },\r\n \r\n    //暂停并且跳过回合\r\n    onButtonClicked: function(event) {\r\n      // return new Promise(resolve => {    _this.alertResult();  resolve()  })\r\n      // 跳过回合\r\n      // var _this =this\r\n      // _this.unscheduleAllCallbacks();//停止某组件的所有计时器\r\n      //   cc.log('跳过')\r\n    },\r\n\r\n    alertResult(){\r\n      var _this =this;\r\n      cc.find('Canvas/结算').active =true;// 结束弹窗结果\r\n      // _this.unschedule();\r\n      _this.unscheduleAllCallbacks();//停止某组件的所有计时器\r\n    },\r\n    //预备回合\r\n    async fighting_historyWait(his_log){\r\n      var _this = this;\r\n        if(his_log.h_yubei.length!=0){\r\n          await  _this.readySkill(his_log.h_yubei)\r\n          // cc.log('预备回合')\r\n        }\r\n    },\r\n    //发起被动\r\n    async fighting_historyGo(his_log) {\r\n       var _this =this;\r\n        if(his_log.h_go.length!=0){\r\n            //消耗魔法 --技能名称和消耗放一起了\r\n            await   _this.playSkill(his_log.h_go)\r\n            if(his_log.h_need.length!=0){\r\n              await  _this.needSkill(his_log.h_need)\r\n            }\r\n\r\n        }\r\n    },\r\n    //发起技能\r\n    async fighting_historyDo (his_log) {\r\n      var _this =this;\r\n          if(his_log.h_do.length!=0){\r\n              //消耗魔法 --技能名称和消耗放一起了\r\n              await   _this.playSkill(his_log.h_do)\r\n              if(his_log.h_need.length!=0){\r\n                await  _this.needSkill(his_log.h_need)\r\n              }\r\n    \r\n          }\r\n      },\r\n    //战斗回合\r\n    async fighting_history(his_log) {\r\n      // return new Promise(resolve => {\r\n        var _this = this;\r\n        //回合结束\r\n        // if(his_log.h_end.length!=0){\r\n        //   cc.log('回合结束')\r\n        // }\r\n        // cc.log(his_log)\r\n\r\n        //反击\r\n        // if(his_log.h_back.length!=0){\r\n        //   _this.playFight(_this_hero_node,_targ_hero_node,biology,his_log.h_back)\r\n        // }\r\n        //普通攻击\r\n        if(his_log.h_putong.length!=0){\r\n          await     _this.playFight(his_log.h_putong)\r\n        }\r\n    },\r\n      //战斗结束\r\n   async fightingEnd() {\r\n        // var _this =this;\r\n        var fighting_list =  http_globalData.fighting.data; \r\n        // var _task =task||0;\r\n        //加载预制资源 PrefabUrl为 预制资源在 资源中的路径\r\n        return new Promise(resolve => { \r\n        cc.loader.loadRes('/model弹窗/biology_结算', function(errorMessage,loadedResource){\r\n              //检查资源加载\r\n              if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n              if( !(loadedResource instanceof cc.Prefab ) ) { cc.log( '你载入的不是预制资源!' ); return; }\r\n              //开始实例化预制资源\r\n              var TipBoxPrefab = cc.instantiate(loadedResource);\r\n              // TipBoxPrefab.getComponent('fightingTools').initInfo(fighting_list); //写入奖励物品预制体\r\n              if(fighting_list.poition_winner==1){\r\n                TipBoxPrefab.getChildByName('结果s').getComponent(cc.Label).string='胜利！';\r\n              }else{\r\n                TipBoxPrefab.getChildByName('结果s').getComponent(cc.Label).string='失败！';\r\n              }\r\n              //将预制资源添加到父节点\r\n              // CanvasNode.addChild(TipBoxPrefab);\r\n              cc.find('Canvas/结算/弹框').addChild(TipBoxPrefab,this);\r\n              //请求战斗记录\r\n              // if(_task==1){\r\n              //     console.log(11111)\r\n              //     _this.fightint(sence);\r\n              // }else{\r\n              //     _this.progress(sence);\r\n              // }\r\n              resolve()\r\n          });\r\n        }) \r\n    },\r\n\r\n    //生成地图\r\n    addMapPic(data){\r\n        var _this = this;\r\n        var  map_pic =data.data['map_pic'];\r\n        var remoteUrl = httpRequest.httpUrl(map_pic);\r\n        // console.log(remoteUrl)\r\n        cc.loader.load({ url: remoteUrl }, function (err, texture) {  \r\n          if(texture!=null){\r\n          _this.home.getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(texture);\r\n          }\r\n        });\r\n    },\r\n \r\n    //技能准备动作\r\n    async  readySkill(his_log_extend){\r\n      // return new Promise(resolve => {\r\n        if(his_log_extend.length!=0){\r\n          var _this =this\r\n          for (var npage=0; npage<his_log_extend.length; npage++){\r\n            var biology = his_log_extend[npage];\r\n            var _this_hero_node =cc.sys.fightingArray[biology.goid]\r\n            var _targ_hero_node =cc.sys.fightingArray[biology.doid]\r\n            await httpRequestFightingExtend.buttonReady(_this_hero_node,biology,0)//自己变大--加载技能动作\r\n            // await httpRequestFightingExtend.playAction(_this_hero_node,biology,1)\r\n            }\r\n        } \r\n      // resolve();})\r\n    },\r\n    //技能消耗动作\r\n    async needSkill(his_log_extend){\r\n      if(his_log_extend.length!=0){\r\n        var _this =this\r\n        for (var npage=0; npage<his_log_extend.length; npage++){\r\n          var biology = his_log_extend[npage];\r\n          var _this_hero_node =cc.sys.fightingArray[biology.goid]\r\n          var _targ_hero_node =cc.sys.fightingArray[biology.doid]\r\n          // _this.buttonShake(0.5,_targ_hero_node,biology)//技能攻击\r\n          // _this.schedule(function(){\r\n            await httpRequestFightingExtend.buttonSkill(_this_hero_node,biology,0)//自己变大--加载技能动作\r\n            // await httpRequestFightingExtend.playAction(_targ_hero_node,biology,1) //不需要其它动作，瞬发伤害动作\r\n          // },1)\r\n        }\r\n      }\r\n    },\r\n    //技能攻击动作\r\n    async playSkill(his_log_extend){\r\n     \r\n      if(his_log_extend.length!=0){\r\n        var _this =this\r\n        for (var npage=0; npage<his_log_extend.length; npage++){\r\n          var biology = his_log_extend[npage];\r\n          \r\n          var _this_hero_node =cc.sys.fightingArray[biology.goid]\r\n          var _targ_hero_node =cc.sys.fightingArray[biology.doid]\r\n          //2个攻击类型只能二选一 \r\n          // _this.buttonShake(0.1,_targ_hero_node,biology)//技能攻击，动作后伤害\r\n          await httpRequestFightingExtend.playAction(_targ_hero_node,biology,1) //不需要其它动作，瞬发伤害动作\r\n  \r\n        }\r\n      }\r\n \r\n    },\r\n    //普通攻击动作\r\n    async  playFight(his_log_extend){\r\n      // return new Promise(resolve => {\r\n      if(his_log_extend.length!=0){\r\n        var _this =this\r\n        for (var npage=0; npage<his_log_extend.length; npage++){\r\n          var biology = his_log_extend[npage];\r\n          // cc.log(cc.sys.fightingArray)\r\n          var _this_hero_node =cc.sys.fightingArray[biology.goid]\r\n          var _targ_hero_node =cc.sys.fightingArray[biology.doid]\r\n          if(biology.goid==biology.doid){\r\n              // _this.buttonShake(0,_targ_hero_node,biology)//自己闪动\r\n            await httpRequestFightingExtend.buttonReady(_this_hero_node,biology,0)//自己变大--加载技能动作\r\n            // await httpRequestFightingExtend.playAction(_this_hero_node,biology,0)\r\n          }else{\r\n            await httpRequestFightingExtend.buttonMove(_this_hero_node,_targ_hero_node,biology,0) //移动\r\n            // await httpRequestFightingExtend.playAction(_targ_hero_node,biology,0)\r\n          }\r\n        }\r\n      }\r\n    // resolve();})\r\n    },\r\n\r\n    //生物渐隐-淡出-淡入\r\n    // nodefadeIn(time,type,node){\r\n    //   // cc.log(node)\r\n    //   var fin_arr=[];\r\n    //   if(type==0){\r\n    //     //先让透明度为0\r\n    //     node.getChildByName('扣血s').opacity=0\r\n    //     fin_arr.push(cc.fadeIn(time));\r\n    //   }else{\r\n    //     //先让透明度为255\r\n    //     node.getChildByName('扣血s').opacity=255\r\n    //     fin_arr.push(cc.fadeOut(time));\r\n    //   }\r\n    //   fin_arr.push(cc.spawn(cc.delayTime(0.5),cc.callFunc(function(){\r\n    //     node.getChildByName('扣血s').active=false\r\n    //   },this)) )\r\n    //   node.getChildByName('扣血s').runAction(fin_arr);\r\n    // },\r\n    bagBtn () {\r\n      // 背包按钮\r\n      if (this.gridLayout.parent.active) {\r\n          // 隐藏节点\r\n          this.gridLayout.parent.active = false;\r\n\r\n          // 删除所有道具(或者不删，只是隐藏，自己决定)\r\n          // this.toolsArray.forEach(element => {\r\n          //     element.removeFromParent();\r\n          // });\r\n          cc.sys.toolsArray.forEach(element => {\r\n                element.removeFromParent();\r\n            });\r\n      }\r\n      else {\r\n          // 显示节点\r\n          this.gridLayout.parent.active = true;\r\n\r\n          // 生成所有道具\r\n          this.spawnTools();\r\n      }\r\n    },\r\n    // 刷新血条\r\n    hp_update(node){\r\n      //受到15伤害\r\n      this.hp -= 15;\r\n      // 求出伤害血量占比并显示\r\n      let fill = this.hp /this.all_hp;\r\n      this.hp_now.fillstart = 1 - fill; \r\n\r\n      // 血条延迟，秒执行一次，一共执行六次，延迟为0\r\n      // this.schedule(function(){\r\n      //     this.magnetnumber-=5/8;\r\n      // },1,6,0);\r\n\r\n      //0.5秒内闪烁\r\n      let act_shan = cc.sequence(cc .fadeTo(0.05,0),cc.fadeTo(0.05,255));\r\n      element.runAction(cc.repeat(act_shan,5));\r\n      // //0.5秒后还可以被攻击\r\n      //   this.scheduleOnce(function() {\r\n      //     this.state = 0;\r\n      //   }.bind(this),0.5);\r\n    },\r\n    reloadWord(){\r\n      var _this =this;\r\n      httpRequest.httpPost('/app/app-apiword/map-word',{}, function (data) {\r\n        //写入地图数据\r\n        _this.addWordMap(data)\r\n        })\r\n    },\r\n    back_map(){\r\n      //移除节点\r\n      var _this = this;\r\n      _this.removeBoxprefab()\r\n      httpRequest.playGame(\"sence_ditu\")\r\n    },\r\n    //重播\r\n    back_reload(){\r\n      //移除节点\r\n      var _this = this;\r\n      _this.removeBoxprefab()\r\n      _this.playTask( )\r\n      cc.find('Canvas/结算').active =false;// 结束弹窗结果\r\n    },\r\n    back_home(){\r\n      //移除节点\r\n      var _this = this;\r\n      _this.removeBoxprefab()\r\n      httpRequest.playGame(\"sence_dating\")\r\n    },\r\n    addTouchEvent(node_1) {\r\n        node_1.on(cc.Node.EventType.TOUCH_START, this.touchStart, this);\r\n        node_1.on(cc.Node.EventType.TOUCH_MOVE, this.touchMove, this);\r\n        node_1.on(cc.Node.EventType.TOUCH_END, this.touchEnd, this);\r\n    },\r\n    //移除容器\r\n    removeBoxprefab(){\r\n      cc.sys.BoxPrefab.removeAllChildren();\r\n      cc.sys.BoxPrefab.destroyAllChildren();\r\n    },\r\n\r\n\r\n    // onDestroy() {\r\n    //     // 停止定时器\r\n    //     this.unschedule(this.fighting_history);\r\n    // }\r\n\r\n \r\n});\r\n"]}