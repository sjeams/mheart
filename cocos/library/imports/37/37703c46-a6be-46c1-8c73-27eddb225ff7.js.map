{"version":3,"sources":["assets\\Script\\背包\\score_home.js"],"names":["HttpHelper","require","httpRequest","cc","Class","Component","properties","onLoad","globalData","brushBag","start","httpPost","data","biology","biology_id","TipBoxPrefab_biology_detail","bag","gooduse","zhengfa","openBag","BoxPrefab","find","removeAllChildren","loader","loadRes","errorMessage","loadedResource","log","Prefab","TipBoxPrefab","instantiate","getComponent","biology_detail_alert","openZhengfa","openBag_hidden"],"mappings":"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","sourceRoot":"/","sourcesContent":["var HttpHelper = require(\"../http\"); \r\nvar httpRequest = new HttpHelper();\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        //大厅需要加载的全局变量\r\n        cc.globalData={}\r\n        // var remoteUrl = httpRequest.httpUrlJson(figthing_remote_url);\r\n        // cc.loader.load({ url: remoteUrl }, function (err, data) {\r\n        this.brushBag();\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n    //刷新背包--每次操作后需要刷新背包\r\n    brushBag(){\r\n        //获取生物列表\r\n        httpRequest.httpPost('/app/app-apinew/biology-list',{}, function (data) {\r\n            //定义常量\r\n            cc.globalData.biology = data.data;\r\n            //当前选中的生物id\r\n            cc.globalData.biology_id = 0;\r\n            //当前弹出的预制节点--物品详情--装备-卸载\r\n            cc.globalData.TipBoxPrefab_biology_detail = null;\r\n            //开启战斗\r\n          //   _this.goPlay( )\r\n        }); \r\n        //获取背包\r\n        httpRequest.httpPost('/app/app-apinew/gooduse-bag',{}, function (data) {\r\n            cc.globalData.bag = data.data;  \r\n        })\r\n        //获取背包\r\n        httpRequest.httpPost('/app/app-apinew/gooduse-type',{}, function (data) {\r\n            cc.globalData.gooduse = data.data;  \r\n        })\r\n        //获取阵法\r\n        httpRequest.httpPost('/app/app-apinew/get-position',{}, function (data) {\r\n            cc.globalData.zhengfa = data.data;  \r\n        })\r\n    },\r\n    //打开背包\r\n    openBag() {\r\n        if(cc.globalData.biology){\r\n            //技能图标挂载\r\n            var BoxPrefab = cc.find('Canvas/弹窗')\r\n            // 销毁所有弹窗\r\n            BoxPrefab.removeAllChildren();\r\n            cc.loader.loadRes('/model背包/A生物背包', function(errorMessage,loadedResource){\r\n                //检查资源加载\r\n                if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n                if( !(loadedResource instanceof cc.Prefab ) ) { cc.log( '你载入的不是预制资源!' ); return; }\r\n                //开始实例化预制资源\r\n                var TipBoxPrefab = cc.instantiate(loadedResource);\r\n                TipBoxPrefab.getComponent('biology_bagTools').biology_detail_alert(BoxPrefab,TipBoxPrefab)\r\n            })\r\n            // BoxPrefab.getComponent('biology_bagTools').biology_detail_alert(BoxPrefab,info)\r\n        }else{\r\n        //如果没有生物需要弹窗另一个提示\r\n        }\r\n    },\r\n\r\n    //打开阵法\r\n    openZhengfa() {\r\n        if(cc.globalData.biology){\r\n            //技能图标挂载\r\n            var BoxPrefab = cc.find('Canvas/弹窗')\r\n            // 销毁所有弹窗\r\n            BoxPrefab.removeAllChildren();\r\n            cc.loader.loadRes('/model布阵/A生物布阵', function(errorMessage,loadedResource){\r\n                //检查资源加载\r\n                if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n                if( !(loadedResource instanceof cc.Prefab ) ) { cc.log( '你载入的不是预制资源!' ); return; }\r\n                //开始实例化预制资源\r\n                var TipBoxPrefab = cc.instantiate(loadedResource);\r\n                TipBoxPrefab.getComponent('bag_zhengfaTools').biology_detail_alert(BoxPrefab,TipBoxPrefab)\r\n            })\r\n            // BoxPrefab.getComponent('biology_bagTools').biology_detail_alert(BoxPrefab,info)\r\n        }else{\r\n        //如果没有生物需要弹窗另一个提示\r\n        }\r\n    },\r\n\r\n    openBag_hidden(){\r\n        // cc.find('Canvas/弹窗').active =false;\r\n        cc.find('Canvas/弹窗').removeAllChildren();\r\n    }\r\n    // update (dt) {},\r\n});\r\n"]}