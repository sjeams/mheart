{"version":3,"sources":["assets\\Script\\背包\\bag_home.js"],"names":["require","cc","Class","Component","properties","BoxPrefab","find","onLoad","httpRequestModel","model_home_openBiology","model_home_zhenfa","model_home_zhenfa_bag","http_globalData","BoxPrefab_alert","start","brushBag","httpRequestBagApi","http_bag_info","openBiology","biology","zhenfa","bag","TipBoxPrefab","getComponent","biology_detail_alert","addChild","openZhenfa","TipBoxPrefab_model","biology_detail_list","getChildByName","Label","string","zhenfa_info","num"],"mappings":";;;;;;;;;;AAAAA,OAAO,CAAC,WAAD,CAAP;;AACAC,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,SAAS,EAACJ,EAAE,CAACK,IAAH,CAAQ,WAAR;AADF,GAHP;AAMCC,EAAAA,MAND,oBAMW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACNC,gBAAgB,CAACC,sBAAjB,EADM;;AAAA;AAAA;AAAA,qBAEND,gBAAgB,CAACE,iBAAjB,EAFM;;AAAA;AAAA;AAAA,qBAGNF,gBAAgB,CAACG,qBAAjB,EAHM;;AAAA;AAGmC;AAC/CC,cAAAA,eAAe,CAACC,eAAhB,GAAkCZ,EAAE,CAACK,IAAH,CAAQ,WAAR,CAAlC;;AAJY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKf,GAXI;AAYLQ,EAAAA,KAZK,mBAYI,CAER,CAdI;AAeL;AACAC,EAAAA,QAhBK,sBAgBK;AACN;AACAC,IAAAA,iBAAiB,CAACC,aAAlB;AACH,GAnBI;AAqBL;AACAC,EAAAA,WAtBK,yBAsBS;AACV,QAAGN,eAAe,CAACO,OAAhB,IAAyBP,eAAe,CAACQ,MAAzC,IAAiDR,eAAe,CAACS,GAApE,EAAwE;AACpE;AACA,UAAIhB,SAAS,GAAGO,eAAe,CAACC,eAAhC;AACA,UAAIS,YAAY,GAAIV,eAAe,CAACH,sBAApC;AACAa,MAAAA,YAAY,CAACC,YAAb,CAA0B,mBAA1B,EAA+CC,oBAA/C,CAAoEF,YAApE,EAJoE,CAKpE;;AACAA,MAAAA,YAAY,CAACC,YAAb,CAA0B,mBAA1B,EAA+CC,oBAA/C,CAAoEF,YAApE;AACAjB,MAAAA,SAAS,CAACoB,QAAV,CAAmBH,YAAnB,EAAgC,CAAhC;AACH,KARD,MAQK,CACL;AACC;AACJ,GAlCI;AAoCL;AACAI,EAAAA,UArCK,wBAqCQ;AAET,QAAGd,eAAe,CAACO,OAAhB,IAAyBP,eAAe,CAACQ,MAAzC,IAAiDR,eAAe,CAACS,GAApE,EAAwE;AAChE,UAAIhB,SAAS,GAAGO,eAAe,CAACC,eAAhC;AACA,UAAIc,kBAAkB,GAAIf,eAAe,CAACF,iBAA1C;AACA,UAAIY,YAAY,GAAIV,eAAe,CAACD,qBAApC,CAHgE,CAIhE;AACI;AACA;AACJ;;AACAgB,MAAAA,kBAAkB,CAACJ,YAAnB,CAAgC,mBAAhC,EAAqDK,mBAArD,CAAyED,kBAAzE,EAA4FL,YAA5F;AACAA,MAAAA,YAAY,CAACO,cAAb,CAA4B,MAA5B,EAAoCN,YAApC,CAAiDtB,EAAE,CAAC6B,KAApD,EAA2DC,MAA3D,GAAqEnB,eAAe,CAACoB,WAAhB,CAA4BC,GAAjG,CATgE,CAUhE;;AACAN,MAAAA,kBAAkB,CAACE,cAAnB,CAAkC,MAAlC,EAA0CJ,QAA1C,CAAmDH,YAAnD,EAXgE,CAYhE;;AACAjB,MAAAA,SAAS,CAACoB,QAAV,CAAmBE,kBAAnB,EAAsC,CAAtC;AAEP,KAfD,MAeK,CACL;AACC;AACJ,GAzDI,CA2DL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAhHK,CAAT","sourceRoot":"/","sourcesContent":["require(\"../common\"); \r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        BoxPrefab:cc.find('Canvas/弹窗')\r\n    },\r\n    async onLoad () {\r\n        await httpRequestModel.model_home_openBiology() //加载生物\r\n        await httpRequestModel.model_home_zhenfa() //加载阵法\r\n        await httpRequestModel.model_home_zhenfa_bag() //加载阵法背包\r\n        http_globalData.BoxPrefab_alert = cc.find('Canvas/弹窗')\r\n    },\r\n    start () {\r\n\r\n    },\r\n    //刷新背包--每次操作后需要刷新背包\r\n    brushBag(){\r\n        //获取生物列表--实例化背包信息\r\n        httpRequestBagApi.http_bag_info()\r\n    },\r\n\r\n    //打开背包\r\n    openBiology() {\r\n        if(http_globalData.biology&&http_globalData.zhenfa&&http_globalData.bag){\r\n            // //技能图标挂载\r\n            var BoxPrefab = http_globalData.BoxPrefab_alert\r\n            var TipBoxPrefab =  http_globalData.model_home_openBiology\r\n            TipBoxPrefab.getComponent('biology_iconTools').biology_detail_alert(TipBoxPrefab)\r\n            // //生物详情挂载--默认加载第一个\r\n            TipBoxPrefab.getComponent('biology_infoTools').biology_detail_alert(TipBoxPrefab)\r\n            BoxPrefab.addChild(TipBoxPrefab,1);\r\n        }else{\r\n        //如果没有生物需要弹窗另一个提示\r\n        }\r\n    },\r\n\r\n    //打开阵法\r\n    openZhenfa() {\r\n \r\n        if(http_globalData.biology&&http_globalData.zhenfa&&http_globalData.bag){\r\n                var BoxPrefab = http_globalData.BoxPrefab_alert\r\n                var TipBoxPrefab_model =  http_globalData.model_home_zhenfa\r\n                var TipBoxPrefab =  http_globalData.model_home_zhenfa_bag\r\n                // cc.loader.loadRes('/model布阵/背包生物', function(errorMessage,loadedResource_icon){\r\n                    //开始实例化预制资源\r\n                    // let   TipBoxPrefab =  cc.instantiate(loadedResource_icon);\r\n                //生物列表挂载\r\n                TipBoxPrefab_model.getComponent('bag_zhenfa头像Tools').biology_detail_list(TipBoxPrefab_model,TipBoxPrefab)\r\n                TipBoxPrefab.getChildByName('上阵数s').getComponent(cc.Label).string =  http_globalData.zhenfa_info.num\r\n                //写入icon\r\n                TipBoxPrefab_model.getChildByName('背包生物').addChild(TipBoxPrefab);\r\n                // })\r\n                BoxPrefab.addChild(TipBoxPrefab_model,1);\r\n  \r\n        }else{\r\n        //如果没有生物需要弹窗另一个提示\r\n        }\r\n    },\r\n\r\n    // //打开背包\r\n    // openBag() {\r\n    //     if(http_globalData.biology&&http_globalData.zhenfa&&http_globalData.bag){\r\n    //         //技能图标挂载\r\n    //         var BoxPrefab = cc.find('Canvas/弹窗')\r\n    //         // 销毁所有弹窗\r\n    //         BoxPrefab.removeAllChildren();\r\n    //         cc.loader.loadRes('/model背包/A生物背包', function(errorMessage,loadedResource){\r\n    //             //检查资源加载\r\n    //             if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n    //             if( !(loadedResource instanceof cc.Prefab ) ) { cc.log( '你载入的不是预制资源!' ); return; }\r\n    //             //开始实例化预制资源\r\n    //             var TipBoxPrefab = cc.instantiate(loadedResource);\r\n    //             TipBoxPrefab.getChildByName('关闭弹窗').on('click', function () {\r\n    //                 httpRequestModel.openBag_hidden()\r\n    //             }, this);\r\n    //             TipBoxPrefab.getComponent('biology_bagTools').biology_detail_alert(BoxPrefab,TipBoxPrefab)\r\n    //         })\r\n    //     }else{\r\n    //     //如果没有生物需要弹窗另一个提示\r\n    //     }\r\n    // },\r\n\r\n    // //打开阵法\r\n    // openZhenfa() {\r\n \r\n    //     if(http_globalData.biology&&http_globalData.zhenfa&&http_globalData.bag){\r\n    //         //技能图标挂载\r\n    //         var BoxPrefab = cc.find('Canvas/弹窗')\r\n    //         // 销毁所有弹窗\r\n    //         BoxPrefab.removeAllChildren();\r\n    //         cc.loader.loadRes('/model布阵/A生物布阵', function(errorMessage,loadedResource){\r\n    //             //检查资源加载\r\n    //             if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n    //             if( !(loadedResource instanceof cc.Prefab ) ) { cc.log( '你载入的不是预制资源!' ); return; }\r\n    //             //开始实例化预制资源\r\n    //             var TipBoxPrefab = cc.instantiate(loadedResource);\r\n    //             TipBoxPrefab.getChildByName('关闭弹窗').on('click', function () {\r\n    //                 httpRequestModel.openzhenfa_hidden()\r\n    //             }, this);\r\n    //             TipBoxPrefab.getComponent('bag_zhenfaTools').biology_detail_alert(BoxPrefab,TipBoxPrefab)\r\n    //         })\r\n\r\n    //     }else{\r\n    //     //如果没有生物需要弹窗另一个提示\r\n    //     }\r\n    // },\r\n    //没有处理逻辑，可以共用--关闭窗口\r\n    // openBag_hidden(){\r\n    //     // cc.find('Canvas/弹窗').active =false;\r\n    //     cc.find('Canvas/弹窗').removeAllChildren();\r\n    // },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}