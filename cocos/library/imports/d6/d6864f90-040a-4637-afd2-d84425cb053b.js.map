{"version":3,"sources":["assets\\Script\\commonApi\\alert.js"],"names":["httpAlert","cc","Class","Component","getNicheng","arr","http_globalData","user_nicheng","r_num","Math","round","random","stag_name","i","length","alert_getTips","Promise","resolve","loader","loadRes","errorMessage","loadedResource","alert_tips","alert_biologyDetail","_this","TipBoxPrefab","instantiate","getChildByName","on","httpRequestModel","openAlert_remove","alert_shangdian","alert_goTips","tips","TipBoxPrefab_tips","getComponent","Label","string","runAction","sequence","fadeIn","delayTime","fadeOut","callFunc","destroy","find","addChild","hidePopup","popupNode","active","showPopup","alert_biologyTips","httpRequestAlert","actionBlink_show","schedule","TipBoxPrefab_icon","runing","time","ratation","ratation_back","big","actionhiddenBig","spawn","rotateBy","scaleTo","actionhiddenSmoll","repeatAction","repeatForever","window"],"mappings":"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","sourceRoot":"/","sourcesContent":["// 背包的api请求接口\r\nconst httpAlert = cc.Class({\r\n    extends: cc.Component,\r\n    getNicheng() {\r\n        var arr = http_globalData.user_nicheng\r\n        var r_num = Math.round(Math.random()*(3-1)+1); //随机1-3\r\n\r\n        var stag_name ='';\r\n        for(var i=0;i<=r_num ;i++){\r\n            var round = Math.round(Math.random()*(arr.length-1));  //随机 0-arr.length 的变量  \r\n            stag_name = stag_name+arr[round];\r\n        }\r\n        return stag_name;\r\n    },\r\n    //操作加载弹窗模板\r\n   async alert_getTips() {\r\n        return new Promise(resolve => {    \r\n        cc.loader.loadRes('/model弹窗/弹窗提示', function(errorMessage,loadedResource){\r\n                // var TipBoxPrefab_tips = cc.instantiate(loadedResource);\r\n                http_globalData.alert_tips =loadedResource\r\n                resolve();\r\n            })   \r\n        });\r\n    },\r\n    //操作加载弹窗模板\r\n    async alert_biologyDetail() {\r\n        return new Promise(resolve => {    \r\n        var _this =this\r\n        cc.loader.loadRes('/model召唤/A召唤详情', function(errorMessage,loadedResource){\r\n                var TipBoxPrefab = cc.instantiate(loadedResource);\r\n                TipBoxPrefab.getChildByName('关闭弹窗').on('click', function () {\r\n                    httpRequestModel.openAlert_remove()\r\n                }, this);\r\n                http_globalData.alert_biologyDetail =TipBoxPrefab\r\n                resolve();\r\n            })   \r\n        });\r\n    },\r\n\r\n    //操作加载弹窗模板\r\n    async alert_shangdian() {\r\n        return new Promise(resolve => {    \r\n        var _this =this\r\n        cc.loader.loadRes('/model商店/A商店', function(errorMessage,loadedResource){\r\n                // var TipBoxPrefab_tips = cc.instantiate(loadedResource);\r\n                var TipBoxPrefab = cc.instantiate(loadedResource);\r\n                TipBoxPrefab.getChildByName('关闭弹窗').on('click', function () {\r\n                    httpRequestModel.openAlert_remove()\r\n                }, this);\r\n                http_globalData.alert_shangdian =TipBoxPrefab\r\n                resolve();\r\n            })   \r\n        });\r\n    },\r\n \r\n    //操作提示\r\n    alert_goTips(tips){\r\n\r\n    //     box_tips.active=true\r\n    //     box_tips.runAction(cc.sequence(cc.fadeIn(0.01),cc.scaleTo(0.3, 1.1, 1.3),cc.fadeOut(0.1),cc.scaleTo(0.1, 1, 1),cc.callFunc(function(){  \r\n    //         box_tips.active=false\r\n    //     },this)));\r\n        var TipBoxPrefab_tips = cc.instantiate(http_globalData.alert_tips)\r\n        TipBoxPrefab_tips.getChildByName('提示s').getComponent(cc.Label).string=tips\r\n        TipBoxPrefab_tips.runAction(cc.sequence( cc.fadeIn(0.1),cc.delayTime(0.5),cc.fadeOut(0.2)),cc.callFunc(function(){ \r\n            //移除挂载\r\n            TipBoxPrefab_tips.destroy();\r\n        },this)); \r\n        cc.find('Canvas').addChild(TipBoxPrefab_tips); \r\n    },\r\n     // 隐藏弹窗\r\n     hidePopup(popupNode) {\r\n        // 播放隐藏动画\r\n        popupNode.active = false;\r\n         popupNode.runAction(cc.sequence(cc.fadeOut(0.2), cc.callFunc(function() {\r\n            // 动画播放完成后将节点设置为不可见\r\n   \r\n        }, this)));\r\n    },\r\n    // 显示弹窗\r\n    showPopup(popupNode) {\r\n        // 设置节点为可见并播放显示动画\r\n        // 播放动画，\"showAnimation\" 是弹窗显示的动画名称\r\n           // 设置节点为可见并播放显示动画\r\n           popupNode.active = true;\r\n           // 播放动画，\"showAnimation\" 是弹窗显示的动画名称\r\n           popupNode.runAction(cc.sequence(cc.fadeOut(0.01),cc.fadeIn(0.5), cc.callFunc(function() {\r\n               // 动画播放完成的回调\r\n           }, this)));\r\n    },\r\n\r\n    //创建生物弹窗\r\n    async alert_biologyTips(TipBoxPrefab){\r\n        return new Promise(resolve => {    \r\n            httpRequestAlert.actionBlink_show(TipBoxPrefab.getChildByName('右旋转'),0,1,360,360,1.6)\r\n            httpRequestAlert.actionBlink_show(TipBoxPrefab.getChildByName('生物创造'),0,1,360,360,1.6)\r\n        // var TipBoxPrefab_tips = cc.instantiate(http_globalData.alert_tips)\r\n        // TipBoxPrefab_tips.getChildByName('提示s').getComponent(cc.Label).string=tips\r\n            this.schedule(function(){\r\n                var  TipBoxPrefab_tips = http_globalData.alert_biologyDetail\r\n                // TipBoxPrefab_tips.getChildByName('提示s').getComponent(cc.Label).string=tips\r\n                // TipBoxPrefab_tips.runAction(cc.sequence( cc.fadeIn(0.1),cc.delayTime(0.3),cc.fadeOut(0.2)),cc.callFunc(function(){ \r\n                //     //移除挂载\r\n                //     TipBoxPrefab_tips.destroy();\r\n                // },this)); \r\n                cc.find('Canvas/弹窗').addChild(TipBoxPrefab_tips); \r\n                resolve();\r\n            },1,0)\r\n        });\r\n    },\r\n \r\n\r\n\r\n    //重复闪烁旋转   time 时常/角度\r\n    actionBlink_show(TipBoxPrefab_icon,runing,time,ratation,ratation_back,big){\r\n        // TipBoxPrefab_icon.getChildByName('旋转')\r\n    // var _this=this;\r\n    // 创建旋转动作，这里以每秒绕X轴旋转360度为例\r\n    // const rotateAction = cc.rotateBy(5,360)\r\n    // const rotateAction = cc.blink(1,1)\r\n    // const actionhiddenOn = cc.fadeTo(0.1,0);\r\n    // const actionhiddenoff = cc.fadeTo(0.1,255); \r\n    if(runing){\r\n        const actionhiddenBig = cc.spawn(cc.rotateBy(time,ratation),cc.scaleTo(time,big,big),cc.delayTime(1))\r\n        const actionhiddenSmoll   = cc.spawn(cc.rotateBy(time,ratation_back),cc.scaleTo(time,1,1),cc.delayTime(1))\r\n        const  repeatAction  = cc.repeatForever(cc.sequence(actionhiddenBig,actionhiddenSmoll),cc.callFunc(function(){   },this))\r\n        TipBoxPrefab_icon.runAction(repeatAction);\r\n    }else{\r\n        const actionhiddenBig = cc.spawn(cc.rotateBy(time,ratation),cc.scaleTo(time,big,big),cc.delayTime(1))\r\n        const actionhiddenSmoll   = cc.spawn(cc.rotateBy(time,ratation_back),cc.scaleTo(time,1,1),cc.delayTime(1))\r\n        TipBoxPrefab_icon.runAction(cc.sequence(actionhiddenBig,actionhiddenSmoll) ,cc.callFunc(function(){   },this));\r\n        // const actionhiddenSmoll   = cc.spawn(cc.rotateBy(0.01,0),cc.scaleTo(0.01,1,1),cc.delayTime(0.01))\r\n        // const  repeatAction  = cc.repeatForever(cc.sequence(actionhiddenSmoll),cc.callFunc(function(){   },this))\r\n        // TipBoxPrefab_icon.runAction(repeatAction);\r\n        // TipBoxPrefab_icon.stopAllActions();\r\n    }\r\n},\r\n});\r\nwindow.httpRequestAlert = new httpAlert();"]}