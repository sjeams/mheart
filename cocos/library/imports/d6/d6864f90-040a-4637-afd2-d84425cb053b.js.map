{"version":3,"sources":["assets\\Script\\commonApi\\alert.js"],"names":["httpAlert","cc","Class","Component","getNicheng","arr","http_globalData","user_nicheng","r_num","Math","round","random","stag_name","i","length","alert_getTips","Promise","resolve","loader","loadRes","errorMessage","loadedResource","alert_tips","alert_biologyDetail","alert_goTips","tips","TipBoxPrefab_tips","instantiate","getChildByName","getComponent","Label","string","runAction","sequence","fadeIn","delayTime","fadeOut","callFunc","destroy","find","addChild","hidePopup","popupNode","active","showPopup","alert_biologyTips","TipBoxPrefab","httpRequestAlert","actionBlink_show","schedule","TipBoxPrefab_icon","runing","time","ratation","ratation_back","big","actionhiddenBig","spawn","rotateBy","scaleTo","actionhiddenSmoll","repeatAction","repeatForever","window"],"mappings":"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","sourceRoot":"/","sourcesContent":["// 背包的api请求接口\r\nconst httpAlert = cc.Class({\r\n    extends: cc.Component,\r\n    getNicheng() {\r\n        var arr = http_globalData.user_nicheng\r\n        var r_num = Math.round(Math.random()*(3-1)+1); //随机1-3\r\n\r\n        var stag_name ='';\r\n        for(var i=0;i<=r_num ;i++){\r\n            var round = Math.round(Math.random()*(arr.length-1));  //随机 0-arr.length 的变量  \r\n            stag_name = stag_name+arr[round];\r\n        }\r\n        return stag_name;\r\n    },\r\n\r\n    //操作加载弹窗模板\r\n   async alert_getTips() {\r\n        return new Promise(resolve => {    \r\n        cc.loader.loadRes('/model弹窗/弹窗提示', function(errorMessage,loadedResource){\r\n                // var TipBoxPrefab_tips = cc.instantiate(loadedResource);\r\n                http_globalData.alert_tips =loadedResource\r\n                resolve();\r\n            })   \r\n        });\r\n    },\r\n    //操作加载弹窗模板\r\n    async alert_biologyDetail() {\r\n        return new Promise(resolve => {    \r\n        cc.loader.loadRes('/model召唤/A召唤详情', function(errorMessage,loadedResource){\r\n                // var TipBoxPrefab_tips = cc.instantiate(loadedResource);\r\n                http_globalData.alert_biologyDetail =loadedResource\r\n                resolve();\r\n            })   \r\n        });\r\n    },\r\n\r\n    \r\n    //操作提示\r\n    alert_goTips(tips){\r\n        var TipBoxPrefab_tips = cc.instantiate(http_globalData.alert_tips)\r\n        TipBoxPrefab_tips.getChildByName('提示s').getComponent(cc.Label).string=tips\r\n        TipBoxPrefab_tips.runAction(cc.sequence( cc.fadeIn(0.1),cc.delayTime(0.3),cc.fadeOut(0.2)),cc.callFunc(function(){ \r\n            //移除挂载\r\n            TipBoxPrefab_tips.destroy();\r\n        },this)); \r\n        cc.find('Canvas').addChild(TipBoxPrefab_tips); \r\n    },\r\n     // 隐藏弹窗\r\n     hidePopup(popupNode) {\r\n        // 播放隐藏动画\r\n        popupNode.active = false;\r\n         popupNode.runAction(cc.sequence(cc.fadeOut(0.2), cc.callFunc(function() {\r\n            // 动画播放完成后将节点设置为不可见\r\n   \r\n        }, this)));\r\n    },\r\n    // 显示弹窗\r\n    showPopup(popupNode) {\r\n        // 设置节点为可见并播放显示动画\r\n        // 播放动画，\"showAnimation\" 是弹窗显示的动画名称\r\n           // 设置节点为可见并播放显示动画\r\n           popupNode.active = true;\r\n           // 播放动画，\"showAnimation\" 是弹窗显示的动画名称\r\n           popupNode.runAction(cc.sequence(cc.fadeOut(0.01),cc.fadeIn(0.5), cc.callFunc(function() {\r\n               // 动画播放完成的回调\r\n           }, this)));\r\n    },\r\n\r\n\r\n    //创建生物弹窗\r\n    async alert_biologyTips(TipBoxPrefab){\r\n        return new Promise(resolve => {    \r\n            httpRequestAlert.actionBlink_show(TipBoxPrefab.getChildByName('右旋转'),0,1,360,360,1.5)\r\n            httpRequestAlert.actionBlink_show(TipBoxPrefab.getChildByName('生物创造'),0,1,360,360,1.5)\r\n        // var TipBoxPrefab_tips = cc.instantiate(http_globalData.alert_tips)\r\n        // TipBoxPrefab_tips.getChildByName('提示s').getComponent(cc.Label).string=tips\r\n            this.schedule(function(){\r\n\r\n                var TipBoxPrefab_tips = cc.instantiate(http_globalData.alert_biologyDetail)\r\n                // TipBoxPrefab_tips.getChildByName('提示s').getComponent(cc.Label).string=tips\r\n                // TipBoxPrefab_tips.runAction(cc.sequence( cc.fadeIn(0.1),cc.delayTime(0.3),cc.fadeOut(0.2)),cc.callFunc(function(){ \r\n                //     //移除挂载\r\n                //     TipBoxPrefab_tips.destroy();\r\n                // },this)); \r\n                cc.find('Canvas/弹窗').addChild(TipBoxPrefab_tips); \r\n                resolve();\r\n            },1)\r\n        });\r\n \r\n    },\r\n \r\n\r\n\r\n    //重复闪烁旋转   time 时常/角度\r\n    actionBlink_show(TipBoxPrefab_icon,runing,time,ratation,ratation_back,big){\r\n        // TipBoxPrefab_icon.getChildByName('旋转')\r\n    // var _this=this;\r\n    // 创建旋转动作，这里以每秒绕X轴旋转360度为例\r\n    // const rotateAction = cc.rotateBy(5,360)\r\n    // const rotateAction = cc.blink(1,1)\r\n    // const actionhiddenOn = cc.fadeTo(0.1,0);\r\n    // const actionhiddenoff = cc.fadeTo(0.1,255); \r\n    if(runing){\r\n        const actionhiddenBig = cc.spawn(cc.rotateBy(time,ratation),cc.scaleTo(time,big,big),cc.delayTime(1))\r\n        const actionhiddenSmoll   = cc.spawn(cc.rotateBy(time,ratation_back),cc.scaleTo(time,1,1),cc.delayTime(1))\r\n        const  repeatAction  = cc.repeatForever(cc.sequence(actionhiddenBig,actionhiddenSmoll),cc.callFunc(function(){   },this))\r\n        TipBoxPrefab_icon.runAction(repeatAction);\r\n    }else{\r\n        const actionhiddenBig = cc.spawn(cc.rotateBy(time,ratation),cc.scaleTo(time,big,big),cc.delayTime(1))\r\n        const actionhiddenSmoll   = cc.spawn(cc.rotateBy(time,ratation_back),cc.scaleTo(time,1,1),cc.delayTime(1))\r\n        TipBoxPrefab_icon.runAction(cc.sequence(actionhiddenBig,actionhiddenSmoll) ,cc.callFunc(function(){   },this));\r\n        // const actionhiddenSmoll   = cc.spawn(cc.rotateBy(0.01,0),cc.scaleTo(0.01,1,1),cc.delayTime(0.01))\r\n        // const  repeatAction  = cc.repeatForever(cc.sequence(actionhiddenSmoll),cc.callFunc(function(){   },this))\r\n        // TipBoxPrefab_icon.runAction(repeatAction);\r\n        // TipBoxPrefab_icon.stopAllActions();\r\n    }\r\n},\r\n});\r\nwindow.httpRequestAlert = new httpAlert();"]}