{"version":3,"sources":["assets\\Script\\commonApi\\alert.js"],"names":["httpAlert","cc","Class","Component","getNicheng","arr","http_globalData","user_nicheng","r_num","httpRequest","number_rand","log","stag_name","i","round","Math","random","length","alert_tips","Promise","resolve","loader","loadRes","errorMessage","loadedResource","alert_biologyDetail","_this","TipBoxPrefab","instantiate","getChildByName","on","httpRequestModel","openAlert_remove","alert_shangdian","alert_goTips","tips","TipBoxPrefab_tips","getComponent","Label","string","runAction","sequence","fadeIn","delayTime","fadeOut","callFunc","destroy","find","addChild","hidePopup","popupNode","active","showPopup","alert_biologyTips","httpRequestAlert","actionBlink_show","schedule","TipBoxPrefab_icon","runing","time","ratation","ratation_back","big","actionhiddenBig","spawn","rotateBy","scaleTo","actionhiddenSmoll","repeatAction","repeatForever","window"],"mappings":";;;;;;;;;;AAAA;AACA,IAAMA,SAAS,GAAGC,EAAE,CAACC,KAAH,CAAS;AACvB,aAASD,EAAE,CAACE,SADW;AAEvBC,EAAAA,UAFuB,wBAEV;AACT,QAAIC,GAAG,GAAGC,eAAe,CAACC,YAA1B,CADS,CAET;;AACA,QAAIC,KAAK,GAAKC,WAAW,CAACC,WAAZ,CAAwB,CAAxB,CAAd;AACAT,IAAAA,EAAE,CAACU,GAAH,CAAOH,KAAP;AACA,QAAII,SAAS,GAAE,EAAf;;AACA,SAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,IAAEL,KAAf,EAAsBK,CAAC,EAAvB,EAA0B;AACtB,UAAIC,KAAK,GAAGC,IAAI,CAACD,KAAL,CAAWC,IAAI,CAACC,MAAL,MAAeX,GAAG,CAACY,MAAJ,GAAW,CAA1B,CAAX,CAAZ,CADsB,CACiC;;AACvDL,MAAAA,SAAS,GAAGA,SAAS,GAACP,GAAG,CAACS,KAAD,CAAzB;AACH;;AACD,WAAOF,SAAP;AACH,GAbsB;AAcvB;AACKM,EAAAA,UAfkB,wBAeL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CACP,IAAIC,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC9BnB,gBAAAA,EAAE,CAACoB,MAAH,CAAUC,OAAV,CAAkB,eAAlB,EAAmC,UAASC,YAAT,EAAsBC,cAAtB,EAAqC;AAChE;AACAlB,kBAAAA,eAAe,CAACY,UAAhB,GAA4BM,cAA5B;AACAJ,kBAAAA,OAAO;AACV,iBAJL;AAKC,eANM,CADO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQjB,GAvBsB;AAwBvB;AACMK,EAAAA,mBAzBiB,iCAyBK;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDACjB,IAAIN,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC9B,oBAAIM,KAAK,GAAE,MAAX;AACAzB,gBAAAA,EAAE,CAACoB,MAAH,CAAUC,OAAV,CAAkB,gBAAlB,EAAoC,UAASC,YAAT,EAAsBC,cAAtB,EAAqC;AACjE,sBAAIG,YAAY,GAAG1B,EAAE,CAAC2B,WAAH,CAAeJ,cAAf,CAAnB;AACAG,kBAAAA,YAAY,CAACE,cAAb,CAA4B,MAA5B,EAAoCC,EAApC,CAAuC,OAAvC,EAAgD,YAAY;AACxDC,oBAAAA,gBAAgB,CAACC,gBAAjB;AACH,mBAFD,EAEG,IAFH;AAGA1B,kBAAAA,eAAe,CAACmB,mBAAhB,GAAqCE,YAArC;AACAP,kBAAAA,OAAO;AACV,iBAPL;AAQC,eAVM,CADiB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAY3B,GArCsB;AAuCvB;AACMa,EAAAA,eAxCiB,6BAwCC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDACb,IAAId,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC9B,oBAAIM,KAAK,GAAE,MAAX;AACAzB,gBAAAA,EAAE,CAACoB,MAAH,CAAUC,OAAV,CAAkB,cAAlB,EAAkC,UAASC,YAAT,EAAsBC,cAAtB,EAAqC;AAC/D;AACA,sBAAIG,YAAY,GAAG1B,EAAE,CAAC2B,WAAH,CAAeJ,cAAf,CAAnB;AACAG,kBAAAA,YAAY,CAACE,cAAb,CAA4B,MAA5B,EAAoCC,EAApC,CAAuC,OAAvC,EAAgD,YAAY;AACxDC,oBAAAA,gBAAgB,CAACC,gBAAjB;AACH,mBAFD,EAEG,IAFH;AAGA1B,kBAAAA,eAAe,CAAC2B,eAAhB,GAAiCN,YAAjC;AACAP,kBAAAA,OAAO;AACV,iBARL;AASC,eAXM,CADa;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAavB,GArDsB;AAuDvB;AACAc,EAAAA,YAxDuB,wBAwDVC,IAxDU,EAwDL;AAElB;AACA;AACA;AACA;AACI,QAAIC,iBAAiB,GAAGnC,EAAE,CAAC2B,WAAH,CAAetB,eAAe,CAACY,UAA/B,CAAxB;AACAkB,IAAAA,iBAAiB,CAACP,cAAlB,CAAiC,KAAjC,EAAwCQ,YAAxC,CAAqDpC,EAAE,CAACqC,KAAxD,EAA+DC,MAA/D,GAAsEJ,IAAtE;AACAC,IAAAA,iBAAiB,CAACI,SAAlB,CAA4BvC,EAAE,CAACwC,QAAH,CAAaxC,EAAE,CAACyC,MAAH,CAAU,GAAV,CAAb,EAA4BzC,EAAE,CAAC0C,SAAH,CAAa,GAAb,CAA5B,EAA8C1C,EAAE,CAAC2C,OAAH,CAAW,GAAX,CAA9C,CAA5B,EAA2F3C,EAAE,CAAC4C,QAAH,CAAY,YAAU;AAC7G;AACAT,MAAAA,iBAAiB,CAACU,OAAlB;AACH,KAH0F,EAGzF,IAHyF,CAA3F;AAIA7C,IAAAA,EAAE,CAAC8C,IAAH,CAAQ,QAAR,EAAkBC,QAAlB,CAA2BZ,iBAA3B;AACH,GArEsB;AAsEtB;AACAa,EAAAA,SAvEsB,qBAuEZC,SAvEY,EAuED;AAClB;AACAA,IAAAA,SAAS,CAACC,MAAV,GAAmB,KAAnB;AACCD,IAAAA,SAAS,CAACV,SAAV,CAAoBvC,EAAE,CAACwC,QAAH,CAAYxC,EAAE,CAAC2C,OAAH,CAAW,GAAX,CAAZ,EAA6B3C,EAAE,CAAC4C,QAAH,CAAY,YAAW,CACrE;AAEH,KAHiD,EAG/C,IAH+C,CAA7B,CAApB;AAIJ,GA9EsB;AA+EvB;AACAO,EAAAA,SAhFuB,qBAgFbF,SAhFa,EAgFF;AACjB;AACA;AACG;AACAA,IAAAA,SAAS,CAACC,MAAV,GAAmB,IAAnB,CAJc,CAKd;;AACAD,IAAAA,SAAS,CAACV,SAAV,CAAoBvC,EAAE,CAACwC,QAAH,CAAYxC,EAAE,CAAC2C,OAAH,CAAW,IAAX,CAAZ,EAA6B3C,EAAE,CAACyC,MAAH,CAAU,GAAV,CAA7B,EAA6CzC,EAAE,CAAC4C,QAAH,CAAY,YAAW,CACpF;AACH,KAFgE,EAE9D,IAF8D,CAA7C,CAApB;AAGN,GAzFsB;AA2FvB;AACMQ,EAAAA,iBA5FiB,6BA4FC1B,YA5FD,EA4Fc;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDAC1B,IAAIR,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC1BkC,gBAAAA,gBAAgB,CAACC,gBAAjB,CAAkC5B,YAAY,CAACE,cAAb,CAA4B,KAA5B,CAAlC,EAAqE,CAArE,EAAuE,CAAvE,EAAyE,GAAzE,EAA6E,GAA7E,EAAiF,GAAjF;AACAyB,gBAAAA,gBAAgB,CAACC,gBAAjB,CAAkC5B,YAAY,CAACE,cAAb,CAA4B,MAA5B,CAAlC,EAAsE,CAAtE,EAAwE,CAAxE,EAA0E,GAA1E,EAA8E,GAA9E,EAAkF,GAAlF,EAF0B,CAI9B;;AACI,gBAAA,MAAI,CAAC2B,QAAL,CAAc,YAAU;AACpB,sBAAKpB,iBAAiB,GAAG9B,eAAe,CAACmB,mBAAzC,CADoB,CAEpB;AACA;AACA;AACA;AACA;;AACAxB,kBAAAA,EAAE,CAAC8C,IAAH,CAAQ,WAAR,EAAqBC,QAArB,CAA8BZ,iBAA9B;AACAhB,kBAAAA,OAAO;AACV,iBATD,EASE,CATF,EASI,CATJ;AAUH,eAfM,CAD0B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBpC,GA7GsB;AAgHvB;AACAmC,EAAAA,gBAjHuB,4BAiHNE,iBAjHM,EAiHYC,MAjHZ,EAiHmBC,IAjHnB,EAiHwBC,QAjHxB,EAiHiCC,aAjHjC,EAiH+CC,GAjH/C,EAiHmD;AACtE;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,QAAGJ,MAAH,EAAU;AACN,UAAMK,eAAe,GAAG9D,EAAE,CAAC+D,KAAH,CAAS/D,EAAE,CAACgE,QAAH,CAAYN,IAAZ,EAAiBC,QAAjB,CAAT,EAAoC3D,EAAE,CAACiE,OAAH,CAAWP,IAAX,EAAgBG,GAAhB,EAAoBA,GAApB,CAApC,EAA6D7D,EAAE,CAAC0C,SAAH,CAAa,CAAb,CAA7D,CAAxB;AACA,UAAMwB,iBAAiB,GAAKlE,EAAE,CAAC+D,KAAH,CAAS/D,EAAE,CAACgE,QAAH,CAAYN,IAAZ,EAAiBE,aAAjB,CAAT,EAAyC5D,EAAE,CAACiE,OAAH,CAAWP,IAAX,EAAgB,CAAhB,EAAkB,CAAlB,CAAzC,EAA8D1D,EAAE,CAAC0C,SAAH,CAAa,CAAb,CAA9D,CAA5B;AACA,UAAOyB,YAAY,GAAInE,EAAE,CAACoE,aAAH,CAAiBpE,EAAE,CAACwC,QAAH,CAAYsB,eAAZ,EAA4BI,iBAA5B,CAAjB,EAAgElE,EAAE,CAAC4C,QAAH,CAAY,YAAU,CAAK,CAA3B,EAA4B,IAA5B,CAAhE,CAAvB;AACAY,MAAAA,iBAAiB,CAACjB,SAAlB,CAA4B4B,YAA5B;AACH,KALD,MAKK;AACD,UAAML,gBAAe,GAAG9D,EAAE,CAAC+D,KAAH,CAAS/D,EAAE,CAACgE,QAAH,CAAYN,IAAZ,EAAiBC,QAAjB,CAAT,EAAoC3D,EAAE,CAACiE,OAAH,CAAWP,IAAX,EAAgBG,GAAhB,EAAoBA,GAApB,CAApC,EAA6D7D,EAAE,CAAC0C,SAAH,CAAa,CAAb,CAA7D,CAAxB;;AACA,UAAMwB,kBAAiB,GAAKlE,EAAE,CAAC+D,KAAH,CAAS/D,EAAE,CAACgE,QAAH,CAAYN,IAAZ,EAAiBE,aAAjB,CAAT,EAAyC5D,EAAE,CAACiE,OAAH,CAAWP,IAAX,EAAgB,CAAhB,EAAkB,CAAlB,CAAzC,EAA8D1D,EAAE,CAAC0C,SAAH,CAAa,CAAb,CAA9D,CAA5B;;AACAc,MAAAA,iBAAiB,CAACjB,SAAlB,CAA4BvC,EAAE,CAACwC,QAAH,CAAYsB,gBAAZ,EAA4BI,kBAA5B,CAA5B,EAA4ElE,EAAE,CAAC4C,QAAH,CAAY,YAAU,CAAK,CAA3B,EAA4B,IAA5B,CAA5E,EAHC,CAID;AACA;AACA;AACA;AACH;AACJ;AAvI0B,CAAT,CAAlB;AAyIAyB,MAAM,CAAChB,gBAAP,GAA0B,IAAItD,SAAJ,EAA1B","sourceRoot":"/","sourcesContent":["// 背包的api请求接口\r\nconst httpAlert = cc.Class({\r\n    extends: cc.Component,\r\n    getNicheng() {\r\n        var arr = http_globalData.user_nicheng\r\n        // var r_num = Math.round(Math.random()*(3-1)+1); //随机1-3\r\n        var r_num =   httpRequest.number_rand(3)\r\n        cc.log(r_num)\r\n        var stag_name ='';\r\n        for(var i=0;i<=r_num ;i++){\r\n            var round = Math.round(Math.random()*(arr.length-1));  //随机 0-arr.length 的变量  \r\n            stag_name = stag_name+arr[round];\r\n        }\r\n        return stag_name;\r\n    },\r\n    //操作加载弹窗模板\r\n   async alert_tips() {\r\n        return new Promise(resolve => {    \r\n        cc.loader.loadRes('/model弹窗/弹窗提示', function(errorMessage,loadedResource){\r\n                // var TipBoxPrefab_tips = cc.instantiate(loadedResource);\r\n                http_globalData.alert_tips =loadedResource\r\n                resolve();\r\n            })   \r\n        });\r\n    },\r\n    //操作加载弹窗模板\r\n    async alert_biologyDetail() {\r\n        return new Promise(resolve => {    \r\n        var _this =this\r\n        cc.loader.loadRes('/model召唤/A召唤详情', function(errorMessage,loadedResource){\r\n                var TipBoxPrefab = cc.instantiate(loadedResource);\r\n                TipBoxPrefab.getChildByName('关闭弹窗').on('click', function () {\r\n                    httpRequestModel.openAlert_remove()\r\n                }, this);\r\n                http_globalData.alert_biologyDetail =TipBoxPrefab\r\n                resolve();\r\n            })   \r\n        });\r\n    },\r\n\r\n    //操作加载弹窗模板\r\n    async alert_shangdian() {\r\n        return new Promise(resolve => {    \r\n        var _this =this\r\n        cc.loader.loadRes('/model商店/A商店', function(errorMessage,loadedResource){\r\n                // var TipBoxPrefab_tips = cc.instantiate(loadedResource);\r\n                var TipBoxPrefab = cc.instantiate(loadedResource);\r\n                TipBoxPrefab.getChildByName('关闭弹窗').on('click', function () {\r\n                    httpRequestModel.openAlert_remove()\r\n                }, this);\r\n                http_globalData.alert_shangdian =TipBoxPrefab\r\n                resolve();\r\n            })   \r\n        });\r\n    },\r\n \r\n    //操作提示\r\n    alert_goTips(tips){\r\n\r\n    //     box_tips.active=true\r\n    //     box_tips.runAction(cc.sequence(cc.fadeIn(0.01),cc.scaleTo(0.3, 1.1, 1.3),cc.fadeOut(0.1),cc.scaleTo(0.1, 1, 1),cc.callFunc(function(){  \r\n    //         box_tips.active=false\r\n    //     },this)));\r\n        var TipBoxPrefab_tips = cc.instantiate(http_globalData.alert_tips)\r\n        TipBoxPrefab_tips.getChildByName('提示s').getComponent(cc.Label).string=tips\r\n        TipBoxPrefab_tips.runAction(cc.sequence( cc.fadeIn(0.1),cc.delayTime(0.5),cc.fadeOut(0.2)),cc.callFunc(function(){ \r\n            //移除挂载\r\n            TipBoxPrefab_tips.destroy();\r\n        },this)); \r\n        cc.find('Canvas').addChild(TipBoxPrefab_tips); \r\n    },\r\n     // 隐藏弹窗\r\n     hidePopup(popupNode) {\r\n        // 播放隐藏动画\r\n        popupNode.active = false;\r\n         popupNode.runAction(cc.sequence(cc.fadeOut(0.2), cc.callFunc(function() {\r\n            // 动画播放完成后将节点设置为不可见\r\n   \r\n        }, this)));\r\n    },\r\n    // 显示弹窗\r\n    showPopup(popupNode) {\r\n        // 设置节点为可见并播放显示动画\r\n        // 播放动画，\"showAnimation\" 是弹窗显示的动画名称\r\n           // 设置节点为可见并播放显示动画\r\n           popupNode.active = true;\r\n           // 播放动画，\"showAnimation\" 是弹窗显示的动画名称\r\n           popupNode.runAction(cc.sequence(cc.fadeOut(0.01),cc.fadeIn(0.5), cc.callFunc(function() {\r\n               // 动画播放完成的回调\r\n           }, this)));\r\n    },\r\n\r\n    //创建生物弹窗\r\n    async alert_biologyTips(TipBoxPrefab){\r\n        return new Promise(resolve => {    \r\n            httpRequestAlert.actionBlink_show(TipBoxPrefab.getChildByName('右旋转'),0,1,360,360,1.6)\r\n            httpRequestAlert.actionBlink_show(TipBoxPrefab.getChildByName('生物创造'),0,1,360,360,1.6)\r\n \r\n        // TipBoxPrefab_tips.getChildByName('提示s').getComponent(cc.Label).string=tips\r\n            this.schedule(function(){\r\n                var  TipBoxPrefab_tips = http_globalData.alert_biologyDetail\r\n                // TipBoxPrefab_tips.getChildByName('提示s').getComponent(cc.Label).string=tips\r\n                // TipBoxPrefab_tips.runAction(cc.sequence( cc.fadeIn(0.1),cc.delayTime(0.3),cc.fadeOut(0.2)),cc.callFunc(function(){ \r\n                //     //移除挂载\r\n                //     TipBoxPrefab_tips.destroy();\r\n                // },this)); \r\n                cc.find('Canvas/弹窗').addChild(TipBoxPrefab_tips); \r\n                resolve();\r\n            },1,0)\r\n        });\r\n    },\r\n \r\n\r\n    //重复闪烁旋转   time 时常/角度\r\n    actionBlink_show(TipBoxPrefab_icon,runing,time,ratation,ratation_back,big){\r\n        // TipBoxPrefab_icon.getChildByName('旋转')\r\n    // var _this=this;\r\n    // 创建旋转动作，这里以每秒绕X轴旋转360度为例\r\n    // const rotateAction = cc.rotateBy(5,360)\r\n    // const rotateAction = cc.blink(1,1)\r\n    // const actionhiddenOn = cc.fadeTo(0.1,0);\r\n    // const actionhiddenoff = cc.fadeTo(0.1,255); \r\n    if(runing){\r\n        const actionhiddenBig = cc.spawn(cc.rotateBy(time,ratation),cc.scaleTo(time,big,big),cc.delayTime(1))\r\n        const actionhiddenSmoll   = cc.spawn(cc.rotateBy(time,ratation_back),cc.scaleTo(time,1,1),cc.delayTime(1))\r\n        const  repeatAction  = cc.repeatForever(cc.sequence(actionhiddenBig,actionhiddenSmoll),cc.callFunc(function(){   },this))\r\n        TipBoxPrefab_icon.runAction(repeatAction);\r\n    }else{\r\n        const actionhiddenBig = cc.spawn(cc.rotateBy(time,ratation),cc.scaleTo(time,big,big),cc.delayTime(1))\r\n        const actionhiddenSmoll   = cc.spawn(cc.rotateBy(time,ratation_back),cc.scaleTo(time,1,1),cc.delayTime(1))\r\n        TipBoxPrefab_icon.runAction(cc.sequence(actionhiddenBig,actionhiddenSmoll) ,cc.callFunc(function(){   },this));\r\n        // const actionhiddenSmoll   = cc.spawn(cc.rotateBy(0.01,0),cc.scaleTo(0.01,1,1),cc.delayTime(0.01))\r\n        // const  repeatAction  = cc.repeatForever(cc.sequence(actionhiddenSmoll),cc.callFunc(function(){   },this))\r\n        // TipBoxPrefab_icon.runAction(repeatAction);\r\n        // TipBoxPrefab_icon.stopAllActions();\r\n    }\r\n},\r\n});\r\nwindow.httpRequestAlert = new httpAlert();"]}