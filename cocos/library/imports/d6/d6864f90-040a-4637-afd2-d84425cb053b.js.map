{"version":3,"sources":["assets\\Script\\commonApi\\alert.js"],"names":["httpAlert","cc","Class","Component","openBag_hidden","find","removeAllChildren","getNicheng","arr","http_globalData","user_nicheng","r_num","Math","round","random","stag_name","i","length","alert_getTips","Promise","resolve","loader","loadRes","errorMessage","loadedResource","alert_tips","alert_biologyDetail","alert_shangdian","_this","TipBoxPrefab","instantiate","getChildByName","on","alert_goTips","tips","TipBoxPrefab_tips","getComponent","Label","string","runAction","sequence","fadeIn","delayTime","fadeOut","callFunc","destroy","addChild","hidePopup","popupNode","active","showPopup","alert_biologyTips","httpRequestAlert","actionBlink_show","schedule","TipBoxPrefab_icon","runing","time","ratation","ratation_back","big","actionhiddenBig","spawn","rotateBy","scaleTo","actionhiddenSmoll","repeatAction","repeatForever","window"],"mappings":"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","sourceRoot":"/","sourcesContent":["// 背包的api请求接口\r\nconst httpAlert = cc.Class({\r\n    extends: cc.Component,\r\n    openBag_hidden(){\r\n        // cc.find('Canvas/弹窗').active =false;\r\n        cc.find('Canvas/弹窗').removeAllChildren();\r\n    },\r\n    getNicheng() {\r\n        var arr = http_globalData.user_nicheng\r\n        var r_num = Math.round(Math.random()*(3-1)+1); //随机1-3\r\n\r\n        var stag_name ='';\r\n        for(var i=0;i<=r_num ;i++){\r\n            var round = Math.round(Math.random()*(arr.length-1));  //随机 0-arr.length 的变量  \r\n            stag_name = stag_name+arr[round];\r\n        }\r\n        return stag_name;\r\n    },\r\n    //操作加载弹窗模板\r\n   async alert_getTips() {\r\n        return new Promise(resolve => {    \r\n        cc.loader.loadRes('/model弹窗/弹窗提示', function(errorMessage,loadedResource){\r\n                // var TipBoxPrefab_tips = cc.instantiate(loadedResource);\r\n                http_globalData.alert_tips =loadedResource\r\n                resolve();\r\n            })   \r\n        });\r\n    },\r\n    //操作加载弹窗模板\r\n    async alert_biologyDetail() {\r\n        return new Promise(resolve => {    \r\n        cc.loader.loadRes('/model召唤/A召唤详情', function(errorMessage,loadedResource){\r\n                // var TipBoxPrefab_tips = cc.instantiate(loadedResource);\r\n                http_globalData.alert_biologyDetail =loadedResource\r\n                resolve();\r\n            })   \r\n        });\r\n    },\r\n\r\n    //操作加载弹窗模板\r\n    async alert_shangdian() {\r\n        return new Promise(resolve => {    \r\n            var _this =this\r\n        cc.loader.loadRes('/model商店/A商店', function(errorMessage,loadedResource){\r\n                // var TipBoxPrefab_tips = cc.instantiate(loadedResource);\r\n                var TipBoxPrefab = cc.instantiate(loadedResource);\r\n                TipBoxPrefab.getChildByName('关闭弹窗').on('click', function () {\r\n                    _this.openBag_hidden()\r\n                }, this);\r\n                http_globalData.alert_shangdian =TipBoxPrefab\r\n                resolve();\r\n            })   \r\n        });\r\n    },\r\n \r\n    //操作提示\r\n    alert_goTips(tips){\r\n        var TipBoxPrefab_tips = cc.instantiate(http_globalData.alert_tips)\r\n        TipBoxPrefab_tips.getChildByName('提示s').getComponent(cc.Label).string=tips\r\n        TipBoxPrefab_tips.runAction(cc.sequence( cc.fadeIn(0.1),cc.delayTime(0.3),cc.fadeOut(0.2)),cc.callFunc(function(){ \r\n            //移除挂载\r\n            TipBoxPrefab_tips.destroy();\r\n        },this)); \r\n        cc.find('Canvas').addChild(TipBoxPrefab_tips); \r\n    },\r\n     // 隐藏弹窗\r\n     hidePopup(popupNode) {\r\n        // 播放隐藏动画\r\n        popupNode.active = false;\r\n         popupNode.runAction(cc.sequence(cc.fadeOut(0.2), cc.callFunc(function() {\r\n            // 动画播放完成后将节点设置为不可见\r\n   \r\n        }, this)));\r\n    },\r\n    // 显示弹窗\r\n    showPopup(popupNode) {\r\n        // 设置节点为可见并播放显示动画\r\n        // 播放动画，\"showAnimation\" 是弹窗显示的动画名称\r\n           // 设置节点为可见并播放显示动画\r\n           popupNode.active = true;\r\n           // 播放动画，\"showAnimation\" 是弹窗显示的动画名称\r\n           popupNode.runAction(cc.sequence(cc.fadeOut(0.01),cc.fadeIn(0.5), cc.callFunc(function() {\r\n               // 动画播放完成的回调\r\n           }, this)));\r\n    },\r\n\r\n\r\n    //创建生物弹窗\r\n    async alert_biologyTips(TipBoxPrefab){\r\n        return new Promise(resolve => {    \r\n            httpRequestAlert.actionBlink_show(TipBoxPrefab.getChildByName('右旋转'),0,1,360,360,1.6)\r\n            httpRequestAlert.actionBlink_show(TipBoxPrefab.getChildByName('生物创造'),0,1,360,360,1.6)\r\n        // var TipBoxPrefab_tips = cc.instantiate(http_globalData.alert_tips)\r\n        // TipBoxPrefab_tips.getChildByName('提示s').getComponent(cc.Label).string=tips\r\n            this.schedule(function(){\r\n                var TipBoxPrefab_tips = cc.instantiate(http_globalData.alert_biologyDetail)\r\n                // TipBoxPrefab_tips.getChildByName('提示s').getComponent(cc.Label).string=tips\r\n                // TipBoxPrefab_tips.runAction(cc.sequence( cc.fadeIn(0.1),cc.delayTime(0.3),cc.fadeOut(0.2)),cc.callFunc(function(){ \r\n                //     //移除挂载\r\n                //     TipBoxPrefab_tips.destroy();\r\n                // },this)); \r\n                cc.find('Canvas/弹窗').addChild(TipBoxPrefab_tips); \r\n                resolve();\r\n            },1,0)\r\n        });\r\n \r\n    },\r\n \r\n\r\n\r\n    //重复闪烁旋转   time 时常/角度\r\n    actionBlink_show(TipBoxPrefab_icon,runing,time,ratation,ratation_back,big){\r\n        // TipBoxPrefab_icon.getChildByName('旋转')\r\n    // var _this=this;\r\n    // 创建旋转动作，这里以每秒绕X轴旋转360度为例\r\n    // const rotateAction = cc.rotateBy(5,360)\r\n    // const rotateAction = cc.blink(1,1)\r\n    // const actionhiddenOn = cc.fadeTo(0.1,0);\r\n    // const actionhiddenoff = cc.fadeTo(0.1,255); \r\n    if(runing){\r\n        const actionhiddenBig = cc.spawn(cc.rotateBy(time,ratation),cc.scaleTo(time,big,big),cc.delayTime(1))\r\n        const actionhiddenSmoll   = cc.spawn(cc.rotateBy(time,ratation_back),cc.scaleTo(time,1,1),cc.delayTime(1))\r\n        const  repeatAction  = cc.repeatForever(cc.sequence(actionhiddenBig,actionhiddenSmoll),cc.callFunc(function(){   },this))\r\n        TipBoxPrefab_icon.runAction(repeatAction);\r\n    }else{\r\n        const actionhiddenBig = cc.spawn(cc.rotateBy(time,ratation),cc.scaleTo(time,big,big),cc.delayTime(1))\r\n        const actionhiddenSmoll   = cc.spawn(cc.rotateBy(time,ratation_back),cc.scaleTo(time,1,1),cc.delayTime(1))\r\n        TipBoxPrefab_icon.runAction(cc.sequence(actionhiddenBig,actionhiddenSmoll) ,cc.callFunc(function(){   },this));\r\n        // const actionhiddenSmoll   = cc.spawn(cc.rotateBy(0.01,0),cc.scaleTo(0.01,1,1),cc.delayTime(0.01))\r\n        // const  repeatAction  = cc.repeatForever(cc.sequence(actionhiddenSmoll),cc.callFunc(function(){   },this))\r\n        // TipBoxPrefab_icon.runAction(repeatAction);\r\n        // TipBoxPrefab_icon.stopAllActions();\r\n    }\r\n},\r\n});\r\nwindow.httpRequestAlert = new httpAlert();"]}