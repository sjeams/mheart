{"version":3,"sources":["assets\\Script\\commonApi\\model.js"],"names":["httpModel","cc","Class","Component","http_base_model","http_globalAsset","model_biology_fightingBiology","httpRequestModel","model_biology_fightingDetail","model_biology_SkillIcon","model_biology_SkillTips","model_biology_fightingEnd","model_onload_loading","Promise","resolve","loader","loadRes","errorMessage","loadedResource","log","TipBoxPrefab","instantiate","removeBoxprefab","http_globalData","BoxPrefab_content","removeAllChildren","destroyAllChildren","openAlert_remove","find","openAlert_hidden","active","openzhenfa_hidden","httpRequestBagApi","http_update_zhenfa","getChildByName","on","httpRequest","playGame","getComponent","playTask","fightingEnd","fighting_list","fighting","data","poition_winner","Label","string","addChild","model_home_openBiology","model_home_zhenfa","model_home_zhenfa_bag","model_home_zhenfa_icon","model_home_zhenfa_biology","window"],"mappings":"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","sourceRoot":"/","sourcesContent":["// 背包的api请求接口\r\nconst httpModel = cc.Class({\r\n    extends: cc.Component,\r\n    //引入的基础类--战斗模型\r\n    async http_base_model(){\r\n        if(!http_globalAsset.model_biology_fightingBiology==[]){\r\n            await httpRequestModel.model_biology_fightingBiology() //加载模型\r\n        }\r\n        if(!http_globalAsset.model_biology_fightingDetail==[]){\r\n            await httpRequestModel.model_biology_fightingDetail();//加载战斗生物详情\r\n        }\r\n        if(!http_globalAsset.model_biology_SkillIcon==[]){\r\n            await httpRequestModel.model_biology_SkillIcon();//加载战斗技能图标\r\n        }\r\n        if(!http_globalAsset.model_biology_SkillTips==[]){\r\n            await httpRequestModel.model_biology_SkillTips();//加载战斗技能提示\r\n        }\r\n        if(!http_globalAsset.model_biology_fightingEnd==[]){\r\n            await httpRequestModel.model_biology_fightingEnd();//加载战斗技能提示\r\n        }\r\n        await httpRequestModel.model_biology_fightingEnd();//加载战斗结果--不是唯一的，每次都会变\r\n    },\r\n\r\n    //加载进度条\r\n    async model_onload_loading() {\r\n        return new Promise(resolve => {    \r\n        cc.loader.loadRes('/model弹窗/进度条', function(errorMessage,loadedResource){\r\n                if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n                var TipBoxPrefab = cc.instantiate(loadedResource);\r\n                // TipBoxPrefab.getChildByName('关闭弹窗').on('click', function () {\r\n                //     httpRequestModel.openzhenfa_hidden()\r\n                // }, this);\r\n                http_globalAsset.model_onload_loading =TipBoxPrefab\r\n                resolve();\r\n            })   \r\n        });\r\n    },\r\n    //移除容器\r\n    removeBoxprefab(){\r\n        http_globalData.BoxPrefab_content.removeAllChildren();\r\n        http_globalData.BoxPrefab_content.destroyAllChildren();\r\n    },\r\n    openAlert_remove(){\r\n        // cc.find('Canvas/弹窗').active =false;\r\n        cc.find('Canvas/弹窗').removeAllChildren();// 结束弹窗结果\r\n    },\r\n    openAlert_hidden(){\r\n        // cc.find('Canvas/弹窗').active =false;\r\n        cc.find('Canvas/结算').active =false;// 结束弹窗结果\r\n    },\r\n    //阵法 关闭 提交结果，需要单独处理了\r\n    async openzhenfa_hidden(){\r\n        // cc.log(http_globalData.zhenfa)   \r\n        await  httpRequestBagApi.http_update_zhenfa()\r\n        // cc.find('Canvas/弹窗').removeAllChildren();\r\n    },\r\n    //战斗--加载模板战斗生物详情\r\n   async model_biology_fightingBiology() {\r\n        return new Promise(resolve => {    \r\n        cc.loader.loadRes('/model战斗/biology_生物详情', function(errorMessage,loadedResource){\r\n                if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n                var TipBoxPrefab = cc.instantiate(loadedResource);\r\n                // TipBoxPrefab.getChildByName('关闭弹窗').on('click', function () {\r\n                //     httpRequestModel.openzhenfa_hidden()\r\n                // }, this);\r\n                http_globalAsset.model_biology_fightingBiology =TipBoxPrefab\r\n                resolve();\r\n            })   \r\n        });\r\n    },\r\n\r\n \r\n    //战斗--加载模板战斗生物技能\r\n    async model_biology_fightingDetail() {\r\n        return new Promise(resolve => {    \r\n            cc.loader.loadRes('/model弹窗/biology_生物_战斗详情', function(errorMessage,loadedResource){\r\n                if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n                var TipBoxPrefab = cc.instantiate(loadedResource);\r\n                // TipBoxPrefab.getChildByName('关闭弹窗').on('click', function () {\r\n                //     httpRequestModel.openzhenfa_hidden()\r\n                // }, this);\r\n                http_globalAsset.model_biology_fightingDetail =TipBoxPrefab\r\n                resolve();\r\n            })   \r\n        });\r\n    },\r\n    \r\n    //战斗--加载模板战斗生物技能\r\n    async model_biology_SkillIcon() {\r\n        return new Promise(resolve => {    \r\n            cc.loader.loadRes('/model弹窗/biology_生物_技能图标', function(errorMessage,loadedResource){\r\n                if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n                var TipBoxPrefab = cc.instantiate(loadedResource);\r\n                // TipBoxPrefab.getChildByName('关闭弹窗').on('click', function () {\r\n                //     httpRequestModel.openzhenfa_hidden()\r\n                // }, this);\r\n                http_globalAsset.model_biology_SkillIcon =TipBoxPrefab\r\n                resolve();\r\n            })   \r\n        });\r\n    },\r\n    //战斗--加载模板战斗生物技能\r\n    async model_biology_SkillTips() {\r\n        return new Promise(resolve => {    \r\n            cc.loader.loadRes('/model弹窗/biology_生物_战斗技能提示', function(errorMessage,loadedResource){\r\n                if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n                var TipBoxPrefab = cc.instantiate(loadedResource);\r\n                // TipBoxPrefab.getChildByName('关闭弹窗').on('click', function () {\r\n                //     httpRequestModel.openzhenfa_hidden()\r\n                // }, this);\r\n                http_globalAsset.model_biology_SkillTips =TipBoxPrefab\r\n                resolve();\r\n            })   \r\n        });\r\n    },\r\n\r\n    // //操作提示\r\n    // alert_goTips(tips){\r\n    //     var TipBoxPrefab_tips = cc.instantiate(http_globalData.alert_tips)\r\n    //     TipBoxPrefab_tips.getChildByName('提示s').getComponent(cc.Label).string=tips\r\n    //     TipBoxPrefab_tips.runAction(cc.sequence( cc.fadeIn(0.1),cc.delayTime(0.3),cc.fadeOut(0.2)),cc.callFunc(function(){ \r\n    //         //移除挂载\r\n    //         TipBoxPrefab_tips.destroy();\r\n    //     },this)); \r\n    //     cc.find('Canvas').addChild(TipBoxPrefab_tips); \r\n    // },\r\n\r\n\r\n   //战斗-战斗结束\r\n    async model_biology_fightingEnd() {\r\n        return new Promise(resolve => {    \r\n        cc.loader.loadRes('/model弹窗/biology_结算', function(errorMessage,loadedResource){\r\n                if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n                var TipBoxPrefab = cc.instantiate(loadedResource);\r\n                TipBoxPrefab.getChildByName('关闭弹窗').on('click', function () {\r\n                    httpRequestModel.openAlert_hidden()\r\n                }, this);\r\n                TipBoxPrefab.getChildByName('canser').on('click', function () {\r\n                    httpRequestModel.openAlert_hidden()\r\n                }, this);\r\n                TipBoxPrefab.getChildByName('返回地图').on('click', function () {\r\n                    httpRequest.playGame(\"sence_ditu\")\r\n                }, this);\r\n                TipBoxPrefab.getChildByName('重播').on('click', function () {\r\n                    httpRequestModel.removeBoxprefab()\r\n                    cc.find('Canvas/大厅/content').getComponent('score_fighting').playTask( )\r\n                    httpRequestModel.openAlert_hidden()\r\n                }, this);\r\n                http_globalData.model_biology_fightingEnd = TipBoxPrefab\r\n                resolve();\r\n            })   \r\n        });\r\n    },\r\n\r\n\r\n    //生成战斗结束\r\n    async fightingEnd() {\r\n        // var _this =this;\r\n        return new Promise(resolve => { \r\n            var fighting_list =  http_globalData.fighting.data; \r\n    \r\n            //开始实例化预制资源\r\n            let  TipBoxPrefab =  http_globalData.model_biology_fightingEnd\r\n            // cc.log(TipBoxPrefab)\r\n            // TipBoxPrefab.getComponent('fightingTools').initInfo(fighting_list); //写入奖励物品预制体\r\n            if(fighting_list.poition_winner==1){\r\n            TipBoxPrefab.getChildByName('结果s').getComponent(cc.Label).string='胜利！';\r\n            }else{\r\n            TipBoxPrefab.getChildByName('结果s').getComponent(cc.Label).string='失败！';\r\n            }\r\n            //将预制资源添加到父节点\r\n            cc.find('Canvas/结算/弹框').addChild(TipBoxPrefab,this);\r\n        \r\n            resolve()\r\n        }) \r\n    },\r\n\r\n    //背包\r\n    async model_home_openBiology() {\r\n        return new Promise(resolve => {    \r\n            cc.loader.loadRes('/model背包/A生物背包', function(errorMessage,loadedResource){\r\n                if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n                var TipBoxPrefab = cc.instantiate(loadedResource);\r\n                TipBoxPrefab.getChildByName('关闭弹窗').on('click', function () {\r\n                    httpRequestModel.openAlert_remove()\r\n                }, this);\r\n                http_globalData.model_home_openBiology =TipBoxPrefab\r\n                resolve();\r\n            })   \r\n        });\r\n    },\r\n\r\n    //阵法\r\n    async model_home_zhenfa() {\r\n        return new Promise(resolve => {    \r\n            cc.loader.loadRes('/model布阵/A生物布阵', function(errorMessage,loadedResource){\r\n                if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n                var TipBoxPrefab = cc.instantiate(loadedResource);\r\n                TipBoxPrefab.getChildByName('关闭弹窗').on('click', function () {\r\n                    httpRequestModel.openzhenfa_hidden()\r\n                }, this);\r\n                http_globalData.model_home_zhenfa =TipBoxPrefab\r\n                resolve();\r\n            })   \r\n        });\r\n    },\r\n    //阵法\r\n    async model_home_zhenfa_bag() {\r\n        return new Promise(resolve => {    \r\n            cc.loader.loadRes('/model布阵/背包生物', function(errorMessage,loadedResource){\r\n                if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n                var TipBoxPrefab = cc.instantiate(loadedResource);\r\n                // TipBoxPrefab.getChildByName('关闭弹窗').on('click', function () {\r\n                //     httpRequestModel.openzhenfa_hidden()\r\n                // }, this);\r\n                http_globalData.model_home_zhenfa_bag =TipBoxPrefab\r\n                resolve();\r\n            })   \r\n        });\r\n    },\r\n    //阵法\r\n    async model_home_zhenfa_icon() {\r\n        return new Promise(resolve => {    \r\n            cc.loader.loadRes('/model布阵/图标生物', function(errorMessage,loadedResource){\r\n                if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n                var TipBoxPrefab = cc.instantiate(loadedResource);\r\n                // TipBoxPrefab.getChildByName('关闭弹窗').on('click', function () {\r\n                //     httpRequestModel.openzhenfa_hidden()\r\n                // }, this);\r\n                http_globalData.model_home_zhenfa_icon =TipBoxPrefab\r\n                resolve();\r\n            })   \r\n        });\r\n    },\r\n    //阵法\r\n    async model_home_zhenfa_biology() {\r\n        return new Promise(resolve => {    \r\n            cc.loader.loadRes('/model布阵/图标阵法', function(errorMessage,loadedResource){\r\n                if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n                var TipBoxPrefab = cc.instantiate(loadedResource);\r\n                // TipBoxPrefab.getChildByName('关闭弹窗').on('click', function () {\r\n                //     httpRequestModel.openzhenfa_hidden()\r\n                // }, this);\r\n                http_globalData.model_home_zhenfa_biology =TipBoxPrefab\r\n                resolve();\r\n            })   \r\n        });\r\n    },\r\n \r\n});\r\nwindow.httpRequestModel = new httpModel();"]}