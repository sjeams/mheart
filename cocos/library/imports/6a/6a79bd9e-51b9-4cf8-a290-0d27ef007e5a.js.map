{"version":3,"sources":["assets\\Script\\commonApi\\model.js"],"names":["httpModel","cc","Class","Component","removeBoxprefab","http_globalData","BoxPrefab_content","removeAllChildren","destroyAllChildren","openBag_hidden","find","model_biology_fighting","Promise","resolve","loader","loadRes","errorMessage","loadedResource","log","model_biology_fightingEnd","TipBoxPrefab","instantiate","getChildByName","on","active","httpRequest","playGame","httpRequestModel","getComponent","playTask","window"],"mappings":"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","sourceRoot":"/","sourcesContent":["// 背包的api请求接口\r\nconst httpModel = cc.Class({\r\n    extends: cc.Component,\r\n    //移除容器\r\n    removeBoxprefab(){\r\n        http_globalData.BoxPrefab_content.removeAllChildren();\r\n        http_globalData.BoxPrefab_content.destroyAllChildren();\r\n    },\r\n    openBag_hidden(){\r\n        // cc.find('Canvas/弹窗').active =false;\r\n        cc.find('Canvas/弹窗').removeAllChildren();\r\n    },\r\n    //加载模板战斗生物详情\r\n   async model_biology_fighting() {\r\n        return new Promise(resolve => {    \r\n        cc.loader.loadRes('/model战斗/biology_生物详情', function(errorMessage,loadedResource){\r\n                if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n                // var TipBoxPrefab_tips = cc.instantiate(loadedResource);\r\n                http_globalData.model_biology_fighting =loadedResource\r\n                resolve();\r\n            })   \r\n        });\r\n    },\r\n    // //操作提示\r\n    // alert_goTips(tips){\r\n    //     var TipBoxPrefab_tips = cc.instantiate(http_globalData.alert_tips)\r\n    //     TipBoxPrefab_tips.getChildByName('提示s').getComponent(cc.Label).string=tips\r\n    //     TipBoxPrefab_tips.runAction(cc.sequence( cc.fadeIn(0.1),cc.delayTime(0.3),cc.fadeOut(0.2)),cc.callFunc(function(){ \r\n    //         //移除挂载\r\n    //         TipBoxPrefab_tips.destroy();\r\n    //     },this)); \r\n    //     cc.find('Canvas').addChild(TipBoxPrefab_tips); \r\n    // },\r\n    //战斗结束\r\n    async model_biology_fightingEnd() {\r\n        return new Promise(resolve => {    \r\n        cc.loader.loadRes('/model弹窗/biology_结算', function(errorMessage,loadedResource){\r\n                if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n                var TipBoxPrefab = cc.instantiate(loadedResource);\r\n                TipBoxPrefab.getChildByName('关闭弹窗').on('click', function () {\r\n                    cc.find('Canvas/结算').active =false;// 结束弹窗结果\r\n                }, this);\r\n                TipBoxPrefab.getChildByName('canser').on('click', function () {\r\n                    cc.find('Canvas/结算').active =false;// 结束弹窗结果\r\n                }, this);\r\n                TipBoxPrefab.getChildByName('返回地图').on('click', function () {\r\n                    httpRequest.playGame(\"sence_ditu\")\r\n                }, this);\r\n                TipBoxPrefab.getChildByName('重播').on('click', function () {\r\n                    httpRequestModel.removeBoxprefab()\r\n                    cc.find('Canvas/大厅/content').getComponent('score_fighting').playTask( )\r\n                    cc.find('Canvas/结算').active =false;// 结束弹窗结果\r\n                }, this);\r\n                http_globalData.model_biology_fightingEnd =TipBoxPrefab\r\n                resolve();\r\n            })   \r\n        });\r\n    },\r\n});\r\nwindow.httpRequestModel = new httpModel();"]}