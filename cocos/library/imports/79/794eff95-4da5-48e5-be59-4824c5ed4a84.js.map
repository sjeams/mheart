{"version":3,"sources":["assets\\Script\\背包\\score_home.js"],"names":["require","cc","Class","Component","properties","onLoad","brushBag","start","httpRequest","httpPost","data","http_globalData","biology","TipBoxPrefab_biology_detail","bag","gooduse","zhenfa","zhenfa_info","info","log","openBag","BoxPrefab","find","removeAllChildren","loader","loadRes","errorMessage","loadedResource","Prefab","TipBoxPrefab","instantiate","getComponent","biology_detail_alert","openZhenfa","openBag_hidden","openzhenfa_hidden","httpRequestBagApi","http_update_zhenfa"],"mappings":"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","sourceRoot":"/","sourcesContent":["require(\"../common\"); \r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        // cc.log(http_globalData.playerName)\r\n        //大厅需要加载的全局变量\r\n        // http_globalData={}\r\n        // var remoteUrl = httpRequest.httpUrlJson(figthing_remote_url);\r\n        // cc.loader.load({ url: remoteUrl }, function (err, data) {\r\n        this.brushBag();\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n    //刷新背包--每次操作后需要刷新背包\r\n    brushBag(){\r\n        //获取生物列表\r\n        httpRequest.httpPost('/app/app-apinew/biology-list',{}, function (data) {\r\n            //定义常量\r\n            http_globalData.biology = data.data.biology;\r\n            //当前弹出的预制节点--物品详情--装备-卸载\r\n            http_globalData.TipBoxPrefab_biology_detail = null;\r\n            //开启战斗\r\n            http_globalData.bag = data.data.bag;  \r\n            http_globalData.gooduse = data.data.gooduse;  //物品类型\r\n            http_globalData.zhenfa = data.data.zhenfa.data;\r\n            http_globalData.zhenfa_info = data.data.zhenfa.info;\r\n            cc.log(http_globalData.zhenfa_info)\r\n            // 临时字段\r\n            // http_globalData.biology_id = 0;\r\n            // http_globalData.zhenfa_id=0;\r\n        })\r\n    },\r\n    //打开背包\r\n    openBag() {\r\n        if(http_globalData.biology&&http_globalData.zhenfa&&http_globalData.bag){\r\n            //技能图标挂载\r\n            var BoxPrefab = cc.find('Canvas/弹窗')\r\n            // 销毁所有弹窗\r\n            BoxPrefab.removeAllChildren();\r\n            cc.loader.loadRes('/model背包/A生物背包', function(errorMessage,loadedResource){\r\n                //检查资源加载\r\n                if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n                if( !(loadedResource instanceof cc.Prefab ) ) { cc.log( '你载入的不是预制资源!' ); return; }\r\n                //开始实例化预制资源\r\n                var TipBoxPrefab = cc.instantiate(loadedResource);\r\n                TipBoxPrefab.getComponent('biology_bagTools').biology_detail_alert(BoxPrefab,TipBoxPrefab)\r\n            })\r\n            // BoxPrefab.getComponent('biology_bagTools').biology_detail_alert(BoxPrefab,info)\r\n        }else{\r\n        //如果没有生物需要弹窗另一个提示\r\n        }\r\n    },\r\n\r\n    //打开阵法\r\n    openZhenfa() {\r\n        if(http_globalData.biology&&http_globalData.zhenfa&&http_globalData.bag){\r\n            //技能图标挂载\r\n            var BoxPrefab = cc.find('Canvas/弹窗')\r\n            // 销毁所有弹窗\r\n            BoxPrefab.removeAllChildren();\r\n            cc.loader.loadRes('/model布阵/A生物布阵', function(errorMessage,loadedResource){\r\n                //检查资源加载\r\n                if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n                if( !(loadedResource instanceof cc.Prefab ) ) { cc.log( '你载入的不是预制资源!' ); return; }\r\n                //开始实例化预制资源\r\n                var TipBoxPrefab = cc.instantiate(loadedResource);\r\n                TipBoxPrefab.getComponent('bag_zhenfaTools').biology_detail_alert(BoxPrefab,TipBoxPrefab)\r\n            })\r\n            // BoxPrefab.getComponent('biology_bagTools').biology_detail_alert(BoxPrefab,info)\r\n        }else{\r\n        //如果没有生物需要弹窗另一个提示\r\n        }\r\n    },\r\n    //没有处理逻辑，可以共用--关闭窗口\r\n    openBag_hidden(){\r\n        // cc.find('Canvas/弹窗').active =false;\r\n        cc.find('Canvas/弹窗').removeAllChildren();\r\n    },\r\n    //阵法 关闭 提交结果，需要单独处理了\r\n    openzhenfa_hidden(){\r\n        // cc.log(http_globalData.zhenfa)   \r\n        httpRequestBagApi.http_update_zhenfa()\r\n        cc.find('Canvas/弹窗').removeAllChildren();\r\n    }\r\n    // update (dt) {},\r\n});\r\n"]}