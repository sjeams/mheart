{"version":3,"sources":["assets\\Script\\登录\\score_jiaose.js"],"names":["cc","Class","Component","properties","onLoad","httpRequestBagApi","http_music","http_base_jiaose","httpRequestModel","model_biology_jiaose","biology_detail_list","checkClickButton","http_globalData","user_jiaose_check","createUserName","biology_jiaose","_this","httpRequestAlert","hidePopup","find","removeAllChildren","loader","loadRes","errorMessage","jiaose_icon","TipBoxPrefab_jiaose","instantiate","getChildByName","getComponent","Sprite","spriteFrame","texture","Label","string","texture_name","addChild","showPopup","biology_jiaose_alert","info","icon","SpriteFrame","err","name","type","describe","start","Promise","resolve","info_list","user_jiaose","log","TipBoxPrefab_model","TOOLS","prop","TipBoxPrefab_icon","http_globalAsset","image","jiaose","picture","actionBlink_show","http_base_asset_biology","onConfirBtn","on","active","runing","actionhiddenBig","spawn","rotateBy","scaleTo","delayTime","actionhiddenSmoll","repeatAction","repeatForever","sequence","callFunc","runAction","stopAllActions","new_name","getNicheng","EditBox","createUser","server","JSON","parse","sys","localStorage","getItem","role","jiaose_id","id","httpRequest","httpPostLogin","data","code","playGame","message","back_login","director","loadScene","urlConfig"],"mappings":"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","sourceRoot":"/","sourcesContent":[" \r\n// require(\"../common\"); \r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n    },\r\n   async onLoad () {\r\n        await httpRequestBagApi.http_music()\r\n        await httpRequestBagApi.http_base_jiaose()\r\n        await httpRequestModel.model_biology_jiaose()//角色模型\r\n        await this.biology_detail_list()\r\n        this.checkClickButton(http_globalData.user_jiaose_check)\r\n        this.createUserName()\r\n    },\r\n    biology_jiaose(){\r\n        var _this =this;\r\n        httpRequestAlert.hidePopup(cc.find('Canvas/大厅/角色'))\r\n        cc.find('Canvas/大厅/角色').removeAllChildren();\r\n        cc.loader.loadRes('/model召唤/角色', function(errorMessage,jiaose_icon){    \r\n            let TipBoxPrefab_jiaose =  cc.instantiate(jiaose_icon);\r\n            TipBoxPrefab_jiaose.getChildByName('生物').getComponent(cc.Sprite).spriteFrame = http_globalData.user_jiaose_check.texture\r\n            TipBoxPrefab_jiaose.getChildByName('名称s').getComponent(cc.Label).string= http_globalData.user_jiaose_check.texture_name;\r\n            cc.find('Canvas/大厅/角色').addChild(TipBoxPrefab_jiaose);\r\n            httpRequestAlert.showPopup(cc.find('Canvas/大厅/角色'))\r\n        })\r\n    },\r\n    biology_jiaose_alert(){\r\n        var _this =this;\r\n        httpRequestAlert.hidePopup(cc.find('Canvas/大厅/角色详情'))\r\n        cc.find('Canvas/大厅/角色详情').removeAllChildren();\r\n        cc.loader.loadRes('/model召唤/角色详情', function(errorMessage,jiaose_icon){    \r\n            let TipBoxPrefab_jiaose =  cc.instantiate(jiaose_icon);\r\n            cc.loader.loadRes(http_globalData.user_jiaose_check.info.icon, cc.SpriteFrame, function (err, texture) { \r\n                if (err) {\r\n                    // cc.error(err.message || err);\r\n                    return;\r\n                }\r\n                TipBoxPrefab_jiaose.getChildByName('种族').getComponent(cc.Sprite).spriteFrame = texture; \r\n            });\r\n            TipBoxPrefab_jiaose.getChildByName('种族s').getComponent(cc.Label).string= http_globalData.user_jiaose_check.info.name+'族'\r\n            \r\n            TipBoxPrefab_jiaose.getChildByName('属性s').getComponent(cc.Label).string= '属性：'+http_globalData.user_jiaose_check.info.type\r\n            TipBoxPrefab_jiaose.getChildByName('特点s').getComponent(cc.Label).string= '特点：'+http_globalData.user_jiaose_check.info.describe\r\n            cc.find('Canvas/大厅/角色详情').addChild(TipBoxPrefab_jiaose);\r\n            httpRequestAlert.showPopup(cc.find('Canvas/大厅/角色详情'))\r\n        })\r\n    },\r\n    start () {\r\n\r\n    },\r\n\r\n\r\n    //技能图片渲染\r\n    async biology_detail_list(){\r\n        return new Promise(resolve => {   \r\n        var info_list = http_globalData.user_jiaose\r\n        if(info_list){\r\n\r\n\r\n            cc.log(info_list)\r\n            var TipBoxPrefab_model = cc.find('Canvas/大厅/content')\r\n            var _this =this;\r\n            var TOOLS =[];\r\n            var TOOLS = info_list;\r\n            // let image = '/技能图标/'+skill.image;\r\n            //加载预制资源 PrefabUrl为 预制资源在 资源中的路径\r\n                // cc.loader.loadRes('/model召唤/角色选择', function(errorMessage,loadedResource_icon){\r\n                // //检查资源加载\r\n                // if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n                // if( !(loadedResource_icon instanceof cc.Prefab ) ) { cc.log( '你载入的不是预制资源!' ); return; }\r\n                //开始实例化预制资源\r\n                for (var prop in info_list) {\r\n                        //声明节点对象\r\n                        let TipBoxPrefab_icon =  cc.instantiate(http_globalAsset.model_biology_jiaose);\r\n                        if(prop==0){\r\n                            http_globalData.user_jiaose_check =TipBoxPrefab_icon;\r\n                        }\r\n\r\n                        let info = TOOLS[prop];\r\n                        TipBoxPrefab_icon.info =info\r\n                        //放在资源下面\r\n                        let image = info.jiaose.picture;\r\n                        if(info.jiaose){\r\n                            _this.actionBlink_show(TipBoxPrefab_icon,1)\r\n                            // cc.loader.loadRes(image, cc.SpriteFrame, function (err, texture) { \r\n                                // if (err) {\r\n                                //     // cc.error(err.message || err);\r\n                                //     return;\r\n                                // }\r\n                                cc.log(http_globalAsset.http_base_asset_biology)\r\n                                TipBoxPrefab_icon.getChildByName('生物').getComponent(cc.Sprite).spriteFrame = http_globalAsset.http_base_asset_biology[image]; \r\n                                TipBoxPrefab_icon.texture = http_globalAsset.http_base_asset_biology[image]; \r\n                                TipBoxPrefab_icon.texture_name =info.jiaose.name\r\n                            // });\r\n                            // var color = ['#ffffff','green','#BDFF00','#FFD100','#FF0000','#ffe000',];\r\n                            // var type_color = color[info['type']];\r\n                            // // console.log(info)\r\n                            // var star ='';    \r\n                            // for(var i=0;i<=info['star'];i++){\r\n                            //     star +='⭐';\r\n                            // }\r\n                            // TipBoxPrefab_icon.getChildByName('名称').getComponent(cc.Label).string=info.name;\r\n                            // TipBoxPrefab_icon.getChildByName('名称').color = new cc.color(type_color);\r\n                            // TipBoxPrefab_icon.getChildByName('世界等级').getComponent(cc.Label).string= info.type_name;\r\n                            // TipBoxPrefab_icon.getChildByName('世界等级').color = new cc.color(type_color);\r\n                            // TipBoxPrefab_icon.getChildByName('星级').getComponent(cc.Label).string= star;\r\n                            //创建一个新button 并将其挂载到创建的精灵下\r\n                            _this.onConfirBtn(TipBoxPrefab_icon);\r\n                            //写入icon\r\n                            TipBoxPrefab_model.addChild(TipBoxPrefab_icon);\r\n                        }\r\n                        resolve();  \r\n                    }\r\n                \r\n              \r\n                // }) \r\n        \r\n        }\r\n    });\r\n        // return TipBoxPrefab_model;\r\n        // TipBoxPrefab_model.children[0].emit('click', _this.onConfirBtn,this);\r\n        // onConfirBtn(TipBoxPrefab_model.children[0],info_list[0].jiaose.picture)\r\n    },\r\n    //按钮点击回调\r\n    onConfirBtn(TipBoxPrefab_icon){\r\n        var _this =this;\r\n        TipBoxPrefab_icon.on('click', function () {\r\n            _this.checkClickButton(TipBoxPrefab_icon)\r\n            //session设置战斗请求id\r\n            // cc.sys.localStorage.setItem('figthing_map_int', JSON.stringify(map_int)); \r\n            // httpRequest.playGame(\"sence_zhandou\",1,1)\r\n        })\r\n    },\r\n    checkClickButton(TipBoxPrefab_icon){\r\n        if(http_globalData.user_jiaose_check){\r\n            http_globalData.user_jiaose_check.getChildByName('遮罩').active=true;\r\n            // this.actionBlink_show(http_globalData.user_jiaose_check,0)\r\n        }\r\n        TipBoxPrefab_icon.getChildByName('遮罩').active=false;\r\n        http_globalData.user_jiaose_check = TipBoxPrefab_icon;\r\n        this.biology_jiaose()\r\n        this.biology_jiaose_alert()\r\n        // this.actionBlink_show(TipBoxPrefab_icon,1)\r\n    },\r\n      //重复闪烁\r\n    actionBlink_show(TipBoxPrefab_icon,runing){\r\n        // var _this=this;\r\n        // 创建旋转动作，这里以每秒绕X轴旋转360度为例\r\n        // const rotateAction = cc.rotateBy(5,360)\r\n        // const rotateAction = cc.blink(1,1)\r\n        // const actionhiddenOn = cc.fadeTo(0.1,0);\r\n        // const actionhiddenoff = cc.fadeTo(0.1,255); \r\n        const actionhiddenBig = cc.spawn(cc.rotateBy(5,360),cc.scaleTo(5,1.2,1.2),cc.delayTime(1))\r\n        const actionhiddenSmoll   = cc.spawn(cc.rotateBy(5,360),cc.scaleTo(5,1,1),cc.delayTime(1))\r\n        if(runing){\r\n            const  repeatAction  = cc.repeatForever(cc.sequence(actionhiddenBig,actionhiddenSmoll),cc.callFunc(function(){   },this))\r\n            TipBoxPrefab_icon.getChildByName('旋转').runAction(repeatAction);\r\n        }else{\r\n            TipBoxPrefab_icon.getChildByName('旋转').stopAllActions();\r\n        }\r\n    },\r\n    createUserName(){\r\n       var new_name = httpRequestAlert.getNicheng();\r\n       cc.find('Canvas/大厅/角色名字').getComponent(cc.EditBox).string= new_name\r\n       cc.find('Canvas/大厅/提示s').getComponent(cc.Label).string=''; \r\n    },\r\n    // update (dt) {},\r\n    //创建角色 ，登录 ，跳转大厅\r\n    createUser(){\r\n     \r\n        var server = JSON.parse(cc.sys.localStorage.getItem('server'));\r\n        server.role =cc.find('Canvas/大厅/角色名字').getComponent(cc.EditBox).string\r\n        server.jiaose_id =http_globalData.user_jiaose_check.info.jiaose.id\r\n        httpRequest.httpPostLogin('/app/api-server/user-role', {server} ,function (data) {\r\n            if(data.code==1){\r\n                httpRequest.playGame(\"sence_dating\");  \r\n            }else{\r\n                cc.find('Canvas/大厅/提示s').getComponent(cc.Label).string= data.message\r\n            }\r\n        })\r\n    // cc.log(http_globalData.user_jiaose_check.info.jiaose.id);\r\n    // cc.sys.localStorage.setItem('userinfo', JSON.stringify(data.data.userinfo)); \r\n    // httpRequest.playGame(\"sence_dating\");\r\n    // cc.find('Canvas/大厅/提示s').getComponent(cc.Label).string= new_name\r\n    },\r\n    back_login(){\r\n        //移除节点\r\n        // // httpRequest.playGame(\"sence_login\")\r\n        // cc.director.loadScene(httpRequest.urlConfig(\"sence_login\"));\r\n        // 假设我们要销毁的节点名为 \"DestroyNode\"\r\n        cc.director.loadScene(httpRequest.urlConfig(\"sence_login\"), function () {\r\n            // 在新场景加载完成后执行\r\n            // var destroyNode = cc.find(\"Canvas\");\r\n            // if (destroyNode) {\r\n            //     destroyNode.destroy();\r\n            // }\r\n        });\r\n\r\n    },\r\n});\r\n\r\n"]}