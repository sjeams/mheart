{"version":3,"sources":["assets\\Script\\背包\\biology_infoTools.js"],"names":["cc","Class","Component","properties","biology_detail_alert","info","http_globalData","biology","biology_id","http_globalAsset","TipBoxPrefab_model","getChildByName","removeAllChildren","_this","TipBoxPrefab","instantiate","model_home_biology_detail","biology_detail_list","bind_button","addChild","getComponent","Label","string","name","zhong_zhu","grade","Sprite","spriteFrame","http_base_asset_biology","picture","special","score","yiXing","active","scoreGrade","maxNature","need_expe","state_name","bag","gooduse1","goods_image","point","http_base_asset_zhuangbei","gooduse2","yuanShen","on"],"mappings":"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","sourceRoot":"/","sourcesContent":["// require(\"../common\"); \r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n    //技能图片渲染\r\n    biology_detail_alert( ){\r\n        //info 为选中生物的info\r\n        var info = http_globalData.biology[http_globalData.biology_id]\r\n        // cc.log(http_globalData.bag)\r\n        http_globalAsset.TipBoxPrefab_model.getChildByName('左边弹窗').removeAllChildren();\r\n        http_globalAsset.TipBoxPrefab_model.getChildByName('中间弹窗').removeAllChildren();\r\n        http_globalAsset.TipBoxPrefab_model.getChildByName('右边弹窗').removeAllChildren();\r\n        \r\n        var _this=this;\r\n        // cc.loader.loadRes('/model背包/生物详情', function(errorMessage,loadedResource_icon){\r\n            //检查资源加载\r\n            // if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n            // if( !(loadedResource_icon instanceof cc.Prefab ) ) { cc.log( '你载入的不是预制资源!' ); return; }\r\n            //开始实例化预制资源\r\n            let   TipBoxPrefab =  cc.instantiate(http_globalAsset.model_home_biology_detail); //生物详情\r\n            //技能等级\r\n            // TipBoxPrefab.getChildByName('生物数量s').getComponent(cc.Label).string='生物('+info_list.length+'/60)'\r\n            // 由于加载资源的操作是异步的，如果在加载完成前就绑定了事件，有可能会触发事件的自动执行。\r\n            _this.biology_detail_list(TipBoxPrefab,info)\r\n            //绑定按钮事件\r\n            _this.bind_button(TipBoxPrefab,info);\r\n            //写入icon\r\n            http_globalAsset.TipBoxPrefab_model.getChildByName('生物详情').addChild(TipBoxPrefab);\r\n            // return TipBoxPrefab_model\r\n        // })\r\n        // //技能列表挂载--默认挂载信息\r\n        http_globalAsset.TipBoxPrefab_model.getComponent('biology_xinxiTools').biology_detail_alert(info)\r\n        // return TipBoxPrefab_model\r\n    },\r\n\r\n    //技能图片渲染\r\n    biology_detail_list(TipBoxPrefab,info){\r\n        // TipBoxPrefab.getChildByName('血s').getComponent(cc.Label).string= info.shengMing\r\n        // TipBoxPrefab.getChildByName('蓝s').getComponent(cc.Label).string= info.moFa\r\n        TipBoxPrefab.getChildByName('生物名称s').getComponent(cc.Label).string=info.name\r\n        TipBoxPrefab.getChildByName('种族s').getComponent(cc.Label).string=info.zhong_zhu+'族'\r\n        TipBoxPrefab.getChildByName('生物等级s').getComponent(cc.Label).string='等级'+info.grade\r\n        // TipBoxPrefab.getChildByName('触发概率s').getComponent(cc.Label).string='触发率'+info.chuFa+'%'\r\n        // //生物命名必须叫生物\r\n        //载入技能图片\r\n        // let image = info.picture;\r\n        // cc.loader.loadRes(image, cc.SpriteFrame, function (err, texture) { \r\n        //     if (err) {\r\n        //         // cc.error(err.message || err);\r\n        //         return;\r\n        //     }\r\n        TipBoxPrefab.getChildByName('生物').getComponent(cc.Sprite).spriteFrame = http_globalAsset.http_base_asset_biology[info.picture]\r\n        // });\r\n        TipBoxPrefab.getChildByName('战力s').getComponent(cc.Label).string='战力'+info.special\r\n        TipBoxPrefab.getChildByName('评分s').getComponent(cc.Label).string='评分:'+info.score/10\r\n\r\n        if(info.yiXing==1){\r\n            // cc.log(1111)\r\n            TipBoxPrefab.getChildByName('异形').active=true;\r\n        }else{\r\n            // cc.log(222)\r\n            TipBoxPrefab.getChildByName('异形').active=false;\r\n        }\r\n        TipBoxPrefab.getChildByName('稀有s').getComponent(cc.Label).string= info.scoreGrade\r\n        TipBoxPrefab.getChildByName('慧根值s').getComponent(cc.Label).string= info.maxNature\r\n        TipBoxPrefab.getChildByName('经验s').getComponent(cc.Label).string= info.need_expe\r\n\r\n        TipBoxPrefab.getChildByName('境界s').getComponent(cc.Label).string= info.state_name\r\n\r\n        //有背包物品\r\n        if(http_globalData.bag){\r\n            if(info.gooduse1){\r\n                var goods_image = http_globalData.bag[info.gooduse1].point\r\n                TipBoxPrefab.getChildByName('装备1').getComponent(cc.Sprite).spriteFrame = http_globalAsset.http_base_asset_zhuangbei[goods_image]\r\n            }\r\n            if(info.gooduse2){\r\n                var goods_image =http_globalData.bag[info.gooduse2].point\r\n                TipBoxPrefab.getChildByName('装备2').getComponent(cc.Sprite).spriteFrame = http_globalAsset.http_base_asset_zhuangbei[goods_image]\r\n            }\r\n            if(info.yuanShen){\r\n                var goods_image =http_globalData.bag[info.yuanShen].point\r\n                TipBoxPrefab.getChildByName('元神').getComponent(cc.Sprite).spriteFrame = http_globalAsset.http_base_asset_zhuangbei[goods_image]\r\n            }\r\n        }\r\n        return TipBoxPrefab\r\n    },\r\n    //绑定点击事件\r\n    bind_button(TipBoxPrefab,info){\r\n        http_globalAsset.TipBoxPrefab_model.getChildByName('左边弹窗').removeAllChildren();\r\n        http_globalAsset.TipBoxPrefab_model.getChildByName('中间弹窗').removeAllChildren();\r\n        http_globalAsset.TipBoxPrefab_model.getChildByName('右边弹窗').removeAllChildren();\r\n        //  cc.find(\"列表/content/gridLayout\",TipBoxPrefab)\r\n        TipBoxPrefab.getChildByName('装备1').on('click', function () {\r\n            // 事件处理逻辑\r\n            //移除挂载\r\n            // TipBoxPrefab_model.getChildByName('生物信息').removeAllChildren();\r\n            //重新挂载\r\n            http_globalAsset.TipBoxPrefab_model.getComponent('bag_物品Tools').biology_detail_alert(info.gooduse1,1,'装备1')\r\n        }, this);\r\n        TipBoxPrefab.getChildByName('装备2').on('click', function () {\r\n            // 事件处理逻辑\r\n            //移除挂载\r\n            // TipBoxPrefab_model.getChildByName('生物信息').removeAllChildren();\r\n            //重新挂载\r\n            http_globalAsset.TipBoxPrefab_model.getComponent('bag_物品Tools').biology_detail_alert(info.gooduse2,1,'装备2')\r\n        }, this);\r\n        TipBoxPrefab.getChildByName('元神').on('click', function () {\r\n            // 事件处理逻辑\r\n            //移除挂载\r\n            // TipBoxPrefab_model.getChildByName('生物信息').removeAllChildren();\r\n            //重新挂载\r\n            http_globalAsset.TipBoxPrefab_model.getComponent('bag_物品Tools').biology_detail_alert(info.yuanShen,4,'元神')\r\n        }, this);\r\n        // TipBoxPrefab.getChildByName('缘分').on('click', function () {\r\n        //     // 事件处理逻辑\r\n        //     //移除挂载\r\n        //     TipBoxPrefab_model.getChildByName('生物信息').removeAllChildren();\r\n        //     //重新挂载\r\n        //     TipBoxPrefab_model.getComponent('biology_yuanfenTools').biology_detail_alert(info)\r\n        // }, this);\r\n    },\r\n    // update (dt) {},\r\n});\r\n"]}