{"version":3,"sources":["assets\\Script\\login\\Alert.js"],"names":["cc","Class","Component","properties","gridLayout","Node","toolPrefab","Prefab","bt_StartGame","Button","onLoad","spawnTools","start","_this","HttpHelper","require","httpRequest","params","httpPost","data","console","log","cellWidth","width","cellHeight","height","spacingX","spacingY","getComponent","Layout","cellSize","toolsArray","TOOLS","server","i","length","tool","instantiate","initInfo","push","addChild","show_dlg","node","active","hidden_dlg","on","onStartGameTouchStart"],"mappings":"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","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        gridLayout: cc.Node,\r\n        toolPrefab: cc.Prefab,\r\n        bt_StartGame:cc.Button\r\n        // _alert:null, //提示框\r\n        // _btnOK:null, //提示框确定按钮\r\n        // _btnCancel:null, //提示框取消按钮\r\n        // _title:null, //提示框标题\r\n        // _content:null, //提示框内容\r\n        // _btnOKCallback:null, //点击确定按钮的回调事件\r\n        // mask:{\r\n        //     type:cc.node,\r\n        //     default:null\r\n        // },\r\n        // dlg:{\r\n        //     type:cc.node,\r\n        //     default:null\r\n        // },\r\n        // server:{\r\n        //     type:cc.node,\r\n        //     default:true\r\n        // },\r\n\r\n        // tips:{\r\n        //     type:cc.node,\r\n        //     default:true\r\n        // },\r\n        // gridLayout:{\r\n        //     type:cc.node,\r\n        //     default:true\r\n        // },\r\n        // toolPrefab:{\r\n        //     type:cc.node,\r\n        //     default:true\r\n        // },\r\n        // mask_opacity: 100,\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () { \r\n             // 生成所有道具\r\n             this.spawnTools();   \r\n    },\r\n\r\n    start () {\r\n        // this.node.active =false;\r\n    },\r\n    spawnTools () {\r\n        var _this =this;\r\n        var HttpHelper = require(\"http\"); \r\n        var httpRequest = new HttpHelper();\r\n        var params = {\r\n                'page': 1,\r\n                'pageSize': 8,\r\n        };\r\n        httpRequest.httpPost('https://www.mheart.xyz/app/api-server/user-register', params, function (data) {\r\n          console.log(data);\r\n        //   for(let i = 0; i < data.data.server; i ++) {\r\n        //     this.view[path + root.children[i].name] = root.children[i];\r\n        //     this.load_all_object(root.children[i], path + root.children[i].name + \"/\");\r\n        //     }\r\n            // console.log(_this.gridLayout)\r\n            // let cellWidth = _this.gridLayout.width * 0.105;\r\n            // let cellHeight = _this.gridLayout.height * 0.215;\r\n            // let spacingX = _this.gridLayout.width * 0.022;\r\n            // let spacingY = _this.gridLayout.height * 0.045;\r\n\r\n            let cellWidth = _this.gridLayout.width * 0.45;\r\n            let cellHeight = _this.gridLayout.height * 0.2;\r\n            let spacingX = _this.gridLayout.width * 0.05;\r\n            let spacingY = _this.gridLayout.height * 0.05;\r\n\r\n      \r\n            _this.gridLayout.getComponent(cc.Layout).cellSize.width = cellWidth;\r\n            _this.gridLayout.getComponent(cc.Layout).cellSize.height = cellHeight;\r\n            _this.gridLayout.getComponent(cc.Layout).spacingX = spacingX;\r\n            _this.gridLayout.getComponent(cc.Layout).spacingY = spacingY;\r\n            // 根据TOOLS生成相应的道具\r\n            _this.toolsArray = [];\r\n            let TOOLS = data.data.server;\r\n          \r\n            for (let i=0; i<data.data.server.length; i++) {\r\n                let tool = cc.instantiate(_this.toolPrefab);\r\n                // console.log(TOOLS[i])\r\n                // _this.gridLayout.addChild(tool);\r\n                tool.getComponent('Tools').initInfo(TOOLS[i]);\r\n                _this.toolsArray.push(tool);\r\n                _this.gridLayout.addChild(tool);\r\n                \r\n            }\r\n \r\n        })\r\n    },\r\n\r\n\r\n    show_dlg () {\r\n       \r\n        this.node.active =true;\r\n\r\n        // this.mask,opacity = 0;\r\n        // var ac1 =cc.fadeTo(0.3,this.mask_opacity);\r\n        // this.mask.runAction(ac1);\r\n        // this.dlg.scale =0;\r\n        // var ac2 =cc.scaleTo(0.3,1).easing(cc.easeBackout());\r\n        // this.dlg.runAction(ac2);\r\n\r\n        // // 背包按钮\r\n        // if (this.gridLayout.parent.active) {\r\n        //     // 隐藏节点\r\n        //     this.gridLayout.parent.active = false;\r\n\r\n        //     // 删除所有道具(或者不删，只是隐藏，自己决定)\r\n        //     this.toolsArray.forEach(element => {\r\n        //         element.removeFromParent();\r\n        //     });\r\n        // }\r\n        // else {\r\n            // 显示节点\r\n            // this.gridLayout.parent.active = true;\r\n\r\n   \r\n        // }\r\n     \r\n    },\r\n\r\n    hidden_dlg () {\r\n        // this.gridLayout.destroy();\r\n        // var ac1 =cc.fadeOut(0.3);\r\n        // this.mask.runAction(ac1);\r\n        // console.log( getComponent(cc.Label));\r\n        // var ac2 =cc.scaleTo(0.3,0).easing(cc.easeBackIn());\r\n        // this.dlg.runAction(ac2);\r\n        // this.node.destroy();\r\n        this.bt_StartGame.node.on(\"touchstart\", this.onStartGameTouchStart, this);\r\n        console.log( this.bt_StartGame.node);\r\n    \r\n        this.node.active =false;\r\n        // 请求更换 server\r\n \r\n    },\r\n    onStartGameTouchStart() {\r\n        console.log(\"1111\");\r\n        // console.log(\"onStartGameTouchStart.\");\r\n        // cc.director.loadScene(\"GameScene\");\r\n    }  \r\n\r\n\r\n});\r\n"]}