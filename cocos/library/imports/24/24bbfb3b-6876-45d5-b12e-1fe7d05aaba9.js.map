{"version":3,"sources":["assets\\Script\\commonApi\\asset.js"],"names":["httpAsset","cc","Class","Component","http_base_asset","http_globalAsset","http_base_asset_biology","length","httpRequestAsset","http_base_asset_skill","http_base_asset_xiaoguo","http_base_asset_zhuangbei","Promise","resolve","loader","loadResDir","err","assets","error","i","asset","SpriteFrame","newname","name","window"],"mappings":";;;;;;;;;;AAAA;AACA,IAAMA,SAAS,GAAGC,EAAE,CAACC,KAAH,CAAS;AACvB,aAASD,EAAE,CAACE,SADW;AAEvB;AACMC,EAAAA,eAHiB,6BAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAChBC,gBAAgB,CAACC,uBAAjB,CAAyCC,MAAzC,IAAiD,EADjC;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAETC,gBAAgB,CAACF,uBAAjB,EAFS;;AAAA;AAAA,oBAIhBD,gBAAgB,CAACI,qBAAjB,CAAuCF,MAAvC,IAA+C,EAJ/B;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAKTC,gBAAgB,CAACC,qBAAjB,EALS;;AAAA;AAAA,oBAOhBJ,gBAAgB,CAACK,uBAAjB,CAAyCH,MAAzC,IAAiD,EAPjC;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAQTC,gBAAgB,CAACE,uBAAjB,EARS;;AAAA;AAAA,oBAUhBL,gBAAgB,CAACM,yBAAjB,CAA2CJ,MAA3C,IAAmD,EAVnC;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAWTC,gBAAgB,CAACG,yBAAjB,EAXS;;AAAA;AAAA,+CAaZ,QAbY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AActB,GAjBsB;AAkBtB;AACML,EAAAA,uBAnBgB,qCAmBS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDAErB,IAAIM,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC1BR,gBAAAA,gBAAgB,CAACC,uBAAjB,GAA0C,EAA1C,CAD0B,CAE5B;;AACAL,gBAAAA,EAAE,CAACa,MAAH,CAAUC,UAAV,CAAqB,MAArB,EAA4B,UAACC,GAAD,EAAMC,MAAN,EAAiB;AACzC,sBAAID,GAAJ,EAAS;AAAEf,oBAAAA,EAAE,CAACiB,KAAH,CAASF,GAAT;AAAc;AAAQ,mBADQ,CAEzC;;;AACA,uBAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAIF,MAAM,CAACV,MAA5B,EAAoCY,CAAC,EAArC,EAAyC;AACrC,wBAAIC,KAAK,GAAGH,MAAM,CAACE,CAAD,CAAlB,CADqC,CAErC;;AACA,wBAAGC,KAAK,YAAYnB,EAAE,CAACoB,WAAvB,EAAmC;AACjC,0BAAIC,OAAO,GAAEF,KAAK,CAACG,IAAnB;AACAlB,sBAAAA,gBAAgB,CAACC,uBAAjB,CAAyCgB,OAAzC,IAAoDF,KAApD;AACD;AACJ;;AACDP,kBAAAA,OAAO;AACV,iBAZD;AAcD,eAjBM,CAFqB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoB/B,GAvCsB;AAwCvB;AACMJ,EAAAA,qBAzCiB,mCAyCM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDAElB,IAAIG,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC5BR,gBAAAA,gBAAgB,CAACI,qBAAjB,GAAwC,EAAxC,CAD4B,CAE5B;;AACAR,gBAAAA,EAAE,CAACa,MAAH,CAAUC,UAAV,CAAqB,MAArB,EAA4B,UAACC,GAAD,EAAMC,MAAN,EAAiB;AACzC,sBAAID,GAAJ,EAAS;AAAEf,oBAAAA,EAAE,CAACiB,KAAH,CAASF,GAAT;AAAc;AAAQ,mBADQ,CAEzC;;;AACA,uBAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAIF,MAAM,CAACV,MAA5B,EAAoCY,CAAC,EAArC,EAAyC;AACrC,wBAAIC,KAAK,GAAGH,MAAM,CAACE,CAAD,CAAlB,CADqC,CAErC;;AACA,wBAAGC,KAAK,YAAYnB,EAAE,CAACoB,WAAvB,EAAmC;AACjC,0BAAIC,OAAO,GAAEF,KAAK,CAACG,IAAnB;AACAlB,sBAAAA,gBAAgB,CAACI,qBAAjB,CAAuCa,OAAvC,IAAkDF,KAAlD;AACD;AACJ;;AACDP,kBAAAA,OAAO;AACV,iBAZD;AAcD,eAjBM,CAFkB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoB5B,GA7DsB;AA+DjBH,EAAAA,uBA/DiB,qCA+DQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDAEpB,IAAIE,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC5BR,gBAAAA,gBAAgB,CAACK,uBAAjB,GAA0C,EAA1C,CAD4B,CAE5B;;AACAT,gBAAAA,EAAE,CAACa,MAAH,CAAUC,UAAV,CAAqB,QAArB,EAA8B,UAACC,GAAD,EAAMC,MAAN,EAAiB;AAC3C,sBAAID,GAAJ,EAAS;AAAEf,oBAAAA,EAAE,CAACiB,KAAH,CAASF,GAAT;AAAc;AAAQ,mBADU,CAE3C;;;AACA,uBAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAIF,MAAM,CAACV,MAA5B,EAAoCY,CAAC,EAArC,EAAyC;AACrC,wBAAIC,KAAK,GAAGH,MAAM,CAACE,CAAD,CAAlB,CADqC,CAErC;;AACA,wBAAGC,KAAK,YAAYnB,EAAE,CAACoB,WAAvB,EAAmC;AACjC,0BAAIC,OAAO,GAAEF,KAAK,CAACG,IAAnB;AACAlB,sBAAAA,gBAAgB,CAACK,uBAAjB,CAAyCY,OAAzC,IAAoDF,KAApD;AACD;AACJ;;AACDP,kBAAAA,OAAO;AACV,iBAZD;AAcD,eAjBM,CAFoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoB9B,GAnFsB;AAqFjBF,EAAAA,yBArFiB,uCAqFU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDAEtB,IAAIC,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC5BR,gBAAAA,gBAAgB,CAACM,yBAAjB,GAA4C,EAA5C,CAD4B,CAE5B;;AACAV,gBAAAA,EAAE,CAACa,MAAH,CAAUC,UAAV,CAAqB,MAArB,EAA4B,UAACC,GAAD,EAAMC,MAAN,EAAiB;AACzC,sBAAID,GAAJ,EAAS;AAAEf,oBAAAA,EAAE,CAACiB,KAAH,CAASF,GAAT;AAAc;AAAQ,mBADQ,CAEzC;;;AACA,uBAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAIF,MAAM,CAACV,MAA5B,EAAoCY,CAAC,EAArC,EAAyC;AACrC,wBAAIC,KAAK,GAAGH,MAAM,CAACE,CAAD,CAAlB,CADqC,CAErC;;AACA,wBAAGC,KAAK,YAAYnB,EAAE,CAACoB,WAAvB,EAAmC;AACjC,0BAAIC,OAAO,GAAEF,KAAK,CAACG,IAAnB;AACAlB,sBAAAA,gBAAgB,CAACM,yBAAjB,CAA2CW,OAA3C,IAAsDF,KAAtD;AACD;AACJ;;AACDP,kBAAAA,OAAO;AACV,iBAZD;AAcD,eAjBM,CAFsB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBhC;AAzGsB,CAAT,CAAlB;AA6GAW,MAAM,CAAChB,gBAAP,GAA0B,IAAIR,SAAJ,EAA1B","sourceRoot":"/","sourcesContent":["// 加载资源图片\r\nconst httpAsset = cc.Class({\r\n    extends: cc.Component,\r\n    //引入的基础类--图片资源\r\n    async http_base_asset(){\r\n        if(http_globalAsset.http_base_asset_biology.length==[]){\r\n            await httpRequestAsset.http_base_asset_biology() //图标生物\r\n        }\r\n        if(http_globalAsset.http_base_asset_skill.length==[]){\r\n            await httpRequestAsset.http_base_asset_skill() //图标技能\r\n        }\r\n        if(http_globalAsset.http_base_asset_xiaoguo.length==[]){\r\n            await httpRequestAsset.http_base_asset_xiaoguo() //图标技能效果\r\n        }\r\n        if(http_globalAsset.http_base_asset_zhuangbei.length==[]){\r\n            await httpRequestAsset.http_base_asset_zhuangbei() //图标装备\r\n        }\r\n        return '加载资源图片'\r\n    },\r\n     //实例化角色图片\r\n     async http_base_asset_biology(){\r\n        //修改请求--等待响应后回调\r\n        return new Promise(resolve => {\r\n            http_globalAsset.http_base_asset_biology =[];\r\n          // 加载资源目录\r\n          cc.loader.loadResDir(\"图标生物\",(err, assets) => {\r\n              if (err) { cc.error(err);return;}\r\n              // 遍历加载的资源\r\n              for (var i = 1; i <= assets.length; i++) {\r\n                  var asset = assets[i];\r\n                  // 检查资源是否为图片类型\r\n                  if(asset instanceof cc.SpriteFrame){\r\n                    var newname =asset.name;\r\n                    http_globalAsset.http_base_asset_biology[newname] = asset \r\n                  }\r\n              }\r\n              resolve();\r\n          });\r\n   \r\n        });\r\n    }, \r\n    //技能\r\n    async http_base_asset_skill(){\r\n        //修改请求--等待响应后回调\r\n        return new Promise(resolve => {\r\n          http_globalAsset.http_base_asset_skill =[];\r\n          // 加载资源目录\r\n          cc.loader.loadResDir(\"图标技能\",(err, assets) => {\r\n              if (err) { cc.error(err);return;}\r\n              // 遍历加载的资源\r\n              for (var i = 1; i <= assets.length; i++) {\r\n                  var asset = assets[i];\r\n                  // 检查资源是否为图片类型\r\n                  if(asset instanceof cc.SpriteFrame){\r\n                    var newname =asset.name;\r\n                    http_globalAsset.http_base_asset_skill[newname] = asset \r\n                  }\r\n              }\r\n              resolve();\r\n          });\r\n   \r\n        });\r\n    }, \r\n\r\n    async http_base_asset_xiaoguo(){\r\n        //修改请求--等待响应后回调\r\n        return new Promise(resolve => {\r\n          http_globalAsset.http_base_asset_xiaoguo =[];\r\n          // 加载资源目录\r\n          cc.loader.loadResDir(\"图标技能效果\",(err, assets) => {\r\n              if (err) { cc.error(err);return;}\r\n              // 遍历加载的资源\r\n              for (var i = 1; i <= assets.length; i++) {\r\n                  var asset = assets[i];\r\n                  // 检查资源是否为图片类型\r\n                  if(asset instanceof cc.SpriteFrame){\r\n                    var newname =asset.name;\r\n                    http_globalAsset.http_base_asset_xiaoguo[newname] = asset \r\n                  }\r\n              }\r\n              resolve();\r\n          });\r\n   \r\n        });\r\n    }, \r\n\r\n    async http_base_asset_zhuangbei(){\r\n        //修改请求--等待响应后回调\r\n        return new Promise(resolve => {\r\n          http_globalAsset.http_base_asset_zhuangbei =[];\r\n          // 加载资源目录\r\n          cc.loader.loadResDir(\"图标装备\",(err, assets) => {\r\n              if (err) { cc.error(err);return;}\r\n              // 遍历加载的资源\r\n              for (var i = 1; i <= assets.length; i++) {\r\n                  var asset = assets[i];\r\n                  // 检查资源是否为图片类型\r\n                  if(asset instanceof cc.SpriteFrame){\r\n                    var newname =asset.name;\r\n                    http_globalAsset.http_base_asset_zhuangbei[newname] = asset \r\n                  }\r\n              }\r\n              resolve();\r\n          });\r\n   \r\n        });\r\n    }, \r\n\r\n \r\n});\r\nwindow.httpRequestAsset = new httpAsset();"]}