{"version":3,"sources":["assets\\Script\\home\\bag_物品Tools.js"],"names":["HttpHelper","require","httpRequest","cc","Class","Component","properties","biology_detail_alert","TipBoxPrefab_model","goodsid","gooduse_type","button_name","info","globalData","bag","gooduse_type_name","gooduse","_this","loader","loadRes","errorMessage","loadedResource_icon","log","Prefab","TipBoxPrefab","instantiate","getChildByName","getComponent","Label","string","name","biology_detail_list","bind_button","addChild","info_list","TOOLS","num_height","prop","TipBoxPrefab_icon","image","point","SpriteFrame","err","texture","Sprite","spriteFrame","bind_button_detail","is_bag","active","find","scorllheight","parent","line_hight","Math","ceil","cellHeight","height","setContentSize","bind_button_page","on","new_page","parseInt","page","page_size","scorll_page","scrollView","ScrollView","y","total_page","removeAllChildren","id","TipBoxPrefab_biology_detail"],"mappings":"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","sourceRoot":"/","sourcesContent":["var HttpHelper = require(\"../http\"); \r\nvar httpRequest = new HttpHelper();\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n     //技能图片渲染\r\n     biology_detail_alert(TipBoxPrefab_model,goodsid,gooduse_type,button_name){\r\n        //加载背包 和  背包列表\r\n        let info = cc.globalData.bag\r\n        let gooduse_type_name = cc.globalData.gooduse;\r\n        // //查看详情--弹出一次已装备详情\r\n        // if(goodsid){\r\n        //     // cc.log(goodsid)\r\n        //     TipBoxPrefab_model.getComponent('bag_详情Tools').biology_detail_alert(TipBoxPrefab_model,info[goodsid],gooduse_type,button_name,0)\r\n        // }\r\n        // gooduse_type  1武器\r\n        var gooduse_type=gooduse_type||1;\r\n        var _this=this;\r\n        cc.loader.loadRes('/model背包/背包装备', function(errorMessage,loadedResource_icon){\r\n            //检查资源加载\r\n            if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n            if( !(loadedResource_icon instanceof cc.Prefab ) ) { cc.log( '你载入的不是预制资源!' ); return; }\r\n            //开始实例化预制资源\r\n            let   TipBoxPrefab =  cc.instantiate(loadedResource_icon);\r\n            //技能等级\r\n            // TipBoxPrefab.getChildByName('生物数量s').getComponent(cc.Label).string='生物('+info_list.length+'/60)'\r\n            // 由于加载资源的操作是异步的，如果在加载完成前就绑定了事件，有可能会触发事件的自动执行。\r\n            \r\n            \r\n            //修改背包标题-----弹窗的标题修改\r\n            TipBoxPrefab.getChildByName('标题s').getComponent(cc.Label).string=gooduse_type_name[gooduse_type].name\r\n\r\n\r\n            // 由于加载资源的操作是异步的，如果在加载完成前就绑定了事件，有可能会触发事件的自动执行。\r\n            _this.biology_detail_list(TipBoxPrefab_model,TipBoxPrefab,info,gooduse_type,button_name,goodsid) \r\n               // 此处进行事件绑定\r\n            _this.bind_button(TipBoxPrefab_model,TipBoxPrefab,info)\r\n            //写入icon\r\n            TipBoxPrefab_model.getChildByName('左边弹窗').addChild(TipBoxPrefab);\r\n            return TipBoxPrefab_model\r\n        })\r\n        return TipBoxPrefab_model\r\n    },\r\n    //list渲染\r\n    biology_detail_list(TipBoxPrefab_model,TipBoxPrefab,info_list,gooduse_type,button_name,goodsid){\r\n        //获取点击物品的类型\r\n        var _this =this;\r\n        var TOOLS =[];\r\n        var TOOLS = info_list\r\n \r\n        //加载预制资源 PrefabUrl为 预制资源在 资源中的路径\r\n        cc.loader.loadRes('/model背包/图标背包装备', function(errorMessage,loadedResource_icon){\r\n            var num_height=0;\r\n            for ( var prop in TOOLS) {\r\n                let info = TOOLS[prop];\r\n                //1是武器\r\n                if(info.gooduse==gooduse_type){\r\n                    var num_height =num_height+1\r\n                        //检查资源加载\r\n                        if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n                        if( !(loadedResource_icon instanceof cc.Prefab ) ) { cc.log( '你载入的不是预制资源!' ); return; }\r\n                        // //开始实例化预制资源\r\n                        let   TipBoxPrefab_icon =  cc.instantiate(loadedResource_icon);\r\n                        // //载入技能图片\r\n                        let image = info.point;\r\n           \r\n                        cc.loader.loadRes(image, cc.SpriteFrame, function (err, texture) { \r\n                            if (err) {\r\n                                // cc.error(err.message || err);\r\n                                return;\r\n                            }\r\n                            TipBoxPrefab_icon.getChildByName('P技能').getComponent(cc.Sprite).spriteFrame = texture; \r\n                        });\r\n                        // //技能等级\r\n                        TipBoxPrefab_icon.getChildByName('技能s').getComponent(cc.Label).string=info.name        \r\n                        // // 由于加载资源的操作是异步的，如果在加载完成前就绑定了事件，有可能会触发事件的自动执行。\r\n                        //重新挂载\r\n                        _this.bind_button_detail(TipBoxPrefab_model,TipBoxPrefab_icon,info,gooduse_type,button_name,goodsid)\r\n                        // //写入icon\r\n                        // TipBoxPrefab.getChildByName('技能列表').addChild(TipBoxPrefab_icon);\r\n                        //隐藏已经使用的装备\r\n                        if(info.is_bag==1){\r\n                            TipBoxPrefab_icon.active=false\r\n                        }\r\n                        //写入icon\r\n                        cc.find(\"列表/content/gridLayout\",TipBoxPrefab).addChild(TipBoxPrefab_icon);\r\n                }\r\n            }\r\n    \r\n            // 定义content滚动条高度\r\n            let scorllheight =  cc.find(\"列表/content/gridLayout\",TipBoxPrefab).parent;\r\n            //滚动高度= 预制体100*个数+ 上下 预留10 的位置  \r\n            //列个数--进1取整\r\n            let line_hight =Math.ceil(num_height/3)\r\n            let cellHeight =  cc.find(\"列表/content/gridLayout\",TipBoxPrefab).height * 0.25+10;\r\n            let  height =  cellHeight*(line_hight )\r\n            if(height<=420){\r\n                let height = 420\r\n            }\r\n            //设置滚动条高度\r\n            scorllheight.setContentSize(500,height)\r\n\r\n            TipBoxPrefab.getChildByName('总数s').getComponent(cc.Label).string =Math.ceil(num_height/12)\r\n            // 此处进行事件绑定\r\n            _this.bind_button_page(TipBoxPrefab_model,TipBoxPrefab)\r\n        })\r\n\r\n   \r\n        return TipBoxPrefab\r\n    },\r\n    //分页\r\n    bind_button_page(TipBoxPrefab_model,TipBoxPrefab_icon){\r\n        TipBoxPrefab_icon.getChildByName('上一页').on('click', function () {\r\n           var new_page = TipBoxPrefab_icon.getChildByName('页码s').getComponent(cc.Label).string\r\n           var new_page = parseInt(new_page)\r\n            if(new_page>1){\r\n                new_page= parseInt(new_page-1)\r\n                 TipBoxPrefab_icon.getChildByName('页码s').getComponent(cc.Label).string =new_page\r\n            }\r\n            //12个一页/3   = 每页的列数4列\r\n           var page = new_page\r\n           var page_size =12/3\r\n           let cellHeight =  cc.find(\"列表/content/gridLayout\",TipBoxPrefab_icon).height * 0.25+10;\r\n           var scorll_page = (cellHeight*page_size*(page-1))+210;\r\n   \r\n           // 获取ScrollBar组件\r\n           var scrollView = TipBoxPrefab_icon.getComponent(cc.ScrollView)\r\n           cc.find(\"列表/content/gridLayout\",TipBoxPrefab_icon).parent.y = scorll_page; // 水平居中\r\n        }, this);\r\n        TipBoxPrefab_icon.getChildByName('下一页').on('click', function () {\r\n            var total_page = TipBoxPrefab_icon.getChildByName('总数s').getComponent(cc.Label).string\r\n            var total_page = parseInt(total_page)\r\n            var new_page = TipBoxPrefab_icon.getChildByName('页码s').getComponent(cc.Label).string\r\n            var new_page = parseInt(new_page)\r\n            if(new_page<total_page){\r\n                new_page= parseInt(new_page+1)\r\n                TipBoxPrefab_icon.getChildByName('页码s').getComponent(cc.Label).string =new_page\r\n            }\r\n           //12个一页/3   = 每页的列数4列\r\n           var page = new_page\r\n           var page_size =12/3\r\n           let cellHeight =  cc.find(\"列表/content/gridLayout\",TipBoxPrefab_icon).height * 0.25+10;\r\n           var scorll_page = (cellHeight*page_size*(page-1))+210;\r\n         \r\n           // 获取ScrollBar组件\r\n           var scrollView = TipBoxPrefab_icon.getComponent(cc.ScrollView)\r\n           cc.find(\"列表/content/gridLayout\",TipBoxPrefab_icon).parent.y = scorll_page; // 水平居中\r\n\r\n        }, this);\r\n\r\n    },\r\n    //绑定点击事件--关闭遮罩\r\n    bind_button(TipBoxPrefab_model,TipBoxPrefab_icon){\r\n        TipBoxPrefab_icon.getChildByName('遮罩').on('click', function () {\r\n            // 事件处理逻辑\r\n            //移除挂载\r\n            TipBoxPrefab_model.getChildByName('左边弹窗').removeAllChildren();\r\n\r\n        }, this);\r\n\r\n    },\r\n    //绑定点击事件--alert详情\r\n    bind_button_detail(TipBoxPrefab_model,TipBoxPrefab_icon,info,gooduse_type,button_name,goodsid){\r\n        TipBoxPrefab_icon.on('click', function () {\r\n            TipBoxPrefab_model.getComponent('bag_详情Tools').biology_detail_alert(TipBoxPrefab_model,TipBoxPrefab_icon,info,gooduse_type,button_name,1)\r\n        //     // 事件处理逻辑\r\n        //     //移除挂载\r\n        //     TipBoxPrefab_model.getChildByName('左边弹窗').removeAllChildren();\r\n        //     //重新挂载\r\n        //     // TipBoxPrefab_model.getComponent('biology_skillTools').biology_detail_alert(TipBoxPrefab_model,info)\r\n        }, this);\r\n        // //查看详情--弹出一次已装备详情--如果点击带id，并且相等，弹窗窗口\r\n        if(goodsid==info.id){\r\n            \r\n            //当前弹出的预制节点\r\n            cc.globalData.TipBoxPrefab_biology_detail = TipBoxPrefab_icon;\r\n            // cc.log(goodsid)\r\n            TipBoxPrefab_model.getComponent('bag_详情Tools').biology_detail_alert(TipBoxPrefab_model,TipBoxPrefab_icon,info,gooduse_type,button_name,0)\r\n        }\r\n\r\n    },\r\n\r\n\r\n});\r\n"]}