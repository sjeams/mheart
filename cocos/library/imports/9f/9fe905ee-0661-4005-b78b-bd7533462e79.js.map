{"version":3,"sources":["assets\\Script\\scence\\wordTools.js"],"names":["HttpHelper","require","httpRequest","cc","Class","Component","properties","biology_detail_list","TipBoxPrefab_model","info_list","_this","TOOLS","loader","loadRes","errorMessage","loadedResource_icon","log","Prefab","TipBoxPrefab_icon","instantiate","info","prop","image","picture","SpriteFrame","err","texture","getChildByName","getComponent","Sprite","spriteFrame","color","type_color","star","i","Label","string","name","type_name","onConfirBtn","addChild","on","httpPost","id","data","playGame","urlConfig"],"mappings":"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","sourceRoot":"/","sourcesContent":["var HttpHelper = require(\"../http\"); \r\nvar httpRequest = new HttpHelper();\r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n    },\r\n    //技能图片渲染\r\n    biology_detail_list(TipBoxPrefab_model,info_list){\r\n        var _this =this;\r\n        var TOOLS =[];\r\n        var TOOLS = info_list;\r\n        // let image = '/技能图标/'+skill.image;\r\n        //加载预制资源 PrefabUrl为 预制资源在 资源中的路径\r\n        cc.loader.loadRes('/fighting/sprite_世界', function(errorMessage,loadedResource_icon){\r\n            //检查资源加载\r\n            if( errorMessage ) { cc.log( '载入预制资源失败, 原因:' + errorMessage ); return; }\r\n            if( !(loadedResource_icon instanceof cc.Prefab ) ) { cc.log( '你载入的不是预制资源!' ); return; }\r\n            //开始实例化预制资源\r\n            for (var prop in info_list) {\r\n                //声明节点对象\r\n                let TipBoxPrefab_icon =  cc.instantiate(loadedResource_icon);\r\n                let info = TOOLS[prop];\r\n                //放在资源下面\r\n                let image = info.picture;\r\n                cc.log(image)\r\n                cc.loader.loadRes(image, cc.SpriteFrame, function (err, texture) { \r\n                    if (err) {\r\n                        // cc.error(err.message || err);\r\n                        return;\r\n                    }\r\n                    TipBoxPrefab_icon.getChildByName('世界').getComponent(cc.Sprite).spriteFrame = texture; \r\n                });\r\n                var color = ['#ffffff','green','#BDFF00','#FFD100','#FF0000','#ffe000',];\r\n                var type_color = color[info['type']];\r\n                // console.log(info)\r\n                var star ='';    \r\n                for(var i=0;i<=info['star'];i++){\r\n                    star +='⭐';\r\n                }\r\n                TipBoxPrefab_icon.getChildByName('名称').getComponent(cc.Label).string=info.name;\r\n                TipBoxPrefab_icon.getChildByName('名称').color = new cc.color(type_color);\r\n                TipBoxPrefab_icon.getChildByName('世界等级').getComponent(cc.Label).string= info.type_name;\r\n                TipBoxPrefab_icon.getChildByName('世界等级').color = new cc.color(type_color);\r\n                TipBoxPrefab_icon.getChildByName('星级').getComponent(cc.Label).string= star;\r\n                //创建一个新button 并将其挂载到创建的精灵下\r\n                _this.onConfirBtn(TipBoxPrefab_icon,info);\r\n                //写入icon\r\n                TipBoxPrefab_model.addChild(TipBoxPrefab_icon);\r\n       \r\n            }\r\n        })\r\n        return TipBoxPrefab_model\r\n    },\r\n    // initInfo (info) {\r\n    //     // 初始化该道具相关信息\r\n    //     // 图片\r\n    //     // var _self = this;\r\n    //     // var remoteUrl = httpRequest.httpUrl(info['picture']);\r\n    //     // cc.loader.load({ url: remoteUrl }, function (err, texture) {  \r\n    //     //     // _self.node.getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(texture)\r\n    //     //     if (err) {\r\n    //     //         // cc.error(err.message || err);\r\n    //     //         return;\r\n    //     //     }\r\n    //     //     if(texture){\r\n    //     //         _self.node.getChildByName('世界').getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(texture);\r\n    //     //     }\r\n    //     // });\r\n    // },\r\n \r\n    //按钮点击回调\r\n    onConfirBtn:function(TipBoxPrefab_icon,info){\r\n        var _this =this;\r\n        TipBoxPrefab_icon.on('click', function () {\r\n            httpRequest.httpPost('/app/app-apiword/in-word', {\r\n                'wordid': info.id,\r\n                'star': info.star,\r\n            }, function (data) {\r\n                //跳转到世界\r\n                httpRequest.playGame(httpRequest.urlConfig(\"sence_ditu\"));\r\n            })\r\n        })\r\n    },\r\n \r\n \r\n});\r\n"]}